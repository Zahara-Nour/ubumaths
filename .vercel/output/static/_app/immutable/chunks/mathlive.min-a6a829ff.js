function Ze(t){return Array.isArray(t)}function me(){return"window"in globalThis&&"document"in globalThis}function kt(){if(!me())throw new Error(`<math-field> is an interactive component that needs to run in a browser environment
If you are using nextjs, see https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr`)}function oo(){return!!me()&&(window.matchMedia?window.matchMedia("(any-pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0)}function Vo(){return me()&&typeof navigator.vibrate=="function"}function gn(){var t,e;if(!me())return"other";const i=(e=(t=navigator.userAgentData)===null||t===void 0?void 0:t.platform)!==null&&e!==void 0?e:navigator.platform;return/^mac/i.test(i)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(i)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function Sl(){if(!me())return!0;if(/firefox/i.test(navigator.userAgent)){const t=navigator.userAgent.match(/firefox\/(\d+)/i);return!!t&&parseInt(t[1])>=78}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){const t=navigator.userAgent.match(/edg\/(\d+)/i);return!!t&&parseInt(t[1])>=79}return!0}const Vt={},zr={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},jt={},Ro={},M0={iff:"\\;\u27FA\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}","braket.sty":{package:{bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},expand:!1},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",weierp:"\\wp",Zeta:"\\mathrm{Z}"},expand:!1}},Yt={" ":32,"\\#":35,"\\&":38,"\\$":36,"\\%":37,"\\_":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbraceleft":123,"\\textbraceright":125,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"\u2013":8211,"\u2014":8212,"\u2018":8216,"\u2019":8217,"\u201C":8220,"\u201D":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},N0=/[\w!@*()-=+{}[\]\\';:?/.,~<>`|$%#&^" ]/,L0=Sl()?new RegExp("\\p{Letter}","u"):/[a-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,qr=Sl()?new RegExp("[0-9\\p{Letter}]","u"):/[\da-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/;function so(t,e,i="mord",n){e!==void 0&&(Vt[t]={definitionType:"symbol",type:i,variant:n,codepoint:e},zr[e]||(zr[e]=t),Yt[t]||(Yt[t]=e))}function Ye(t,e,i){if(typeof t!="string")for(const[n,r,a,o]of t)so(n,r,a!=null?a:e,o!=null?o:i);else for(let n=0;n<t.length;n++){const r=t.charAt(n);so(r,r.codePointAt(0))}}function ls(t,e){for(let i=t;i<=e;i++)so(String.fromCodePoint(i),i)}function Ir(t,e){if(e===void 0)return"";if(t==="math"&&zr[e])return zr[e];if(t==="text"){let i=Object.keys(Yt).find(n=>Yt[n]===e);if(!i){const n=e.toString(16);i="^".repeat(n.length)+n}return i}return String.fromCodePoint(e)}const lo={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Ml=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function us(t){let e="auto";const i=t.match(/:([^=]+)/);return i&&(e=i[1].trim()),e}function Fr(t){if(!t)return[];const e=[];let i=t.split("]");if(i[0].startsWith("[")){e.push({isOptional:!0,type:us(i[0].slice(1))});for(let n=1;n<=i.length;n++)e.push(...Fr(i[n]))}else if(i=t.split("}"),i[0].startsWith("{")){e.push({isOptional:!1,type:us(i[0].slice(1))});for(let n=1;n<=i.length;n++)e.push(...Fr(i[n]))}return e}function cs(t){if(!t)return"";let e="",i=!0;for(const n of t)typeof n.value=="string"?e+=n.value:i=!1;return i?e:""}function Lr(t,e,i,n=!1){typeof t=="string"&&(t=[t]);const r={tabular:n,params:Fr(e),createAtom:i};for(const a of t)Ro[a]=r}function $t(t,e,i){Lr(t,e,i,!0)}function B(t,e,i){var n,r;i||(i={});const a={definitionType:"function",params:Fr(e),ifMode:i.ifMode,isFunction:(n=i.isFunction)!==null&&n!==void 0&&n,applyMode:i.applyMode,infix:(r=i.infix)!==null&&r!==void 0&&r,createAtom:i.createAtom,applyStyle:i.applyStyle};if(typeof t=="string")jt["\\"+t]=a;else for(const o of t)jt["\\"+o]=a}let mr;function Nl(t){return mr||(mr=uo(M0)),t?uo({...mr,...t}):mr}function ds(t,e){var i,n,r,a;if(typeof t=="string"){let o=0;const l=t;return/(^|[^\\])#1/.test(l)&&(o=1),/(^|[^\\])#2/.test(l)&&(o=2),/(^|[^\\])#3/.test(l)&&(o=3),/(^|[^\\])#4/.test(l)&&(o=4),/(^|[^\\])#5/.test(l)&&(o=5),/(^|[^\\])#6/.test(l)&&(o=6),/(^|[^\\])#7/.test(l)&&(o=7),/(^|[^\\])#8/.test(l)&&(o=8),/(^|[^\\])#9/.test(l)&&(o=9),{expand:(i=e==null?void 0:e.expand)===null||i===void 0||i,captureSelection:(n=e==null?void 0:e.captureSelection)===null||n===void 0||n,args:o,def:l}}return{expand:(r=e==null?void 0:e.expand)===null||r===void 0||r,captureSelection:(a=e==null?void 0:e.captureSelection)===null||a===void 0||a,args:0,...t}}function uo(t){if(!t)return{};const e={};for(const i of Object.keys(t)){const n=t[i];if(n==null)delete e[i];else if(typeof n=="object"&&"package"in n)for(const r of Object.keys(n.package))e[r]=ds(n.package[r],{expand:n.expand,captureSelection:n.captureSelection});else e[i]=ds(n)}return e}const A=[0,.69444,0,0],U=[0,.61111,0,0],X=[.25,.75,0,0],Y=[0,.44444,0,0],te=[0,.68611,0,0],ne=[.19444,.69444,0,0],re=[0,.68333,0,0],oe=[0,.68889,0,0],ue=[0,.69141,0,0],le=[0,0,0,0],De=[0,.64444,0,0],je=[0,.69224,0,0],He=[.19444,.44444,0,0],nt=[.65002,1.15,0,0],ot=[0,.55556,0,0],lt=[.35001,.85,0,0],ut=[1.25003,1.75,0,0],ct=[.95003,1.45,0,0],gt=[0,.75,0,0],bt=[0,.47534,0,0],Nt=[.25001,.75,0,0],Lt=[.55001,1.05,0,0],La=[.16667,.68889,0,0],At=[.08167,.58167,0,0];var A0={"AMS-Regular":{32:le,65:oe,66:oe,67:oe,68:oe,69:oe,70:oe,71:oe,72:oe,73:oe,74:La,75:oe,76:oe,77:oe,78:oe,79:La,80:oe,81:La,82:oe,83:oe,84:oe,85:oe,86:oe,87:oe,88:oe,89:oe,90:oe,107:oe,160:le,165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:oe,295:oe,710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:At,1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:oe,8487:oe,8498:oe,8502:oe,8503:oe,8504:oe,8513:oe,8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:je,8625:je,8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:oe,8709:At,8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:At,8733:je,8736:je,8737:je,8738:[.03517,.52239,0,0],8739:At,8740:[.25142,.74111,0,0],8741:At,8742:[.25142,.74111,0,0],8756:je,8757:je,8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:At,8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:je,8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:je,8873:je,8874:je,8876:oe,8877:oe,8878:oe,8879:oe,8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:At,8905:At,8906:At,8907:je,8908:je,8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:je,8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:je,9488:je,9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:je,10016:je,10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:At,57351:At,57352:At,57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{32:le,65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889],160:le},"Fraktur-Regular":{32:le,33:ue,34:ue,38:ue,39:ue,40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:bt,49:bt,50:bt,51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:ue,55:[.18906,.47534,0,0],56:ue,57:[.18906,.47534,0,0],58:bt,59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:ue,65:ue,66:ue,67:ue,68:ue,69:ue,70:[.12604,.69141,0,0],71:ue,72:[.06302,.69141,0,0],73:ue,74:[.12604,.69141,0,0],75:ue,76:ue,77:ue,78:ue,79:ue,80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:ue,83:ue,84:ue,85:ue,86:ue,87:ue,88:ue,89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:ue,97:bt,98:ue,99:bt,100:[0,.62119,0,0],101:bt,102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:ue,106:ue,107:ue,108:ue,109:bt,110:bt,111:bt,112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:bt,115:bt,116:[0,.62119,0,0],117:bt,118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],160:le,8216:ue,8217:ue,58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:ue,58118:[0,.62119,0,0],58119:bt},"Main-Bold":{32:le,33:A,34:A,35:ne,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:A,39:A,40:X,41:X,42:gt,43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:Y,46:[0,.15556,0,0],47:X,48:De,49:De,50:De,51:De,52:De,53:De,54:De,55:De,56:De,57:De,58:Y,59:He,60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:A,64:A,65:te,66:te,67:te,68:te,69:te,70:te,71:te,72:te,73:te,74:te,75:te,76:te,77:te,78:te,79:te,80:te,81:[.19444,.68611,0,0],82:te,83:te,84:te,85:te,86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:te,89:[0,.68611,.02875,0],90:te,91:X,92:X,93:X,94:A,95:[.31,.13444,.03194,0],97:Y,98:A,99:Y,100:A,101:Y,102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:A,105:A,106:ne,107:A,108:A,109:Y,110:Y,111:Y,112:He,113:He,114:Y,115:Y,116:[0,.63492,0,0],117:Y,118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:Y,121:[.19444,.44444,.01597,0],122:Y,123:X,124:X,125:X,126:[.35,.34444,0,0],160:le,163:A,168:A,172:Y,176:A,177:[.13333,.63333,0,0],184:[.17014,0,0,0],198:te,215:[.13333,.63333,0,0],216:[.04861,.73472,0,0],223:A,230:Y,247:[.13333,.63333,0,0],248:[.09722,.54167,0,0],305:Y,338:te,339:Y,567:He,710:A,711:[0,.63194,0,0],713:[0,.59611,0,0],714:A,715:A,728:A,729:A,730:A,732:A,733:A,915:te,916:te,920:te,923:te,926:te,928:te,931:te,933:te,934:te,936:te,937:te,8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:A,8217:A,8220:A,8221:A,8224:ne,8225:ne,8242:ot,8407:[0,.72444,.15486,0],8463:A,8465:A,8467:A,8472:He,8476:A,8501:A,8592:[-.10889,.39111,0,0],8593:ne,8594:[-.10889,.39111,0,0],8595:ne,8596:[-.10889,.39111,0,0],8597:X,8598:ne,8599:ne,8600:ne,8601:ne,8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:ne,8658:[-.10889,.39111,0,0],8659:ne,8660:[-.10889,.39111,0,0],8661:X,8704:A,8706:[0,.69444,.06389,0],8707:A,8709:[.05556,.75,0,0],8711:te,8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:X,8726:X,8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:Y,8734:Y,8736:je,8739:X,8741:X,8743:ot,8744:ot,8745:ot,8746:ot,8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:ne,8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:ot,8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:ot,8852:ot,8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:A,8867:A,8868:A,8869:A,8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:X,8969:X,8970:X,8971:X,8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:ne,9657:[-.02778,.47222,0,0],9661:ne,9667:[-.02778,.47222,0,0],9711:ne,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:gt,9838:ne,9839:ne,10216:X,10217:X,10815:te,10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0],57376:ne},"Main-BoldItalic":{32:le,33:[0,.69444,.11417,0],34:[0,.69444,.07939,0],35:[.19444,.69444,.06833,0],37:[.05556,.75,.12861,0],38:[0,.69444,.08528,0],39:[0,.69444,.12945,0],40:[.25,.75,.15806,0],41:[.25,.75,.03306,0],42:[0,.75,.14333,0],43:[.10333,.60333,.03306,0],44:[.19444,.14722,0,0],45:[0,.44444,.02611,0],46:[0,.14722,0,0],47:[.25,.75,.15806,0],48:[0,.64444,.13167,0],49:[0,.64444,.13167,0],50:[0,.64444,.13167,0],51:[0,.64444,.13167,0],52:[.19444,.64444,.13167,0],53:[0,.64444,.13167,0],54:[0,.64444,.13167,0],55:[.19444,.64444,.13167,0],56:[0,.64444,.13167,0],57:[0,.64444,.13167,0],58:[0,.44444,.06695,0],59:[.19444,.44444,.06695,0],61:[-.10889,.39111,.06833,0],63:[0,.69444,.11472,0],64:[0,.69444,.09208,0],65:te,66:[0,.68611,.0992,0],67:[0,.68611,.14208,0],68:[0,.68611,.09062,0],69:[0,.68611,.11431,0],70:[0,.68611,.12903,0],71:[0,.68611,.07347,0],72:[0,.68611,.17208,0],73:[0,.68611,.15681,0],74:[0,.68611,.145,0],75:[0,.68611,.14208,0],76:te,77:[0,.68611,.17208,0],78:[0,.68611,.17208,0],79:[0,.68611,.09062,0],80:[0,.68611,.0992,0],81:[.19444,.68611,.09062,0],82:[0,.68611,.02559,0],83:[0,.68611,.11264,0],84:[0,.68611,.12903,0],85:[0,.68611,.17208,0],86:[0,.68611,.18625,0],87:[0,.68611,.18625,0],88:[0,.68611,.15681,0],89:[0,.68611,.19803,0],90:[0,.68611,.14208,0],91:[.25,.75,.1875,0],93:[.25,.75,.09972,0],94:[0,.69444,.06709,0],95:[.31,.13444,.09811,0],97:[0,.44444,.09426,0],98:[0,.69444,.07861,0],99:[0,.44444,.05222,0],100:[0,.69444,.10861,0],101:[0,.44444,.085,0],102:[.19444,.69444,.21778,0],103:[.19444,.44444,.105,0],104:[0,.69444,.09426,0],105:[0,.69326,.11387,0],106:[.19444,.69326,.1672,0],107:[0,.69444,.11111,0],108:[0,.69444,.10861,0],109:[0,.44444,.09426,0],110:[0,.44444,.09426,0],111:[0,.44444,.07861,0],112:[.19444,.44444,.07861,0],113:[.19444,.44444,.105,0],114:[0,.44444,.11111,0],115:[0,.44444,.08167,0],116:[0,.63492,.09639,0],117:[0,.44444,.09426,0],118:[0,.44444,.11111,0],119:[0,.44444,.11111,0],120:[0,.44444,.12583,0],121:[.19444,.44444,.105,0],122:[0,.44444,.13889,0],126:[.35,.34444,.11472,0],160:le,168:[0,.69444,.11473,0],176:A,184:[.17014,0,0,0],198:[0,.68611,.11431,0],216:[.04861,.73472,.09062,0],223:[.19444,.69444,.09736,0],230:[0,.44444,.085,0],248:[.09722,.54167,.09458,0],305:[0,.44444,.09426,0],338:[0,.68611,.11431,0],339:[0,.44444,.085,0],567:[.19444,.44444,.04611,0],710:[0,.69444,.06709,0],711:[0,.63194,.08271,0],713:[0,.59444,.10444,0],714:[0,.69444,.08528,0],715:A,728:[0,.69444,.10333,0],729:[0,.69444,.12945,0],730:A,732:[0,.69444,.11472,0],733:[0,.69444,.11472,0],915:[0,.68611,.12903,0],916:te,920:[0,.68611,.09062,0],923:te,926:[0,.68611,.15092,0],928:[0,.68611,.17208,0],931:[0,.68611,.11431,0],933:[0,.68611,.10778,0],934:[0,.68611,.05632,0],936:[0,.68611,.10778,0],937:[0,.68611,.0992,0],8211:[0,.44444,.09811,0],8212:[0,.44444,.09811,0],8216:[0,.69444,.12945,0],8217:[0,.69444,.12945,0],8220:[0,.69444,.16772,0],8221:[0,.69444,.07939,0]},"Main-Italic":{32:le,33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:re,66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:re,77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],160:le,168:[0,.66786,.10474,0],176:A,184:[.17014,0,0,0],198:[0,.68333,.12028,0],216:[.04861,.73194,.09403,0],223:[.19444,.69444,.10514,0],230:[0,.43056,.07514,0],248:[.09722,.52778,.09194,0],338:[0,.68333,.12028,0],339:[0,.43056,.07514,0],710:[0,.69444,.06646,0],711:[0,.62847,.08295,0],713:[0,.56167,.10333,0],714:[0,.69444,.09694,0],715:A,728:[0,.69444,.10806,0],729:[0,.66786,.11752,0],730:A,732:[0,.66786,.11585,0],733:[0,.69444,.1225,0],915:[0,.68333,.13305,0],916:re,920:[0,.68333,.09403,0],923:re,926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:oe},"Main-Regular":{32:le,33:A,34:A,35:ne,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:A,39:A,40:X,41:X,42:gt,43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:X,48:De,49:De,50:De,51:De,52:De,53:De,54:De,55:De,56:De,57:De,58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:A,64:A,65:re,66:re,67:re,68:re,69:re,70:re,71:re,72:re,73:re,74:re,75:re,76:re,77:re,78:re,79:re,80:re,81:[.19444,.68333,0,0],82:re,83:re,84:re,85:re,86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:re,89:[0,.68333,.025,0],90:re,91:X,92:X,93:X,94:A,95:[.31,.12056,.02778,0],97:[0,.43056,0,0],98:A,99:[0,.43056,0,0],100:A,101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:A,105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:A,108:A,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:X,124:X,125:X,126:[.35,.31786,0,0],160:le,163:A,167:ne,168:[0,.66786,0,0],172:[0,.43056,0,0],176:A,177:[.08333,.58333,0,0],182:ne,184:[.17014,0,0,0],198:re,215:[.08333,.58333,0,0],216:[.04861,.73194,0,0],223:A,230:[0,.43056,0,0],247:[.08333,.58333,0,0],248:[.09722,.52778,0,0],305:[0,.43056,0,0],338:re,339:[0,.43056,0,0],567:[.19444,.43056,0,0],710:A,711:[0,.62847,0,0],713:[0,.56778,0,0],714:A,715:A,728:A,729:[0,.66786,0,0],730:A,732:[0,.66786,0,0],733:A,915:re,916:re,920:re,923:re,926:re,928:re,931:re,933:re,934:re,936:re,937:re,8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:A,8217:A,8220:A,8221:A,8224:ne,8225:ne,8230:[0,.12,0,0],8242:ot,8407:[0,.71444,.15382,0],8463:oe,8465:A,8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:A,8501:A,8592:[-.13313,.36687,0,0],8593:ne,8594:[-.13313,.36687,0,0],8595:ne,8596:[-.13313,.36687,0,0],8597:X,8598:ne,8599:ne,8600:ne,8601:ne,8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:ne,8658:[-.13313,.36687,0,0],8659:ne,8660:[-.13313,.36687,0,0],8661:X,8704:A,8706:[0,.69444,.05556,.08334],8707:A,8709:[.05556,.75,0,0],8711:re,8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:X,8726:X,8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:je,8739:X,8741:X,8743:ot,8744:ot,8745:ot,8746:ot,8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:ne,8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:ot,8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:ot,8852:ot,8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:A,8867:A,8868:A,8869:A,8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:X,8969:X,8970:X,8971:X,8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:ne,9657:[-.03472,.46528,0,0],9661:ne,9667:[-.03472,.46528,0,0],9711:ne,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:gt,9838:ne,9839:ne,10216:X,10217:X,10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:re,10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0],57376:ne},"Math-BoldItalic":{32:le,48:Y,49:Y,50:Y,51:He,52:He,53:He,54:De,55:He,56:De,57:He,65:te,66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:te,72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:te,77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:Y,98:A,99:Y,100:A,101:Y,102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:A,105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:Y,110:Y,111:Y,112:He,113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:Y,116:[0,.63492,0,0],117:Y,118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:Y,121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],160:le,915:[0,.68611,.15972,0],916:te,920:[0,.68611,.03194,0],923:te,926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:te,936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:Y,946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:Y,950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:Y,954:Y,955:A,956:He,957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:Y,960:[0,.44444,.03704,0],961:He,962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:He,967:He,968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:A,981:ne,982:[0,.44444,.03194,0],1009:He,1013:Y,57649:Y,57911:He},"Math-Italic":{32:le,48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:De,55:[.19444,.43056,0,0],56:De,57:[.19444,.43056,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:A,99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:A,105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],160:le,915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:A,956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556],57649:[0,.43056,0,.02778],57911:[.19444,.43056,0,.08334]},"SansSerif-Bold":{32:le,33:A,34:A,35:ne,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:A,39:A,40:X,41:X,42:gt,43:[.11667,.61667,0,0],44:[.10556,.13056,0,0],45:[0,.45833,0,0],46:[0,.13056,0,0],47:X,48:A,49:A,50:A,51:A,52:A,53:A,54:A,55:A,56:A,57:A,58:[0,.45833,0,0],59:[.10556,.45833,0,0],61:[-.09375,.40625,0,0],63:A,64:A,65:A,66:A,67:A,68:A,69:A,70:A,71:A,72:A,73:A,74:A,75:A,76:A,77:A,78:A,79:A,80:A,81:[.10556,.69444,0,0],82:A,83:A,84:A,85:A,86:[0,.69444,.01528,0],87:[0,.69444,.01528,0],88:A,89:[0,.69444,.0275,0],90:A,91:X,93:X,94:A,95:[.35,.10833,.03056,0],97:[0,.45833,0,0],98:A,99:[0,.45833,0,0],100:A,101:[0,.45833,0,0],102:[0,.69444,.07639,0],103:[.19444,.45833,.01528,0],104:A,105:A,106:ne,107:A,108:A,109:[0,.45833,0,0],110:[0,.45833,0,0],111:[0,.45833,0,0],112:[.19444,.45833,0,0],113:[.19444,.45833,0,0],114:[0,.45833,.01528,0],115:[0,.45833,0,0],116:[0,.58929,0,0],117:[0,.45833,0,0],118:[0,.45833,.01528,0],119:[0,.45833,.01528,0],120:[0,.45833,0,0],121:[.19444,.45833,.01528,0],122:[0,.45833,0,0],126:[.35,.34444,0,0],160:le,168:A,176:A,180:A,184:[.17014,0,0,0],305:[0,.45833,0,0],567:[.19444,.45833,0,0],710:A,711:[0,.63542,0,0],713:[0,.63778,0,0],728:A,729:A,730:A,732:A,733:A,915:A,916:A,920:A,923:A,926:A,928:A,931:A,933:A,934:A,936:A,937:A,8211:[0,.45833,.03056,0],8212:[0,.45833,.03056,0],8216:A,8217:A,8220:A,8221:A},"SansSerif-Italic":{32:le,33:[0,.69444,.05733,0],34:[0,.69444,.00316,0],35:[.19444,.69444,.05087,0],36:[.05556,.75,.11156,0],37:[.05556,.75,.03126,0],38:[0,.69444,.03058,0],39:[0,.69444,.07816,0],40:[.25,.75,.13164,0],41:[.25,.75,.02536,0],42:[0,.75,.11775,0],43:[.08333,.58333,.02536,0],44:[.125,.08333,0,0],45:[0,.44444,.01946,0],46:[0,.08333,0,0],47:[.25,.75,.13164,0],48:[0,.65556,.11156,0],49:[0,.65556,.11156,0],50:[0,.65556,.11156,0],51:[0,.65556,.11156,0],52:[0,.65556,.11156,0],53:[0,.65556,.11156,0],54:[0,.65556,.11156,0],55:[0,.65556,.11156,0],56:[0,.65556,.11156,0],57:[0,.65556,.11156,0],58:[0,.44444,.02502,0],59:[.125,.44444,.02502,0],61:[-.13,.37,.05087,0],63:[0,.69444,.11809,0],64:[0,.69444,.07555,0],65:A,66:[0,.69444,.08293,0],67:[0,.69444,.11983,0],68:[0,.69444,.07555,0],69:[0,.69444,.11983,0],70:[0,.69444,.13372,0],71:[0,.69444,.11983,0],72:[0,.69444,.08094,0],73:[0,.69444,.13372,0],74:[0,.69444,.08094,0],75:[0,.69444,.11983,0],76:A,77:[0,.69444,.08094,0],78:[0,.69444,.08094,0],79:[0,.69444,.07555,0],80:[0,.69444,.08293,0],81:[.125,.69444,.07555,0],82:[0,.69444,.08293,0],83:[0,.69444,.09205,0],84:[0,.69444,.13372,0],85:[0,.69444,.08094,0],86:[0,.69444,.1615,0],87:[0,.69444,.1615,0],88:[0,.69444,.13372,0],89:[0,.69444,.17261,0],90:[0,.69444,.11983,0],91:[.25,.75,.15942,0],93:[.25,.75,.08719,0],94:[0,.69444,.0799,0],95:[.35,.09444,.08616,0],97:[0,.44444,.00981,0],98:[0,.69444,.03057,0],99:[0,.44444,.08336,0],100:[0,.69444,.09483,0],101:[0,.44444,.06778,0],102:[0,.69444,.21705,0],103:[.19444,.44444,.10836,0],104:[0,.69444,.01778,0],105:[0,.67937,.09718,0],106:[.19444,.67937,.09162,0],107:[0,.69444,.08336,0],108:[0,.69444,.09483,0],109:[0,.44444,.01778,0],110:[0,.44444,.01778,0],111:[0,.44444,.06613,0],112:[.19444,.44444,.0389,0],113:[.19444,.44444,.04169,0],114:[0,.44444,.10836,0],115:[0,.44444,.0778,0],116:[0,.57143,.07225,0],117:[0,.44444,.04169,0],118:[0,.44444,.10836,0],119:[0,.44444,.10836,0],120:[0,.44444,.09169,0],121:[.19444,.44444,.10836,0],122:[0,.44444,.08752,0],126:[.35,.32659,.08826,0],160:le,168:[0,.67937,.06385,0],176:A,184:[.17014,0,0,0],305:[0,.44444,.04169,0],567:[.19444,.44444,.04169,0],710:[0,.69444,.0799,0],711:[0,.63194,.08432,0],713:[0,.60889,.08776,0],714:[0,.69444,.09205,0],715:A,728:[0,.69444,.09483,0],729:[0,.67937,.07774,0],730:A,732:[0,.67659,.08826,0],733:[0,.69444,.09205,0],915:[0,.69444,.13372,0],916:A,920:[0,.69444,.07555,0],923:A,926:[0,.69444,.12816,0],928:[0,.69444,.08094,0],931:[0,.69444,.11983,0],933:[0,.69444,.09031,0],934:[0,.69444,.04603,0],936:[0,.69444,.09031,0],937:[0,.69444,.08293,0],8211:[0,.44444,.08616,0],8212:[0,.44444,.08616,0],8216:[0,.69444,.07816,0],8217:[0,.69444,.07816,0],8220:[0,.69444,.14205,0],8221:[0,.69444,.00316,0]},"SansSerif-Regular":{32:le,33:A,34:A,35:ne,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:A,39:A,40:X,41:X,42:gt,43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:Y,46:[0,.08333,0,0],47:X,48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:Y,59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:A,64:A,65:A,66:A,67:A,68:A,69:A,70:A,71:A,72:A,73:A,74:A,75:A,76:A,77:A,78:A,79:A,80:A,81:[.125,.69444,0,0],82:A,83:A,84:A,85:A,86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:A,89:[0,.69444,.025,0],90:A,91:X,93:X,94:A,95:[.35,.09444,.02778,0],97:Y,98:A,99:Y,100:A,101:Y,102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:A,105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:A,108:A,109:Y,110:Y,111:Y,112:He,113:He,114:[0,.44444,.01389,0],115:Y,116:[0,.57143,0,0],117:Y,118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:Y,121:[.19444,.44444,.01389,0],122:Y,126:[.35,.32659,0,0],160:le,168:[0,.67937,0,0],176:A,184:[.17014,0,0,0],305:Y,567:He,710:A,711:[0,.63194,0,0],713:[0,.60889,0,0],714:A,715:A,728:A,729:[0,.67937,0,0],730:A,732:[0,.67659,0,0],733:A,915:A,916:A,920:A,923:A,926:A,928:A,931:A,933:A,934:A,936:A,937:A,8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:A,8217:A,8220:A,8221:A},"Script-Regular":{32:le,65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0],160:le},"Size1-Regular":{32:le,40:lt,41:lt,47:lt,91:lt,92:lt,93:lt,123:lt,125:lt,160:le,710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:Nt,8720:Nt,8721:Nt,8730:lt,8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:Nt,8897:Nt,8898:Nt,8899:Nt,8968:lt,8969:lt,8970:lt,8971:lt,9168:[-99e-5,.601,0,0],10216:lt,10217:lt,10752:Nt,10753:Nt,10754:Nt,10756:Nt,10758:Nt},"Size2-Regular":{32:le,40:nt,41:nt,47:nt,91:nt,92:nt,93:nt,123:nt,125:nt,160:le,710:gt,732:gt,770:gt,771:gt,8719:Lt,8720:Lt,8721:Lt,8730:nt,8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:Lt,8897:Lt,8898:Lt,8899:Lt,8968:nt,8969:nt,8970:nt,8971:nt,10216:nt,10217:nt,10752:Lt,10753:Lt,10754:Lt,10756:Lt,10758:Lt},"Size3-Regular":{32:le,40:ct,41:ct,47:ct,91:ct,92:ct,93:ct,123:ct,125:ct,160:le,710:gt,732:gt,770:gt,771:gt,8730:ct,8968:ct,8969:ct,8970:ct,8971:ct,10216:ct,10217:ct},"Size4-Regular":{32:le,40:ut,41:ut,47:ut,91:ut,92:ut,93:ut,123:ut,125:ut,160:le,710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:ut,8968:ut,8969:ut,8970:ut,8971:ut,9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:nt,9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:nt,9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:ut,10217:ut,57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{32:le,33:U,34:U,35:U,36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:U,39:U,40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:U,49:U,50:U,51:U,52:U,53:U,54:U,55:U,56:U,57:U,58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:U,64:U,65:U,66:U,67:U,68:U,69:U,70:U,71:U,72:U,73:U,74:U,75:U,76:U,77:U,78:U,79:U,80:U,81:[.13889,.61111,0,0],82:U,83:U,84:U,85:U,86:U,87:U,88:U,89:U,90:U,91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:U,95:[.09514,0,0,0],96:U,97:[0,.43056,0,0],98:U,99:[0,.43056,0,0],100:U,101:[0,.43056,0,0],102:U,103:[.22222,.43056,0,0],104:U,105:U,106:[.22222,.61111,0,0],107:U,108:U,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:U,127:U,160:le,176:U,184:[.19445,0,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],711:[0,.56597,0,0],713:[0,.56555,0,0],714:U,715:U,728:U,730:U,770:U,771:U,776:U,915:U,916:U,920:U,923:U,926:U,928:U,931:U,933:U,934:U,936:U,937:U,8216:U,8217:U,8242:U,9251:[.11111,.21944,0,0]}};const C0=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,hs={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},co=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ms={"\xA0":" ","\u200B":" ",\u00C5:"A",\u00C7:"C",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00E7:"c",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function Ei(t,e){t===void 0&&(t=77);const i=A0[e][t];if(i)return{defaultMetrics:!1,depth:i[0],height:i[1],italic:i[2],skew:i[3]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0};const n=String.fromCodePoint(t);if(n in ms)t=ms[n].codePointAt(0);else if(C0.test(n))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}class ui{constructor(e,i,n){this.id=e,this.sizeDelta=i,this.cramped=n;const r={"-4":2,"-3":1,0:0}[i];this.metrics=Object.keys(hs).reduce((a,o)=>({...a,[o]:hs[o][r]}),{})}getFontSize(e){return Math.max(1,e+this.sizeDelta)}get sup(){return rt[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return rt[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return rt[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return rt[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return rt[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return this.sizeDelta<0}}const rt={7:new ui(7,0,!1),6:new ui(6,0,!0),5:new ui(5,0,!1),4:new ui(4,0,!0),3:new ui(3,-3,!1),2:new ui(2,-3,!0),1:new ui(1,-4,!1),0:new ui(0,-4,!0)};function Ht(t,e){return t===null?0:function(i,n){var r;if(!i)return 0;const a={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:10,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(r=i.unit)!==null&&r!==void 0?r:"pt"];if(Number.isFinite(n)){const o=10**n;return Math.round(i.dimension/10*a*o)/o}return i.dimension*a}(t,e)/10}function Aa(t){var e;return`${t.dimension}${(e=t.unit)!==null&&e!==void 0?e:"pt"}`}rt.displaystyle=rt[7],rt.textstyle=rt[5],rt.scriptstyle=rt[3],rt.scriptscriptstyle=rt[1];class se{constructor(e,i,n){var r,a,o,l,s,u;e instanceof se&&(this.parent=e),e instanceof se||(this.registers=(r=e.registers)!==null&&r!==void 0?r:{}),this.isPhantom=(l=(a=i==null?void 0:i.isPhantom)!==null&&a!==void 0?a:(o=this.parent)===null||o===void 0?void 0:o.isPhantom)!==null&&l!==void 0&&l;const c={...e};let d;if(i&&(i.letterShapeStyle&&i.letterShapeStyle!=="auto"&&(c.letterShapeStyle=i.letterShapeStyle),i.color&&i.color!=="none"&&(c.color=i.color),i.backgroundColor&&i.backgroundColor!=="none"&&(c.backgroundColor=i.backgroundColor),i.fontSize&&i.fontSize!=="auto"&&i.fontSize!==((s=this.parent)===null||s===void 0?void 0:s._size)&&(this._size=i.fontSize)),this.letterShapeStyle=(u=c.letterShapeStyle)!==null&&u!==void 0?u:"tex",this.color=c.color,this.backgroundColor=c.backgroundColor,typeof n=="string"){if(e instanceof se)switch(n){case"cramp":d=e.mathstyle.cramp;break;case"superscript":d=e.mathstyle.sup;break;case"subscript":d=e.mathstyle.sub;break;case"numerator":d=e.mathstyle.fracNum;break;case"denominator":d=e.mathstyle.fracDen}switch(n){case"textstyle":d=rt.textstyle;break;case"displaystyle":d=rt.displaystyle;break;case"scriptstyle":d=rt.scriptstyle;break;case"scriptscriptstyle":d=rt.scriptscriptstyle}}this._mathstyle=d,this.atomIdsSettings=e.atomIdsSettings,this.renderPlaceholder=c.renderPlaceholder}get mathstyle(){let e=this._mathstyle,i=this.parent;for(;!e;)e=i._mathstyle,i=i.parent;return e}getRegister(e){var i;return!((i=this.registers)===null||i===void 0)&&i[e]?this.registers[e]:this.parent?this.parent.getRegister(e):void 0}getRegisterAsGlue(e){var i;if(!((i=this.registers)===null||i===void 0)&&i[e]){const n=this.registers[e];return typeof n=="object"&&"glue"in n?n:typeof n=="object"&&"dimension"in n?{glue:{dimension:n.dimension}}:typeof n=="number"?{glue:{dimension:n}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e){return Ht(this.getRegisterAsDimension(e))}getRegisterAsDimension(e){var i;if(!((i=this.registers)===null||i===void 0)&&i[e]){const n=this.registers[e];return typeof n=="object"&&"glue"in n?n.glue:typeof n=="object"&&"dimension"in n?n:typeof n=="number"?{dimension:n}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,i){i!==void 0?this.registers[e]=i:delete this.registers[e]}setGlobalRegister(e,i){let n=this;for(;n.parent;)n.setRegister(e,void 0),n=n.parent;n.setRegister(e,i)}get size(){let e=this._size,i=this.parent;for(;!e;)e=i._size,i=i.parent;return e}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);const e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===7||this.mathstyle.id===6}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get effectiveFontSize(){return co[Math.max(1,this.size+this.mathstyle.sizeDelta)]}get computedColor(){let e=this.color,i=this.parent;return!e&&i&&(e=i.color,i=i.parent),e!=null?e:""}get computedBackgroundColor(){let e=this.backgroundColor,i=this.parent;return!e&&i&&(e=i.backgroundColor,i=i.parent),e!=null?e:""}get metrics(){return this.mathstyle.metrics}}const ho={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},mo={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},ps={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};class Mt{constructor(e){Mt._registry[e]=this}static createAtom(e,i,n,r){return Mt._registry[e].createAtom(i,n,r)}static serialize(e,i){return Mt._registry[e[0].mode].serialize(e,i)}static applyStyle(e,i,n){return Mt._registry[e].applyStyle(i,n)}}function Ct(t,e){const i=[];let n,r=[];for(const a of t)if(a.type!=="first"){let o;e==="variant"?(o=a.style.variant,a.style.variantStyle&&a.style.variantStyle!=="up"&&(o+="-"+a.style.variantStyle)):e==="cssClass"?a.type==="group"&&(o=a.customClass):o=a.style[e],o===n?r.push(a):(r.length>0&&i.push(r),r=[a],n=o)}return r.length>0&&i.push(r),i}Mt._registry={};const E0={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},D0={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},Or={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},Pr={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},Ll={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},T0={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function ra(t){var e,i,n,r,a,o;const l=t.split("!");let s,u,c,d=255,p=255,h=255,f=-1;const g=l.length>0&&l[0].startsWith("-");g&&(l[0]=l[0].slice(1));for(let w=0;w<l.length;w++){s=d,u=p,c=h;const k=(e=l[w].trim().match(/^([A-Za-z\d]+)/))===null||e===void 0?void 0:e[1],_=k==null?void 0:k.toLowerCase(),M=k&&(o=(a=(r=(n=(i=Pr[_])!==null&&i!==void 0?i:Pr[Ll[k]])!==null&&n!==void 0?n:D0[k])!==null&&r!==void 0?r:T0[k])!==null&&a!==void 0?a:E0[k])!==null&&o!==void 0?o:l[w].trim();let S=M.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if((S==null?void 0:S[1])&&S[2]&&S[3])d=Math.max(0,Math.min(255,Number.parseInt(S[1],16))),p=Math.max(0,Math.min(255,Number.parseInt(S[2],16))),h=Math.max(0,Math.min(255,Number.parseInt(S[3],16)));else if(S=M.match(/^#([\da-f]{3})$/i),S==null?void 0:S[1]){const I=Number.parseInt(S[1][0],16),D=Number.parseInt(S[1][1],16),F=Number.parseInt(S[1][2],16);d=Math.max(0,Math.min(255,16*I+I)),p=Math.max(0,Math.min(255,16*D+D)),h=Math.max(0,Math.min(255,16*F+F))}else{if(S=M.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!((S==null?void 0:S[1])&&S[2]&&S[3]))return;d=Math.max(0,Math.min(255,Number.parseInt(S[1]))),p=Math.max(0,Math.min(255,Number.parseInt(S[2]))),h=Math.max(0,Math.min(255,Number.parseInt(S[3])))}f>=0&&(d=(1-f)*d+f*s,p=(1-f)*p+f*u,h=(1-f)*h+f*c,f=-1),w+1<l.length&&(f=Math.max(0,Math.min(100,Number.parseInt(l[++w])))/100)}return f>=0&&(d=f*d+(1-f)*s,p=f*p+(1-f)*u,h=f*h+(1-f)*c),g&&(d=255-d,p=255-p,h=255-h),"#"+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(p).toString(16)).slice(-2)+("00"+Math.round(h).toString(16)).slice(-2)}function jo(t){var e,i;return t=t.trim(),(i=(e=Or[t.toLowerCase()])!==null&&e!==void 0?e:Or[Ll[t]])!==null&&i!==void 0?i:ra(t)}function Ca(t,e,i){return i<0&&(i+=6),i>=6&&(i-=6),i<1?(e-t)*i+t:i<3?e:i<4?(e-t)*(4-i)+t:t}function Ea(t){return t<0?0:t>255?255:Math.round(t)}function fs(t){let e=function(a){if(!a||a[0]!=="#")return;let o;return(a=a.slice(1)).length<=4?(o={r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16)},a.length===4&&(o.a=parseInt(a[3]+a[3],16)/255)):(o={r:parseInt(a[0]+a[1],16),g:parseInt(a[2]+a[3],16),b:parseInt(a[4]+a[5],16)},a.length===8&&(o.a=parseInt(a[6]+a[7],16)/255)),o&&o.a===void 0&&(o.a=1),o}(t);if(!e)return t;let{h:i,s:n,l:r}=function(a){let{r:o,g:l,b:s}=a;o/=255,l/=255,s/=255;const u=Math.min(o,l,s),c=Math.max(o,l,s),d=c-u;let p,h;c===u?p=0:o===c?p=(l-s)/d:l===c?p=2+(s-o)/d:s===c&&(p=4+(o-l)/d),p=Math.min(60*p,360),p<0&&(p+=360);const f=(u+c)/2;return h=c===u?0:f<=.5?d/(c+u):d/(2-c-u),{h:p,s:h,l:f}}(e);return n+=.1,r-=.1,function(a){const{r:o,g:l,b:s}=a;let u=((1<<24)+(Ea(o)<<16)+(Ea(l)<<8)+Ea(s)).toString(16).slice(1);return u[0]===u[1]&&u[2]===u[3]&&u[4]===u[5]&&u[6]===u[7]&&(u=u[0]+u[2]+u[4]),"#"+u}(function(a){let[o,l,s]=[a.h,a.s,a.l];o=(o+360)%360/60,s=Math.max(0,Math.min(s,1)),l=Math.max(0,Math.min(l,1));const u=s<=.5?s*(l+1):s+l-s*l,c=2*s-u;return{r:Math.round(255*Ca(c,u,o+2)),g:Math.round(255*Ca(c,u,o)),b:Math.round(255*Ca(c,u,o-2))}}({h:i,s:n,l:r}))}const z0=["","chem","mord","mbin","mop","mrel","mopen","mclose","mpunct","minner","spacing","first","latex","composition","error","placeholder","supsub","none","mathfield"],q0={mord:{mop:3,mbin:4,mrel:5,minner:3},mop:{mord:3,mop:3,rel:5,minner:3},mbin:{mord:4,mop:4,mopen:4,minner:4},mrel:{mord:5,mop:5,mopen:5,minner:5},mclose:{mop:3,mbin:4,mrel:5,minner:3},mpunct:{mord:3,mop:3,mrel:3,mopen:3,mpunct:3,minner:3},minner:{mord:3,mop:3,mbin:4,mrel:5,mopen:3,mpunct:3,minner:3}},I0={mord:{mop:3},mop:{mord:3,mop:3},mclose:{mop:3},minner:{mop:3}};function Nn(t,e){if(typeof t=="string")return t;if(typeof t=="number"){const i=Math.ceil(100*t)/100;return i===0?"0":i.toString()+(e!=null?e:"")}return""}class W{constructor(e,i){var n,r,a,o,l,s;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:Ze(e)?this.children=e.filter(c=>c!==null):e&&e instanceof W&&(this.children=[e]),this.type=(n=i==null?void 0:i.type)!==null&&n!==void 0?n:"",this.isSelected=!1,this.isTight=(r=i==null?void 0:i.isTight)!==null&&r!==void 0&&r,this.newList=(a=i==null?void 0:i.newList)!==null&&a!==void 0&&a,i==null?void 0:i.properties)for(const c of Object.keys(i.properties))this.setStyle(c,i.properties[c]);i!=null&&i.attributes&&(this.attributes=i.attributes),this.classes=(o=i==null?void 0:i.classes)!==null&&o!==void 0?o:"";let u=(i==null?void 0:i.fontFamily)||"Main-Regular";if((i==null?void 0:i.style)&&this.value&&(u=Mt.applyStyle((l=i.mode)!==null&&l!==void 0?l:"math",this,i.style)||"Main-Regular"),this.height=0,this.depth=0,this.skew=0,this.italic=0,this.maxFontSize=0,this.type==="latex")this.height=.8,this.depth=.2;else if(typeof e=="number"){const c=Ei(e,u);this.height=c.height,this.depth=c.depth,this.skew=c.skew,this.italic=c.italic}else if(this.value){this.height=-1/0,this.depth=-1/0,this.skew=-1/0,this.italic=-1/0;for(let c=0;c<this.value.length;c++){const d=Ei(this.value.codePointAt(c),u||"Main-Regular");this.height=Math.max(this.height,d.height),this.depth=Math.max(this.depth,d.depth),this.skew=d.skew,this.italic=d.italic}}else if(this.children&&this.children.length>0)if(this.children.length===1){const c=this.children[0];this.height=c.height,this.depth=c.depth,this.maxFontSize=c.maxFontSize,this.skew=c.skew,this.italic=c.italic}else{let c=-1/0,d=-1/0,p=0;for(const h of this.children)h.height>c&&(c=h.height),h.depth>d&&(d=h.depth),p=Math.max(p,(s=h.maxFontSize)!==null&&s!==void 0?s:0);this.height=c,this.depth=d,this.maxFontSize=p}(i==null?void 0:i.height)!==void 0&&(this.height=i.height),(i==null?void 0:i.depth)!==void 0&&(this.depth=i.depth),(i==null?void 0:i.maxFontSize)!==void 0&&(this.maxFontSize=i.maxFontSize)}set atomID(e){e!==void 0&&e.length!==0&&(this.attributes||(this.attributes={}),this.attributes["data-atom-id"]=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(const i of this.children)i.selected(e)}setStyle(e,i,n){if(i===void 0)return;const r=Nn(i,n);r.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=r)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=Nn(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return!((e=this.cssProperties)===null||e===void 0)&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=Nn(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=Nn(e,"em")))}set width(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties.width:(this.cssProperties||(this.cssProperties={}),this.cssProperties.width=Nn(e,"em")))}wrap(e,i){const n=e.parent;if(!n)return this;e.isPhantom&&this.setStyle("opacity",0);let r=e.computedColor;r===n.computedColor&&(r=""),this.setStyle("color",r);const a=e.effectiveFontSize===n.effectiveFontSize?void 0:e.effectiveFontSize;let o,l=e.computedBackgroundColor;if(this.isSelected&&(l=fs(l)),l===n.computedBackgroundColor&&(l=""),!(a||l||i&&(i.classes||i.type)))return this;l?(o=bn(this,i),o.selected(this.isSelected),o.setStyle("background-color",l),o.setStyle("display","inline-block")):o=new W(this,i);const s=e.scalingFactor;return s!==1&&(o.setStyle("font-size",100*s,"%"),o.height*=s,o.depth*=s,o.italic*=s,o.skew*=s),o}wrapSelect(e){if(!this.isSelected)return this;if(!e.parent)return this;const i=fs(e.computedBackgroundColor),n=bn(this);return n.selected(!0),n.setStyle("background-color",i),n.setStyle("display","inline-block"),n}toMarkup(){var e,i,n;let r=(e=this.value)!==null&&e!==void 0?e:"";if(this.children)for(const s of this.children)r+=s.toMarkup();const a=this.classes.split(" ");a.push((i={latex:"ML__latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!==null&&i!==void 0?i:""),this.caret==="latex"&&a.push("ML__latex-caret");const o=a.length===1?a[0]:a.filter((s,u,c)=>s.length>0&&c.indexOf(s)===u).join(" ");let l="";if(r.length>0&&r!=="\u200B"||o.length>0||this.cssId||this.htmlData||this.htmlStyle||this.attributes||this.cssProperties||this.svgBody||this.svgOverlay){let s="";if(this.cssId&&(s+=` id=${this.cssId.replace(/ /g,"-")} `),this.htmlData){const c=this.htmlData.split(",");for(const d of c){const p=d.match(/([^=]+)=(.+$)/);if(p){const h=p[1].trim().replace(/ /g,"-");h&&(s+=` data-${h}=${p[2]} `)}else{const h=d.trim().replace(/ /g,"-");h&&(s+=` data-${h} `)}}}if(this.htmlStyle){const c=this.htmlStyle.split(";");let d="";for(const p of c){const h=p.match(/([^=]+):(.+$)/);if(h){const f=h[1].trim().replace(/ /g,"-");f&&(d+=`${f}:${h[2]};`)}}d&&(s+=` style="${d}"`)}if(this.attributes&&(s+=" "+Object.keys(this.attributes).map(c=>`${c}="${this.attributes[c]}"`).join(" ")),o.length>0&&(s+=` class="${o}"`),this.cssProperties){const c=Object.keys(this.cssProperties).map(d=>`${d}:${this.cssProperties[d]}`).join(";");c.length>0&&(s+=` style="${c}"`)}let u="";this.svgBody?u=function(c){if(mo[c]){const[M,S,I]=mo[c];return`<span style="display:inline-block;height:${I/2}em;min-width:0"><span class="stretchy" style="height:${I}em"><svg width="100%" height="${I}em" viewBox="0 0 ${M} ${S}" preserveAspectRatio="none" ><path fill="currentcolor" d="${ps[c]}"></path></svg></span></span>`}const[d,p,h,f]=ho[c];let g,w;const k=h/1e3;d.length===3?(g=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],w=["xMinYMin","xMidYMin","xMaxYMin"]):d.length===2?(g=["slice-1-of-2","slice-2-of-2"],w=["xMinYMin","xMaxYMin"]):(g=["slice-1-of-1"],w=[f]);const _=d.map((M,S)=>`<span class="${g[S]}" style=height:${k}em><svg width=400em height=${k}em viewBox="0 0 400000 ${h}" preserveAspectRatio="${w[S]} slice"><path fill="currentcolor" d="${ps[M]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${k}em;min-width:${p}em;">${_}</span>`}(this.svgBody):this.svgOverlay&&(u='<span style="',u+="display: inline-block;",u+=`height:${this.height+this.depth}em;`,u+=`vertical-align:${this.depth}em;`,u+='">',u+=r,u+="</span>",u+='<svg style="position:absolute;overflow:overlay;',u+=`height:${this.height+this.depth}em;`,!((n=this.cssProperties)===null||n===void 0)&&n.padding?(u+=`top:${this.cssProperties.padding}em;`,u+=`left:${this.cssProperties.padding}em;`,u+=`width:calc(100% - 2 * ${this.cssProperties.padding}em );`):u+="top:0;left:0;width:100%;",u+="z-index:2;",u+='"',this.svgStyle&&(u+=` style="${this.svgStyle}"`),u+=`>${this.svgOverlay}</svg>`),l=`<span${s}>${r}${u}</span>`}return this.caret==="text"?l+='<span class="ML__text-caret"></span>':this.caret==="math"&&(l+='<span class="ML__caret"></span>'),l}tryCoalesceWith(e){if(this.type!==e.type||!/ML__text/.test(this.classes)&&!["mord","mbin","mrel"].includes(this.type)||this.svgBody||!this.value||e.svgBody||!e.value)return!1;const i=this.children&&this.children.length>0,n=e.children&&e.children.length>0;if(i||n)return!1;const r=this.cssProperties?Object.keys(this.cssProperties).length:0;if(r!==(e.cssProperties?Object.keys(e.cssProperties).length:0))return!1;if(r>0){for(const l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==e.cssProperties[l])return!1}const a=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==o.length)return!1;a.sort(),o.sort();for(const[l,s]of a.entries())if(s==="vertical-separator"||s!==o[l])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}}function po(t){if(!t||t.length===0)return[];t[0].children=po(t[0].children);const e=[t[0]];for(let i=1;i<t.length;i++)e[e.length-1].tryCoalesceWith(t[i])||(t[i].children=po(t[i].children),e.push(t[i]));return e}function Ho(t){return t.children&&(t.children=po(t.children)),t}function Al(t,e,i){e.newList&&(t=null);const n=e.type;if(n==="first")return null;if(n==="spacing")return t;if(i(t,e),e.children){let r=null;n!==void 0&&n.length!==0||(r=t);for(const a of e.children)r=Al(r,a,i);n!==void 0&&n.length!==0||(t=r)}return n!=="supsub"&&n!==void 0&&n.length>0&&(t=e),t}function gs(t,e){t&&Al(null,t,e)}function aa(t,e=1){return function(i){gs(i,(n,r)=>{r.type!=="mbin"||n&&!/first|none|mbin|mop|mrel|mopen|mpunct/.test(n.type)||(r.type="mord"),n&&n.type==="mbin"&&/mrel|mclose|mpunct|placeholder/.test(r.type)&&(n.type="mord")})}(t),function(i,n){gs(i,(r,a)=>{var o,l,s,u;const c=(o=r==null?void 0:r.type)!==null&&o!==void 0?o:"none",d=a.isTight?(l=I0[c])!==null&&l!==void 0?l:null:(s=q0[c])!==null&&s!==void 0?s:null,p=d&&(u=d[a.type])!==null&&u!==void 0?u:0;p&&(a.left+=n*(p/18))})}(t,e),t}function bn(t,e){if(!t)return new W(null,e);const i=new W(null,{classes:"ML__strut"});i.setStyle("height",Math.max(0,t.height),"em");const n=[i];if(t.depth!==0){const r=new W(null,{classes:"ML__strut--bottom"});r.setStyle("height",t.height+t.depth,"em"),r.setStyle("vertical-align",-t.depth,"em"),n.push(r)}return n.push(t),new W(n,e)}function Ar(t){const e=function(n){return ho[n]?ho[n][2]/1e3:mo[n][2]}(t)/2,i=new W(null,{height:e+.166,depth:e-.166,maxFontSize:0});return i.svgBody=t,i}class Ke extends W{constructor(e,i){var n;const[r,a,o]=function(l){var s;const[u,c]=function(M){if("individualShift"in M){const S=M.individualShift;let I=S[0];const D=[I],F=-I.shift-I.box.depth;let R=F;for(let Q=1;Q<S.length;Q++){const z=S[Q],O=-z.shift-R-z.box.depth,ie=O-(I.box.height+I.box.depth);R+=O,D.push(ie),D.push(z),I=z}return[D,F]}if("top"in M){let S=M.top;for(const I of M.children)S-=typeof I=="number"?I:I.box.height+I.box.depth;return[M.children,S]}if("bottom"in M)return[M.children,-M.bottom];if("firstBaseline"in M){const S=M.firstBaseline[0];if(typeof S=="number")throw new Error("First child must be an element.");return[M.firstBaseline,-S.box.depth]}if("shift"in M){const S=M.children[0];if(typeof S=="number")throw new Error("First child must be an element.");return[M.children,-S.box.depth-M.shift]}return[null,0]}(l);if(!u)return[[],0,0];let d=0;for(const M of u)if(typeof M!="number"){const S=M.box;d=Math.max(d,S.maxFontSize,S.height)}d+=2;const p=new W(null,{classes:"pstrut"});p.setStyle("height",d,"em");const h=[];let f=c,g=c,w=c;for(const M of u){if(typeof M=="number")w+=M;else{const S=M.box,I=(s=M.classes)!==null&&s!==void 0?s:[],D=new W([p,S],{classes:I.join(" "),style:M.style});D.setStyle("top",-d-w-S.depth,"em"),M.marginLeft&&D.setStyle("margin-left",M.marginLeft,"em"),M.marginRight&&D.setStyle("margin-right",M.marginRight,"em"),h.push(D),w+=S.height+S.depth}f=Math.min(f,w),g=Math.max(g,w)}const k=new W(h,{classes:"vlist"});let _;if(k.setStyle("height",g,"em"),f<0){const M=new W(new W(null),{classes:"vlist"});M.setStyle("height",-f,"em");const S=new W(8203,{classes:"vlist-s",maxFontSize:0,height:0,depth:0});_=[new W([k,S],{classes:"vlist-r"}),new W(M,{classes:"vlist-r"})]}else _=[new W(k,{classes:"vlist-r"})];return[_,g,-f]}(e);super(r.length===1?r[0]:r,{classes:((n=i==null?void 0:i.classes)!==null&&n!==void 0?n:"")+" vlist-t"+(r.length===2?" vlist-t2":""),height:a,depth:o,type:i==null?void 0:i.type})}}const F0=[[8205,1],[65038,2],[127995,5],[129456,4],[917536,96]];let pr;const bs=[127462,127487];function ys(t){var e;if(pr===void 0){pr={};for(const i of F0)for(let n=i[0];n<=i[0]+i[1]-1;n++)pr[n]=!0}return(e=pr[t])!==null&&e!==void 0&&e}function O0(t){return t>=bs[0]&&t<=bs[1]}function Cl(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;const e=[],i=function(r){const a=[];for(let o=0;o<r.length;o++){let l=r.charCodeAt(o);if(l===13&&r.charCodeAt(o+1)===10&&(l=10,o++),l!==13&&l!==12||(l=10),l===0&&(l=65533),l>=55296&&l<=56319){const s=r.charCodeAt(o+1);s>=56320&&s<=57343&&(l=65536+1024*(l-55296)+(s-56320),o++)}a.push(l)}return a}(t);let n=0;for(;n<i.length;){const r=i[n++],a=i[n];if(a===8205){const o=n-1;for(n+=2;i[n]===8205;)n+=2;e.push(String.fromCodePoint(...i.slice(o,n-o+1)))}else if(ys(a)){const o=n-1;for(;ys(i[n]);)n+=i[n]===8205?2:1;e.push(String.fromCodePoint(...i.slice(o,2*n-o-1)))}else O0(r)?(n+=1,e.push(String.fromCodePoint(...i.slice(n-2,2)))):e.push(String.fromCodePoint(r))}return e}class P0{constructor(e){this.s=Cl(e),this.pos=0,this.obeyspaces=!1}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){const i=typeof this.s=="string"?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join(""));return i!=null&&i[0]?(this.pos+=i[0].length,i[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";const e=this.get();if(e==="\\"){if(!this.end()){let i=this.match(/^[a-zA-Z\*]+/);if(i)this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/);else if(i=this.get(),i===" ")return"<space>";return"\\"+i}}else{if(e==="{")return"<{>";if(e==="}")return"<}>";if(e==="^"){if(this.peek()==="^"){this.get();const i=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(i)return String.fromCodePoint(Number.parseInt(i.slice(i.lastIndexOf("^")+1),16))}return e}if(e==="#"){if(!this.end()){let i=!1;if(/[\d?@]/.test(this.peek())&&(i=!0,this.pos+1<this.s.length)){const n=this.s[this.pos+1];i=/[^\dA-Za-z]/.test(n)}return i?"#"+this.get():"#"}}else if(e==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return e}}function $0(t,e){var i,n,r,a;const o=[];let l=t.next();if(l&&l!=="\\relax"){if(l==="\\noexpand")l=t.next(),l&&o.push(l);else if(l==="\\obeyspaces")t.obeyspaces=!0;else if(l==="\\space"||l==="~")o.push("<space>");else if(l==="\\bgroup")o.push("<{>");else if(l==="\\egroup")o.push("<}>");else if(l==="\\string"){if(l=t.next(),l)if(l.startsWith("\\"))for(const s of l)o.push(s==="\\"?"\\backslash":s);else l==="<{>"?o.push("\\{"):l==="<space>"?o.push("~"):l==="<}>"&&o.push("\\}")}else if(l==="\\csname"){for(;t.peek()==="<space>";)t.next();let s="",u=!1,c=[];do{if(c.length===0)if(/^#[\d?@]$/.test(t.peek())){const d=t.get().slice(1);c=yn((n=(i=e==null?void 0:e(d))!==null&&i!==void 0?i:e==null?void 0:e("?"))!==null&&n!==void 0?n:"\\placeholder{}",e),l=c[0]}else l=t.next(),c=l?[l]:[];u=c.length===0,u||l!=="\\endcsname"||(u=!0,c.shift()),u||(u=l==="<$>"||l==="<$$>"||l==="<{>"||l==="<}>"||typeof l=="string"&&l.length>1&&l.startsWith("\\")),u||(s+=c.shift())}while(!u);s&&o.push("\\"+s),o.push(...c)}else if(l!=="\\endcsname")if(l.length>1&&l.startsWith("#")){const s=l.slice(1);o.push(...yn((a=(r=e==null?void 0:e(s))!==null&&r!==void 0?r:e==null?void 0:e("?"))!==null&&a!==void 0?a:"\\placeholder{}",e))}else o.push(l)}return o}function yn(t,e=null){const i=[];let n="";for(const o of t.toString().split(/\r?\n/)){n&&i.push(n),n=" ";const l=o.match(/((?:\\%)|[^%])*/);l!==null&&i.push(l[0])}const r=new P0(i.join("")),a=[];do a.push(...$0(r,e));while(!r.end());return a}function Te(t){let e="";const i=[];for(const n of t)n&&(/[a-zA-Z\*]/.test(n[0])&&i.push(e),i.push(n),/\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(n)&&i.push(" "),e=/\\[a-zA-Z]+\*?$/.test(n)?" ":"");return i.join("")}function Ln(t){return Te(t.map(e=>{var i;return(i={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!==null&&i!==void 0?i:e}))}class B0 extends W{constructor(e,i,n){super(null,n),this.placeholderId=e,this.element=i,this.htmlData=`placeholder-id=${e}`,this.height=i.style.fontSize===""?1:i.clientHeight/parseInt(i.style.fontSize)*.6}toMarkup(){let e="";const i=this.classes.split(" "),n=i.length===1?i[0]:i.filter((r,a,o)=>r.length>0&&o.indexOf(r)===a).join(" ");if(this.cssId&&(e+=` id=${this.cssId.replace(/ /g,"-")} `),this.htmlData){const r=this.htmlData.split(",");for(const a of r){const o=a.match(/([^=]+)=(.+$)/);if(o){const l=o[1].trim().replace(/ /g,"-");l&&(e+=` data-${l}=${o[2]} `)}else{const l=a.trim().replace(/ /g,"-");l&&(e+=` data-${l} `)}}}if(this.htmlStyle){const r=this.htmlStyle.split(";");let a="";for(const o of r){const l=o.match(/([^=]+):(.+$)/);if(l){const s=l[1].trim().replace(/ /g,"-");s&&(a+=`${s}:${l[2]};`)}}a&&(e+=` style="${a}"`)}return this.attributes&&(e+=" "+Object.keys(this.attributes).map(r=>`${r}="${this.attributes[r]}"`).join(" ")),n.length>0&&(e+=` class="${n}"`),e+=` style="display: inline-block; width:${this.element.clientWidth}px; height:${this.element.clientHeight}px; "`,`<span ${e}></span>`}}const zi=["above","body","below","superscript","subscript"];function Pn(t){return typeof t=="string"&&zi.includes(t)}function $r(t){return t!==void 0&&Array.isArray(t)&&t.length===2}class V{constructor(e,i,n){var r,a,o,l,s,u;this.id=void 0,this.verbatimLatex=void 0,this._isDirty=!1,this._changeCounter=0,this.subsupPlacement=void 0,this.explicitSubsupPlacement=!1,this.skipBoundary=!1,this.captureSelection=!1,this.type=e,this.context=i,typeof(n==null?void 0:n.value)=="string"&&(this.value=n.value),this.command=(a=(r=n==null?void 0:n.command)!==null&&r!==void 0?r:this.value)!==null&&a!==void 0?a:"",this.mode=(o=n==null?void 0:n.mode)!==null&&o!==void 0?o:"math",this.isFunction=(l=n==null?void 0:n.isFunction)!==null&&l!==void 0&&l,this.subsupPlacement=n==null?void 0:n.limits,this.style=(s=n==null?void 0:n.style)!==null&&s!==void 0?s:{},this.displayContainsHighlight=(u=n==null?void 0:n.displayContainsHighlight)!==null&&u!==void 0&&u,n!=null&&n.serialize&&(V.customSerializer[n.command]=n.serialize)}static createBox(e,i,n){var r,a,o;if(!i)return null;const l=function(c){let d;const p=[];let h=[];for(const f of c){const g=f.computedStyle;d||f.style?d&&g.color===d.color&&g.backgroundColor===d.backgroundColor&&g.fontSize===d.fontSize?h.push(f):(h.length>0&&p.push(h),h=[f],d=f.computedStyle):h.push(f)}return h.length>0&&p.push(h),p}(i);if(l.length===1){const c=l[0];return c[0].style?Da(e,c,{...n,style:{color:c[0].style.color,backgroundColor:c[0].style.backgroundColor,fontSize:c[0].style.fontSize}}):Da(e,c,n)}const s=[];let u=n==null?void 0:n.newList;for(const c of l){const d=Da(new se(e,{color:(r=c[0].style)===null||r===void 0?void 0:r.color,backgroundColor:(a=c[0].style)===null||a===void 0?void 0:a.backgroundColor,fontSize:(o=c[0].style)===null||o===void 0?void 0:o.fontSize}),c,{newList:u});d&&(u=!1,s.push(d))}return s.length===0?null:s.length!==1||(n==null?void 0:n.classes)||(n==null?void 0:n.type)?new W(s,{classes:n==null?void 0:n.classes,type:n==null?void 0:n.type,newList:n==null?void 0:n.newList}).wrap(e):s[0].wrap(e)}static serialize(e,i){return Ze(e)?Bi(e,i):typeof e=="number"||typeof e=="boolean"?e.toString():typeof e=="string"?e.replace(/\s/g,"~"):e===void 0?"":i.expandMacro||typeof e.verbatimLatex!="string"?e.command&&V.customSerializer[e.command]?V.customSerializer[e.command](e,i):e.serialize(i):e.verbatimLatex}static commonAncestor(e,i){if(e===i||e.parent===i.parent)return e.parent;const n=new WeakSet;let{parent:r}=e;for(;r;)n.add(r),r=r.parent;for(r=i.parent;r;){if(n.has(r))return r;r=r.parent}}static fromJson(e,i){const n=new V(e.type,i,e);for(const r of zi)e[r]&&n.setChildren(e[r],r);return n}toJson(){const e={type:this.type};if(this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style={...this.style}),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.isExtensibleSymbol&&(e.isExtensibleSymbol=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this._branches)for(const i of Object.keys(this._branches))this._branches[i]&&(e[i]=this._branches[i].filter(n=>n.type!=="first").map(n=>n.toJson()));return e}get changeCounter(){return this._changeCounter}get isDirty(){return this._isDirty}set isDirty(e){if(this._isDirty=e,e){this._changeCounter++,this.verbatimLatex=void 0,this._children=void 0;let{parent:i}=this;for(;i;)i._isDirty=!0,i._changeCounter++,i.verbatimLatex=void 0,i._children=void 0,i=i.parent}}serialize(e){var i;return this.body&&this.command?Te([this.command,"{",this.bodyToLatex(e),"}",this.supsubToLatex(e)]):this.body?Te([this.bodyToLatex(e),this.supsubToLatex(e)]):this.value&&this.value!=="\u200B"?(i=this.command)!==null&&i!==void 0?i:function(n,r){var a;if(n==="text")return(a=Ir(n,r.codePointAt(0)))!==null&&a!==void 0?a:r;let o;if(o=Ir(n,r.codePointAt(0)),o)return o;const l=function(s){var u;if((s<119808||s>120831)&&(s<8448||s>8527))return{char:String.fromCodePoint(s)};for(const c in lo)if(lo[c]===s){s=(u=c.codePointAt(0))!==null&&u!==void 0?u:0;break}for(const c of Ml)if(s>=c.start&&s<c.start+c.len)return{char:String.fromCodePoint(s-c.start+c.offset),variant:c.variant,style:c.style};return{char:String.fromCodePoint(s)}}(r.codePointAt(0));return l.style||l.variant?(o=l.char,l.variant&&(o="\\"+l.variant+"{"+o+"}"),l.style==="bold"?o="\\mathbf{"+o+"}":l.style==="italic"?o="\\mathit{"+o+"}":l.style==="bolditalic"&&(o="\\mathbfit{"+o+"}"),"\\mathord{"+o+"}"):""}(this.mode,this.value):""}bodyToLatex(e){return Bi(this.body,e)}aboveToLatex(e){return Bi(this.above,e)}belowToLatex(e){return Bi(this.below,e)}supsubToLatex(e){let i="";if(this.branch("subscript")!==void 0){const n=Bi(this.subscript,e);n.length===0?i+="_{}":n.length===1?i+="_"+n:i+=`_{${n}}`}if(this.branch("superscript")!==void 0){const n=Bi(this.superscript,e);n.length===0?i+="^{}":n.length===1?i+=n==="\u2032"?"^\\prime ":n==="\u2033"?"^\\doubleprime ":"^"+n:i+=`^{${n}}`}return i}get treeDepth(){let e=1,i=this.parent;for(;i;)i=i.parent,e+=1;return e}get inCaptureSelection(){let e=!1,i=this;for(;i;){if(i.captureSelection){e=!0;break}i=i.parent}return e}branch(e){if(Pn(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];const e=[];for(const i of zi)this._branches[i]&&e.push(i);return e}createBranch(e){return Pn(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return $r(this.treeBranch)?this.treeBranch[0]:-1}get col(){return $r(this.treeBranch)?this.treeBranch[1]:-1}get body(){var e;return(e=this._branches)===null||e===void 0?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)===null||e===void 0?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)===null||e===void 0?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)===null||e===void 0?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)===null||e===void 0?void 0:e.below}set below(e){this.setChildren(e,"below")}get computedStyle(){var e;if(!this.parent)return{...(e=this.style)!==null&&e!==void 0?e:{}};const i=this.style.verbatimColor!==void 0,n=this.style.verbatimBackgroundColor!==void 0,r={...this.parent.computedStyle,...this.style};return delete r.variant,delete r.variantStyle,n||delete r.verbatimBackgroundColor,i||delete r.verbatimColor,r}applyStyle(e){this.isDirty=!0,this.style={...this.style,...e},this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(const i of this.children)i.applyStyle(e)}getInitialBaseElement(){let e;return this.hasEmptyBranch("body")||(e=this.body[1].getInitialBaseElement()),e!=null?e:this}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){const e=this.getInitialBaseElement();return/mord/.test(e.type)}hasEmptyBranch(e){const i=this.branch(e);return!i||i.length===1}setChildren(e,i){if(!e||!Pn(i))return;const n=[this.makeFirstAtom(i),...e];this._branches?this._branches[i]=n:this._branches={[i]:n};for(const r of e)r.parent=this,r.treeBranch=i;this.isDirty=!0}makeFirstAtom(e){const i=new V("first",this.context,{mode:this.mode});return i.parent=this,i.treeBranch=e,i}addChild(e,i){this.createBranch(i).push(e),this.isDirty=!0,e.parent=this,e.treeBranch=i}addChildBefore(e,i){const n=this.createBranch(i.treeBranch);n.splice(n.indexOf(i),0,e),this.isDirty=!0,e.parent=this,e.treeBranch=i.treeBranch}addChildAfter(e,i){const n=this.createBranch(i.treeBranch);n.splice(n.indexOf(i)+1,0,e),this.isDirty=!0,e.parent=this,e.treeBranch=i.treeBranch}addChildren(e,i){for(const n of e)this.addChild(n,i)}addChildrenAfter(e,i){const n=this.createBranch(i.treeBranch);n.splice(n.indexOf(i)+1,0,...e),this.isDirty=!0;for(const r of e)r.parent=this,r.treeBranch=i.treeBranch;return e[e.length-1]}removeBranch(e){const i=this.branch(e);if(Pn(e)&&(this._branches[e]=void 0),!i)return[];for(const n of i)n.parent=void 0,n.treeBranch=void 0;return i.shift(),this.isDirty=!0,i}removeChild(e){if(e.type==="first")return;const i=this.branch(e.treeBranch),n=i.indexOf(e);i.splice(n,1),this.isDirty=!0,e.parent=void 0,e.treeBranch=void 0}get siblings(){return this.type==="root"?[]:this.parent.branch(this.treeBranch)}get firstSibling(){return this.siblings[0]}get lastSibling(){const{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){const e=this.parent.branch(this.treeBranch);return e[e.indexOf(this)-1]}get rightSibling(){const e=this.parent.branch(this.treeBranch);return e[e.indexOf(this)+1]}get hasChildren(){return this._branches&&this.children.length>0}get firstChild(){return this.children[0]}get lastChild(){const{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];const e=[];for(const i of zi)if(this._branches[i])for(const n of this._branches[i])e.push(...n.children),e.push(n);return this._children=e,e}render(e,i){if(this.type==="first"&&!e.atomIdsSettings)return null;const n=new se(e,this.style);let r="";this.type==="root"&&(r+=" ML__base"),this.isSelected&&(r+=" ML__selected");let a=this.createBox(n,{classes:r,newList:(i==null?void 0:i.newList)===!0||this.type==="first"});return a?(this.subsupPlacement||!this.superscript&&!this.subscript||(a=this.attachSupsub(n,{base:a})),a.wrap(n)):null}attachSupsub(e,i){var n,r;const a=i.base,o=this.superscript,l=this.subscript;if(!o&&!l)return a;let s=null,u=null;const c=(n=i.isCharacterBox)!==null&&n!==void 0?n:this.isCharacterBox();let d=0;if(o){const k=new se(e,void 0,"superscript");s=V.createBox(k,o,{newList:!0}),c||(d=a.height-e.metrics.supDrop*k.scalingFactor)}let p,h=0;if(l){const k=new se(e,void 0,"subscript");u=V.createBox(k,l,{newList:!0}),c||(h=a.depth+e.metrics.subDrop*k.scalingFactor)}p=e.isDisplayStyle?e.metrics.sup1:e.isCramped?e.metrics.sup3:e.metrics.sup2;const f=.05/e.scalingFactor;let g=null;if(u&&s){d=Math.max(d,p,s.depth+.25*e.metrics.xHeight),h=Math.max(h,e.metrics.sub2);const k=e.metrics.defaultRuleThickness;if(d-s.depth-(u.height-h)<4*k){h=4*k-(d-s.depth)+u.height;const M=.8*e.metrics.xHeight-(d-s.depth);M>0&&(d+=M,h-=M)}const _=this.isExtensibleSymbol&&a.italic?-a.italic:0;g=new Ke({individualShift:[{box:u,shift:h,marginLeft:_},{box:s,shift:-d}]}).wrap(e)}else u&&!s?(h=Math.max(h,e.metrics.sub1,u.height-.3448),g=new Ke({shift:h,children:[{box:u,marginRight:f,marginLeft:this.isCharacterBox()?-((r=a.italic)!==null&&r!==void 0?r:0):0}]})):!u&&s&&(d=Math.max(d,p,s.depth+.10775),g=new Ke({shift:-d,children:[{box:s,marginRight:f}]}),g.wrap(e));const w=new W(g,{classes:"msubsup"+(this.isSelected?" ML__selected":"")});return this.caret&&(w.caret=this.caret),new W([a,w],{type:i.type})}attachLimits(e,i){var n;const r=this.superscript?V.createBox(new se(e,this.style,"superscript"),this.superscript,{newList:!0}):null,a=this.subscript?V.createBox(new se(e,this.style,"subscript"),this.subscript,{newList:!0}):null;return r||a?function(o,l){var s,u,c,d,p;const h=o.metrics,f=new W(l.base),g=(s=l.baseShift)!==null&&s!==void 0?s:0,w=(u=l.slant)!==null&&u!==void 0?u:0;let k=0,_=0;l.above&&(k=(c=l.aboveShift)!==null&&c!==void 0?c:Math.max(h.bigOpSpacing1,h.bigOpSpacing3-l.above.depth)),l.below&&(_=(d=l.belowShift)!==null&&d!==void 0?d:Math.max(h.bigOpSpacing2,h.bigOpSpacing4-l.below.height));let M=null;if(l.below&&l.above){const S=h.bigOpSpacing5+l.below.height+l.below.depth+_+f.depth+g;M=new Ke({bottom:S,children:[h.bigOpSpacing5,{box:l.below,marginLeft:-w,classes:["ML__center"]},_,{box:f,classes:["ML__center"]},k,{box:l.above,marginLeft:w,classes:["ML__center"]},h.bigOpSpacing5]}).wrap(o)}else if(l.below&&!l.above)M=new Ke({top:f.height-g,children:[h.bigOpSpacing5,{box:l.below,marginLeft:-w,classes:["ML__center"]},_,{box:f,classes:["ML__center"]}]}).wrap(o);else if(!l.below&&l.above){const S=f.depth+g;M=new Ke({bottom:S,children:[{box:f,classes:["ML__center"]},k,{box:l.above,marginLeft:w,classes:["ML__center"]},h.bigOpSpacing5]}).wrap(o)}else{const S=f.depth+g;M=new Ke({bottom:S,children:[{box:f},h.bigOpSpacing5]}).wrap(o)}return new W(M,{type:(p=l.type)!==null&&p!==void 0?p:"mop"})}(e,{...i,above:r,below:a,type:(n=i==null?void 0:i.type)!==null&&n!==void 0?n:"mop"}):i.base.wrap(e)}bind(e,i){if(!i||e.isPhantom||this.value==="\u200B")return i;let n=this.parent;for(;n&&!n.captureSelection;)n=n.parent;return n!=null&&n.captureSelection||(this.id||(this.id=e.makeID()),i.atomID=this.id),i}createMathfieldBox(e,i){var n;const r=(n=i==null?void 0:i.classes)!==null&&n!==void 0?n:"",a=new B0(i.placeholderId,i.element,{type:"mathfield",mode:this.mode,maxFontSize:e.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:e.letterShapeStyle,fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)},classes:r,newList:i==null?void 0:i.newList});return e.isTight&&(a.isTight=!0),this.mode==="math"&&this.style.variant!=="main"||(a.italic=0),a.right=a.italic,this.bind(e,a),a}createBox(e,i){var n,r,a,o;const l=(n=this.value)!==null&&n!==void 0?n:this.body,s=function(d){return z0.includes(d)}(this.type)?this.type:void 0;let u=(r=i==null?void 0:i.classes)!==null&&r!==void 0?r:"";this.mode==="text"&&(u+=" ML__text");const c=typeof l=="string"||l===void 0?new W((a=l)!==null&&a!==void 0?a:null,{type:s,mode:this.mode,maxFontSize:e.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:e.letterShapeStyle,fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)},classes:u,newList:i==null?void 0:i.newList}):(o=V.createBox(e,l,{type:s,mode:this.mode,style:this.style,classes:u,newList:i==null?void 0:i.newList}))!==null&&o!==void 0?o:new W(null);return e.isTight&&(c.isTight=!0),this.mode==="math"&&this.style.variant!=="main"||(c.italic=0),c.right=c.italic,this.bind(e,c),this.caret&&(this.superscript||this.subscript||(c.caret=this.caret)),c}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,.]$/.test(this.value):this.type==="group"&&((e=this.body)===null||e===void 0?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)===null||e===void 0?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}}function Bi(t,e){if(!t||t.length===0)return"";if(t[0].type==="first"){if(t.length===1)return"";t=t.slice(1)}return t.length===0?"":Te(Ct(t,"cssClass").map(i=>Te(Ct(i,"color").map(n=>Te(function(r){const a=[];let o=[],l="NONE";for(const s of r)s.type!=="first"&&(s.mode!==l?(o.length>0&&a.push(o),o=[s],l=s.mode):o.push(s));return o.length>0&&a.push(o),a}(n).map(r=>Mt.serialize(r,e)))))))}function Da(t,e,i){var n,r,a,o;function l(h){return h.mode==="text"}if(!e||e.length===0)return null;const s=new se(t,i==null?void 0:i.style),u=!s.atomIdsSettings||!s.atomIdsSettings.groupNumbers;let c,d=[],p=(n=i==null?void 0:i.newList)!==null&&n!==void 0&&n;if(e.length===1){const h=e[0],f=h.render(s,{newList:p});f&&(u&&h.isSelected&&f.selected(!0),d=[f])}else{let h="",f=!0;for(const g of e){((r=s.atomIdsSettings)===null||r===void 0?void 0:r.groupNumbers)&&h&&(f&&g.isDigit()||!f&&l(g))&&(s.atomIdsSettings.overrideID=h);const w=g.render(s,{newList:p});s.atomIdsSettings&&(s.atomIdsSettings.overrideID=void 0),w&&(p=g.type==="group"&&!g.boxType,!((a=s.atomIdsSettings)===null||a===void 0)&&a.groupNumbers&&((g.isDigit()||l(g))&&(h&&f===g.isDigit()||(f=g.isDigit(),h=(o=g.id)!==null&&o!==void 0?o:"")),!h||(g.isDigit()||l(g))&&g.hasEmptyBranch("superscript")&&g.hasEmptyBranch("subscript")||(h="")),u&&g.isSelected&&w.selected(!0),d.push(w))}}return d.length===0?null:(i||s.isTight||d.length>1?(c=new W(d,{isTight:s.isTight,...i!=null?i:{}}),c.isSelected=d.every(h=>h.isSelected)):c=d[0],c.wrap(s).wrap(t))}V.customSerializer={};class et extends V{constructor(e,i,n){var r,a,o;super("group",i,{command:n==null?void 0:n.command,mode:(r=n==null?void 0:n.mode)!==null&&r!==void 0?r:"math",serialize:n==null?void 0:n.serialize,style:n==null?void 0:n.style,displayContainsHighlight:!0}),this.body=e,this.mathstyleName=n==null?void 0:n.mathstyleName,this.latexOpen=n==null?void 0:n.latexOpen,this.latexClose=n==null?void 0:n.latexClose,this.cssId=n==null?void 0:n.cssId,this.htmlData=n==null?void 0:n.htmlData,this.htmlStyle=n==null?void 0:n.htmlStyle,this.customClass=n==null?void 0:n.customClass,this.boxType=n==null?void 0:n.boxType,this.skipBoundary=!0,this.captureSelection=(a=n==null?void 0:n.captureSelection)!==null&&a!==void 0&&a,this.changeMode=(o=n==null?void 0:n.changeMode)!==null&&o!==void 0&&o,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e,i){return new et(e.body,i,e)}toJson(){const e={};return this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.latexOpen&&(e.latexOpen=this.latexOpen),this.latexClose&&(e.latexClose=this.latexClose),this.cssId&&(e.cssId=this.cssId),this.htmlData&&(e.htmlData=this.htmlData),this.htmlStyle&&(e.htmlStyle=this.htmlStyle),this.customClass&&(e.customClass=this.customClass),this.boxType&&(e.boxType=this.boxType),this.captureSelection&&(e.captureSelection=!0),this.changeMode&&(e.changeMode=!0),{...super.toJson(),...e}}render(e){const i=new se(e,this.style,this.mathstyleName),n=V.createBox(i,this.body,{type:this.boxType,classes:this.customClass,mode:this.mode,style:{backgroundColor:this.style.backgroundColor},newList:!this.boxType});return n?(this.cssId&&(n.cssId=this.cssId),this.htmlData&&(n.htmlData=this.htmlData),this.htmlStyle&&(n.htmlStyle=this.htmlStyle),this.caret&&(n.caret=this.caret),this.bind(e,n)):null}serialize(e){let i=this.bodyToLatex(e);return typeof this.latexOpen=="string"&&(i=this.latexOpen+i+this.latexClose),this.htmlData&&(i=`\\htmlData{${this.htmlData}}{${i}}`),this.htmlStyle&&(i=`\\htmlStyle{${this.htmlStyle}}{${i}}`),this.customClass&&(i=`\\class{${this.customClass}}{${i}}`),this.cssId&&(i=`\\cssId{${this.cssId}}{${i}}`),i}}class kn extends V{constructor(e,i,n,r){super("spacing",n,{command:e,style:i}),this.width=r}static fromJson(e,i){return new kn(e.command,e.style,i,e.width)}toJson(){const e={};return this.width&&(e.width=this.width),{...super.toJson(),...e}}render(e){var i;let n;if(this.width)n=new W(null,{classes:"mspace"}),n.left=Ht(this.width.glue);else{const r=(i={"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"}[this.command])!==null&&i!==void 0?i:"mediumspace";n=new W(null,{classes:r})}return n=this.bind(e,n),this.caret&&(n.caret=this.caret),n}serialize(e){var i;let n=(i=this.command)!==null&&i!==void 0?i:"";return this.command==="\\hspace"||this.command==="\\hspace*"?Number.isFinite(this.width)?n+=`{${this.width}em'}`:n+="{0pt}":Number.isFinite(this.width)&&(n+=` ${this.width}em`),n}}const Hn={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},K0=Object.fromEntries(Object.entries(Hn).map(([t,e])=>[e,t]));function Br(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"\u2223":8739,"\u2225":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!==null&&e!==void 0?e:t.codePointAt(0)}function El(t,e,i,n,r){const a=new se(n,r==null?void 0:r.style,"textstyle"),o=new W(Br(t),{fontFamily:"Size"+e+"-Regular",classes:"ML__delim-size"+e}).wrap(a);return i&&o.setTop(.25*(1-a.scalingFactor)),o}function Dl(t,e,i,n,r){var a;let o,l,s,u;o=s=u=Br(t),l=null;let c="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?s=o=u=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?s=o=u=8741:t==="\\uparrow"?s=u=9168:t==="\\Uparrow"?s=u=8214:t==="\\downarrow"?o=s=9168:t==="\\Downarrow"?o=s=8214:t==="\\updownarrow"?(o=8593,s=9168,u=8595):t==="\\Updownarrow"?(o=8657,s=8214,u=8659):t==="["||t==="\\lbrack"?(o=9121,s=9122,u=9123,c="Size4-Regular"):t==="]"||t==="\\rbrack"?(o=9124,s=9125,u=9126,c="Size4-Regular"):t==="\\lfloor"||t==="\u230A"?(s=o=9122,u=9123,c="Size4-Regular"):t==="\\lceil"||t==="\u2308"?(o=9121,s=u=9122,c="Size4-Regular"):t==="\\rfloor"||t==="\u230B"?(s=o=9125,u=9126,c="Size4-Regular"):t==="\\rceil"||t==="\u2309"?(o=9124,s=u=9125,c="Size4-Regular"):t==="("||t==="\\lparen"?(o=9115,s=9116,u=9117,c="Size4-Regular"):t===")"||t==="\\rparen"?(o=9118,s=9119,u=9120,c="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(o=9127,l=9128,u=9129,s=9130,c="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o=9131,l=9132,u=9133,s=9130,c="Size4-Regular"):t==="\\lgroup"||t==="\u27EE"?(o=9127,u=9129,s=9130,c="Size4-Regular"):t==="\\rgroup"||t==="\u27EF"?(o=9131,u=9133,s=9130,c="Size4-Regular"):t==="\\lmoustache"||t==="\u23B0"?(o=9127,u=9133,s=9130,c="Size4-Regular"):t==="\\rmoustache"||t==="\u23B1"?(o=9131,u=9129,s=9130,c="Size4-Regular"):t==="\\surd"?(o=57345,u=9143,s=57344,c="Size4-Regular"):t==="\\ulcorner"?(o=9484,s=u=32):t==="\\urcorner"?(o=9488,s=u=32):t==="\\llcorner"?(u=9492,s=o=32):t==="\\lrcorner"&&(o=9496,s=o=32);const d=Ei(o,c),p=d.height+d.depth,h=Ei(s,c),f=h.height+h.depth,g=Ei(u,c),w=g.height+g.depth;let k=0,_=1;if(l!==null){const ie=Ei(l,c);k=ie.height+ie.depth,_=2}const M=p+w+k,S=Math.max(0,Math.ceil((e-M)/(_*f))),I=M+S*_*f;let D=.25;i&&(D*=n.scalingFactor);const F=I/2-D,R=[];R.push({box:new W(u,{fontFamily:c})}),R.push(-.008);const Q=new W(s,{fontFamily:c});if(l===null)for(let ie=0;ie<S;ie++)R.push({box:Q});else{for(let ie=0;ie<S;ie++)R.push({box:Q});R.push(-.008),R.push({box:new W(l,{fontFamily:c})}),R.push(-.008);for(let ie=0;ie<S;ie++)R.push({box:Q})}R.push(-.008),R.push({box:new W(o,{fontFamily:c})});let z="";c==="Size1-Regular"?z=" delim-size1":c==="Size4-Regular"&&(z=" delim-size4");const O=new Ke({bottom:F,children:R},{classes:z});return new W(O,{...r!=null?r:{},classes:((a=r==null?void 0:r.classes)!==null&&a!==void 0?a:"")+" ML__delim-mult"})}const Tl=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","\u230A","\u230B","\u2308","\u2309"]),V0=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","\u27EE","\u27EF","\u23B0","\u23B1"]),zl=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),R0=[0,1.2,1.8,2.4,3],j0=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],H0=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],W0=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function Kr(t,e,i,n,r,a){var o;if(!e||e.length===0||e===".")return Fi(r,t,t);let l;e==="<"||e==="\\lt"?e="\\langle":e!==">"&&e!=="\\gt"||(e="\\rangle"),l=zl.has(e)?j0:Tl.has(e)?W0:H0;const s=function(c,d,p,h){for(let g={"-4":0,"-3":1,0:2}[h.mathstyle.sizeDelta];g<p.length&&p[g].type!=="stack";g++){const w=Ei(c,(f=p[g]).type==="small"?"Main-Regular":f.type==="large"?"Size"+f.size+"-Regular":"Size4-Regular");if(w.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let k=w.height+w.depth;if(p[g].type==="small"&&(p[g].mathstyle==="scriptscriptstyle"?k*=co[Math.max(1,h.size-2)]:p[g].mathstyle==="scriptstyle"&&(k*=co[Math.max(1,h.size-1)])),k>d)return p[g]}var f;return p[p.length-1]}(Br(e),i,l,r),u=new se(r,a==null?void 0:a.style,s.mathstyle);return s.type==="small"?function(c,d,p,h){const f=new W(Br(c),{fontFamily:"Main-Regular"}).wrap(d,h);return p&&f.setTop(.25*(1-d.scalingFactor)),f}(e,u,n,{type:t,classes:"ML__small-delim "+((o=a==null?void 0:a.classes)!==null&&o!==void 0?o:"")}):s.type==="large"?El(e,s.size,n,u,{...a,type:t}):Dl(e,i,n,u,{...a,type:t})}function Wn(t,e,i,n,r,a){if(e===".")return Fi(r,t,a==null?void 0:a.classes);const o=.25*r.scalingFactor,l=Math.max(i-o,n+o);return Kr(t,e,Math.max(l/500*901,2*l-.5),!0,r,a)}function Fi(t,e,i){const n=new se(t,void 0,"textstyle");return new W(null,{classes:" nulldelimiter "+(i!=null?i:""),type:e}).wrap(n)}class tt extends V{constructor(e,i,n,r){super("leftright",n,{style:r.style,displayContainsHighlight:!0}),this.variant=e,this.body=i,this.leftDelim=r.leftDelim,this.rightDelim=r.rightDelim}static fromJson(e,i){var n;return new tt((n=e.variant)!==null&&n!==void 0?n:"",e.body,i,e)}toJson(){const e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}serialize(e){var i,n;const r=this.matchingRightDelim();return this.variant==="left...right"?Te(["\\left"+((i=this.leftDelim)!==null&&i!==void 0?i:"."),this.bodyToLatex(e),"\\right"+r]):this.variant==="mleft...mright"?Te(["\\mleft"+((n=this.leftDelim)!==null&&n!==void 0?n:"."),this.bodyToLatex(e),"\\mright"+r]):Te([this.leftDelim&&this.leftDelim!=="."?this.leftDelim:"",this.bodyToLatex(e),r])}matchingRightDelim(){var e,i;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;const n=(e=this.leftDelim)!==null&&e!==void 0?e:".";return(i=Hn[n])!==null&&i!==void 0?i:n}render(e){var i,n,r;const a=new se(e,this.style),o=new se(e,this.style,"textstyle"),l=(i=V.createBox(a,this.body,{newList:!0}))!==null&&i!==void 0?i:new W(null,{newList:!0}),s=l.height/o.scalingFactor,u=l.depth/o.scalingFactor,c=[];if(this.leftDelim&&c.push(this.bind(o,Wn("mopen",this.leftDelim,s,u,o,{classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),l){if(l.children)for(let h=0;h<l.children.length;h++){const f=l.children[h];if(f.delim){const g=f.caret;l.children[h]=this.bind(a,Wn("minner",f.delim,s,u,a)),l.children[h].caret=g}}c.push(l)}if(this.rightDelim){let h=this.containsCaret?" ML__contains-caret":"",f=this.rightDelim;f==="?"&&(this.context.smartFence?(f=this.matchingRightDelim(),h+=" ML__smart-fence__close"):f="."),c.push(this.bind(o,Wn("mclose",f,s,u,o,{classes:h+" ML__close",mode:this.mode,style:this.style})))}const d=(r=this.variant==="mleft...mright"||((n=this.leftSibling)===null||n===void 0?void 0:n.isFunction))!==null&&r!==void 0&&r,p=new W(c,{type:d?"mclose":"minner",classes:"left-right"});return this.caret&&(p.caret=this.caret),this.bind(a,p.wrap(a))}}class _n extends V{constructor(e,i){super("msubsup",e,{style:i==null?void 0:i.style})}static fromJson(e,i){const n=new _n(i,e);for(const r of zi)e[r]&&n.setChildren(e[r],r);return n}toJson(){return super.toJson()}render(e){var i;const n=new se(e,{isPhantom:!0}),r=(i=this.leftSibling.render(n))!==null&&i!==void 0?i:new W(null),a=new W(null,{height:r.height,depth:r.depth});return this.attachSupsub(e,{base:a,isCharacterBox:this.leftSibling.isCharacterBox(),type:"supsub"})}serialize(e){return this.supsubToLatex(e)}}class xi extends V{constructor(e,i){var n;const r=(i==null?void 0:i.value)||e.placeholderSymbol;super("placeholder",e,{mode:(n=i==null?void 0:i.mode)!==null&&n!==void 0?n:"math",style:i==null?void 0:i.style,value:r,command:"\\placeholder"}),this.captureSelection=!0,this.placeholderId=i==null?void 0:i.placeholderId,this.defaultValue=i==null?void 0:i.default}static fromJson(e,i){return new xi(i,e)}toJson(){const e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.value===this.context.placeholderSymbol&&delete e.value,this.defaultValue&&(e.defaultValue=this.defaultValue.map(i=>i.toJson())),e}render(e){if(typeof e.renderPlaceholder=="function")return e.renderPlaceholder(e,this);let i="";return this.caret&&(i+="ML__placeholder-selected"),this.isSelected&&(i+="ML__selected"),this.createBox(e,{classes:i})}serialize(e){var i;let n=(i=this.value)!==null&&i!==void 0?i:"";return n===this.context.placeholderSymbol&&(n=""),`\\placeholder${this.placeholderId?`[${this.placeholderId}]`:""}${this.defaultValue?`[${V.serialize(this.defaultValue,e)}]`:""}{${n}}`}}class oa extends V{constructor(e,i){super("error",i,{value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e,i){return new oa(e.command,i)}toJson(){return super.toJson()}render(e){const i=this.createBox(e,{classes:"ML__error"});return this.caret&&(i.caret=this.caret),i}}class sa extends V{constructor(e,i,n){var r,a;super("macro",i,{command:e}),this.body=n.body,n.captureSelection===void 0?n.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=n.captureSelection,this.macroArgs=(r=n.args)!==null&&r!==void 0?r:"",this.expand=(a=n.expand)!==null&&a!==void 0&&a}static fromJson(e,i){return new sa(e.command,i,e)}toJson(){const e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}serialize(e){return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+this.macroArgs}render(e){const i=V.createBox(e,this.body);return i?(this.caret&&(i.caret=this.caret),this.bind(e,i)):null}}class Oi extends V{constructor(e,i,n,r){super("text",r,{command:e,mode:"text",displayContainsHighlight:!0}),this.value=i,this.verbatimLatex=i,this.applyStyle(n)}static fromJson(e,i){return new Oi(e.command,e.value,e.style,i)}toJson(){return super.toJson()}render(e){const i=this.createBox(e);return this.caret&&(i.caret=this.caret),i}serialize(e){var i;return(i=this.verbatimLatex)!==null&&i!==void 0?i:Ir("text",this.value.codePointAt(0))}}function fr(t){return!/^<({|}|\$|\$\$|space)>$/.test(t)}class la{constructor(e,i,n){var r,a,o,l,s,u;this.index=0,this.endCount=0,this.tokens=e,this.context=i,this.errors=[],this.args=(r=n.args)!==null&&r!==void 0?r:null,this.smartFence=(a=n.smartFence)!==null&&a!==void 0?a:i.smartFence,this._currentParsingContext={parent:void 0,mathlist:[],style:(o=n.style)!==null&&o!==void 0?o:{},parseMode:(l=n.parseMode)!==null&&l!==void 0?l:"math",mathstyle:(s=n.mathstyle)!==null&&s!==void 0?s:"displaystyle",registers:(u=n.registers)!==null&&u!==void 0?u:i.registers,tabular:!1}}get currentContext(){return this._currentParsingContext}get rootContext(){let e=this._currentParsingContext;for(;e.parent;)e=e.parent;return e}beginContext(e){var i,n,r;const a={parent:this.currentContext,mathlist:[],style:{...this.currentContext.style},parseMode:(i=e==null?void 0:e.mode)!==null&&i!==void 0?i:this.currentContext.parseMode,mathstyle:(n=e==null?void 0:e.mathstyle)!==null&&n!==void 0?n:this.currentContext.mathstyle,registers:null,tabular:(r=e==null?void 0:e.tabular)!==null&&r!==void 0&&r};this._currentParsingContext=a}endContext(){this._currentParsingContext=this._currentParsingContext.parent}onError(e){this.errors.push({before:Ln(this.tokens.slice(this.index,this.index+10)),after:Ln(this.tokens.slice(Math.max(0,this.index-10),this.index)),...e})}get mathlist(){return this.currentContext.mathlist}set mathlist(e){this.currentContext.mathlist=e}get parseMode(){return this.currentContext.parseMode}set parseMode(e){this.currentContext.parseMode=e}get tabularMode(){return this.currentContext.tabular}get style(){let e=this.currentContext;for(;e;){if(e.style)return e.style;e=e.parent}return{}}set style(e){this.currentContext.style=e}getRegister(e){var i,n,r;if(e.startsWith("global "))return(n=(i=this.rootContext.registers)===null||i===void 0?void 0:i[e.slice(7)])!==null&&n!==void 0?n:0;let a=this.currentContext;for(;a;){if(!((r=a.registers)===null||r===void 0)&&r[e])return a.registers[e];a=a.parent}return 0}setRegister(e,i){var n;if(e.startsWith("global ")){e=e.slice(7);let r=this.currentContext;for(;r;)!((n=r.registers)===null||n===void 0)&&n[e]&&delete r.registers[e],r=r.parent;this.rootContext.registers[e]=i}else this.currentContext.registers||(this.currentContext.registers={}),this.currentContext.registers[e]=i}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(e){return this.tokens[this.index]===e&&(this.index++,!0)}lastSubsupAtom(){let e;return this.mathlist.length>0&&(e=this.mathlist[this.mathlist.length-1],e.type==="msubsup"||e.subsupPlacement!==void 0)||(e=new _n(this.context,{style:this.style}),this.mathlist.push(e)),e}hasPattern(e){return e.test(this.tokens[this.index])}hasInfixCommand(){var e;const{index:i}=this;if(i<this.tokens.length&&this.tokens[i].startsWith("\\")){const n=this.context.getDefinition(this.tokens[i],this.parseMode);return!(!n||n.definitionType==="symbol")&&!(n.ifMode&&!n.ifMode.includes(this.parseMode))&&(e=n.infix)!==null&&e!==void 0&&e}return!1}matchColumnSeparator(){const{index:e}=this;return!(!this.tabularMode||this.tokens[e]!=="&"||(this.index++,0))}matchRowSeparator(){const{index:e}=this;return!(!this.tabularMode||this.tokens[e]!=="\\\\"&&this.tokens[e]!=="\\cr"||(this.index++,0))}placeholder(){var e;const i=(e=this.args)===null||e===void 0?void 0:e.call(this,"?");return i?mt(i,this.context,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new xi(this.context,{mode:this.parseMode,style:this.style})]}matchWhitespace(){let e=!1;for(;this.match("<space>");)e=!0;return e}skipUntilToken(e){let i=this.tokens[this.index];for(;i&&i!==e;)i=this.tokens[++this.index];i===e&&this.index++}skipFiller(){let e=!1;do{const i=this.matchWhitespace(),n=this.match("\\relax");e=!i&&!n}while(!e)}matchKeyword(e){const i=this.index;let n=this.end(),r="";for(;!n;){const o=this.get();fr(o)?(r+=o,n=this.end()||r.length>=e.length):n=!0}const a=e.toUpperCase()===r.toUpperCase();return a||(this.index=i),a}scanString(){let e="";for(;!this.end();)if(this.match("<space>"))e+=" ";else{const i=this.peek();if(i==="]")break;if(fr(i))e+=this.get();else{if(!i.startsWith("\\"))break;this.onError({code:"unbalanced-braces"}),e+=this.get()}}return e}scanBalancedString(){let e="",i=this.end(),n=1;for(;!i;){if(this.match("<space>"))e+=" ";else{const r=this.get();r==="<{>"?(e+="{",n+=1):r==="<}>"?(n-=1,n>0?e+="}":this.index-=1):e+=r==="<$>"?"$":r==="<$$>"?"$$":r}i=n===0||this.end()}return e}matchLiteralArg(){var e;let i="";if(this.match("<{>")){let n=1;for(;n>0&&!this.end();){const r=this.get();r==="<}>"?(n-=1,n>0&&(i+="}")):r==="<{>"?(n+=1,i+="{"):i+=(e={"<space>":" ","<$$>":"$$","<$>":"$"}[r])!==null&&e!==void 0?e:r}}return i}scanNumber(e=!0){var i,n;let r=!1,a=this.peek();for(;a==="<space>"||a==="+"||a==="-";)this.get(),a==="-"&&(r=!r),a=this.peek();e=Boolean(e);let o=10,l=/\d/;if(this.match("'"))o=8,l=/[0-7]/,e=!0;else if(this.match('"')||this.match("x"))o=16,l=/[\dA-F]/,e=!0;else if(this.match("`"))return a=this.get(),a?a.startsWith("\\")&&a.length===2?(r?-1:1)*((i=a.codePointAt(1))!==null&&i!==void 0?i:0):(r?-1:1)*((n=a.codePointAt(0))!==null&&n!==void 0?n:0):null;let s="";for(;this.hasPattern(l);)s+=this.get();if(!e&&(this.match(".")||this.match(",")))for(s+=".";this.hasPattern(l);)s+=this.get();const u=e?Number.parseInt(s,o):Number.parseFloat(s);return Number.isNaN(u)?null:r?-u:u}scanDimen(){var e,i,n;let r,a=this.scanNumber(!1);if(a===null){if(!(!((e=this.peek())===null||e===void 0)&&e.startsWith("\\")))return null;a=1}return this.matchWhitespace(),this.matchKeyword("pt")?r={dimension:a,unit:"pt"}:this.matchKeyword("mm")?r={dimension:a,unit:"mm"}:this.matchKeyword("cm")?r={dimension:a,unit:"cm"}:this.matchKeyword("ex")?r={dimension:a,unit:"ex"}:this.matchKeyword("px")?r={dimension:a,unit:"px"}:this.matchKeyword("em")?r={dimension:a,unit:"em"}:this.matchKeyword("bp")?r={dimension:a,unit:"bp"}:this.matchKeyword("dd")?r={dimension:a,unit:"dd"}:this.matchKeyword("pc")?r={dimension:a,unit:"pc"}:this.matchKeyword("in")?r={dimension:a,unit:"in"}:this.matchKeyword("mu")?r={dimension:a,unit:"mu"}:!((i=this.peek())===null||i===void 0)&&i.startsWith("\\")?(r=(n=ua(this.getRegister(this.get().slice(1)),this.context))!==null&&n!==void 0?n:{dimension:0},r.dimension*=a):(this.match("\\relax")||this.onError({code:"missing-unit"}),r={dimension:a,unit:"pt"}),r}scanGlue(){const e=this.scanDimen();if(e===null)return null;const i={glue:e};return this.matchWhitespace(),this.match("\\relax")||(this.matchKeyword("plus")&&this.scanDimen(),this.matchWhitespace(),this.match("\\relax")||(this.matchWhitespace(),this.matchKeyword("minus")&&this.scanDimen())),i}scanColspec(){this.matchWhitespace();const e=[];for(;!this.end()&&this.peek()!=="<}>"&&this.peek()!=="]";){const i=this.get();i==="c"||i==="r"||i==="l"?e.push({align:i}):i==="|"?e.push({separator:"solid"}):i===":"?e.push({separator:"dashed"}):i==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),e.push({gap:this.parse(n=>n==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return e}parseModeSet(){let e="";if(this.match("\\(")&&(e="\\)"),!e&&this.match("\\[")&&(e="\\]"),!e)return null;this.beginContext({mode:"math",mathstyle:e==="\\)"?"textstyle":"displaystyle"});const i=new et(this.parse(n=>n===e),this.context,{mathstyleName:e==="\\)"?"textstyle":"displaystyle",latexOpen:e==="\\]"?"\\[":"\\(",latexClose:e,boxType:"mord"});return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),i.hasEmptyBranch("body")?null:i}parseModeShift(){let e="";if(this.match("<$>")&&(e="<$>"),!e&&this.match("<$$>")&&(e="<$$>"),!e)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});const i=new et(this.parse(n=>n===e),this.context,{mathstyleName:e==="<$>"?"textstyle":"displaystyle",latexOpen:e==="<$>"?"$ ":"$$ ",latexClose:e==="<$>"?" $":" $$"});return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),i.hasEmptyBranch("body")?null:i}parseEnvironment(){if(!this.match("\\begin"))return null;const e=this.parseArgument("string");if(!e)return null;const i=function(s){var u;return(u=Ro[s])!==null&&u!==void 0?u:null}(e);if(!i)return this.onError({code:"unknown-environment",arg:e}),null;const n=[];if(i.params)for(const s of i.params)if(s.isOptional)n.push(this.parseOptionalArgument(s.type));else{const u=this.parseArgument(s.type);u||this.onError({code:"missing-argument",arg:e}),n.push(u)}this.beginContext({tabular:i.tabular});const r=[],a=[];let o=[],l=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:e}),l=!0),!l&&this.match("\\end")&&(this.parseArgument("string")!==e&&this.onError({code:"unbalanced-environment",arg:e}),l=!0),!l)if(this.matchColumnSeparator())o.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){o.push(this.mathlist),this.mathlist=[];let s=null;this.matchWhitespace(),this.match("[")&&(s=this.scanDimen(),this.matchWhitespace(),this.match("]")),a.push(s!=null?s:{dimension:0}),r.push(o),o=[]}else this.mathlist.push(...this.parse(s=>s==="<}>"||s==="&"||s==="\\end"||s==="\\cr"||s==="\\\\"));while(!l);return o.push(this.mathlist),o.length>0&&r.push(o),this.endContext(),i.createAtom(this.context,e,r,a,n)}parse(e){this.beginContext(),e||(e=s=>s==="<}>");let i="",n=null,r=[],a=null;const o=this.mathlist;for(this.mathlist=[];!this.end()&&!e(this.peek());)this.hasInfixCommand()&&!i?(i=this.get(),n=this.context.getDefinition(i,"math"),n&&(r=this.parseArguments(n)[1]),a=this.mathlist,this.mathlist=[]):this.parseToken();let l;return i?(r.unshift(this.mathlist),this.mathlist=o,a&&r.unshift(a),l=[n.createAtom(i,r,this.style,this.context)]):(l=this.mathlist,this.mathlist=o),this.endContext(),l}parseGroup(){if(!this.match("<{>"))return null;const e=new et(this.parse(i=>i==="<}>"),this.context,{mode:this.parseMode,latexOpen:"{",latexClose:"}"});return this.match("<}>")||this.onError({code:"unbalanced-braces"}),e}scanSmartFence(){if(this.matchWhitespace(),!this.match("("))return null;this.beginContext();let e=1;for(;!this.end()&&e!==0;)this.match("(")&&(e+=1),this.match(")")&&(e-=1),e!==0&&this.parseToken();e===0&&this.match(")");const i=new tt("",this.mathlist,this.context,{leftDelim:"(",rightDelim:e===0?")":"?"});return this.endContext(),i}scanDelim(){this.matchWhitespace();const e=this.get();if(!e)return this.onError({code:"unexpected-end-of-string"}),null;let i=".";(e.startsWith("\\")||fr(e))&&(i=e);const n=this.context.getDefinition(i,"math");return n?n.definitionType==="function"&&n.ifMode&&!n.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:i}),null):n.definitionType!=="symbol"||n.type!=="mopen"&&n.type!=="mclose"?/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(i)?i:(this.onError({code:"unexpected-delimiter",arg:i}),null):i:(this.onError({code:"unknown-command",arg:i}),null)}parseLeftRight(){var e;if(this.match("\\right")||this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),null;let i="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;i="\\mright"}const n=this.scanDelim();if(!n)return null;for(this.beginContext();!this.end()&&!this.match(i);)this.parseToken();const r=this.mathlist;this.endContext();const a=(e=this.scanDelim())!==null&&e!==void 0?e:".";return new tt(i==="\\right"?"left...right":"mleft...mright",r,this.context,{leftDelim:n,rightDelim:a,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let e=this.peek();if(e!=="^"&&e!=="_"&&e!=="'")return!1;for(;e==="^"||e==="_"||e==="'";){if(this.match("'"))this.match("'")?this.lastSubsupAtom().addChild(new V("mord",this.context,{command:"\\doubleprime",mode:"math",value:"\u2032\u2032"}),"superscript"):this.lastSubsupAtom().addChild(new V("mord",this.context,{command:"\\prime",mode:"math",value:"\u2032"}),"superscript");else if(this.match("^")||this.match("_")){const i=this.parseArgument("math");i?this.lastSubsupAtom().addChildren(i,e==="_"?"subscript":"superscript"):this.lastSubsupAtom().createBranch(e==="_"?"subscript":"superscript")}e=this.peek()}return!0}parseLimits(){const e=this.match("\\limits"),i=!e&&this.match("\\nolimits"),n=!i&&!e&&this.match("\\displaylimits");if(!e&&!i&&!n)return!1;const r=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return!(r===null||r.type!=="mop"||(e?(r.subsupPlacement="over-under",r.explicitSubsupPlacement=!0,0):i?(r.subsupPlacement="adjacent",r.explicitSubsupPlacement=!0,0):!n||(r.subsupPlacement="auto",r.explicitSubsupPlacement=!0,0)))}parseArguments(e){if(!e||!e.params)return[void 0,[]];let i;const n=[];let r=e.infix?2:0;for(;r<e.params.length;){const a=e.params[r];if(a.type==="rest")n.push(this.parse(o=>o==="<}>"||o==="&"||o==="\\end"||o==="\\cr"||o==="\\\\"));else if(a.isOptional)n.push(this.parseOptionalArgument(a.type));else if(a.type.endsWith("*"))i=a.type.slice(0,-1);else{const o=this.parseArgument(a.type);if(o!==null)n.push(o);else switch(this.onError({code:"missing-argument"}),a.type){case"number":n.push(0);break;case"dimen":n.push({dimension:0,unit:"pt"});break;case"glue":n.push({glue:{dimension:0,unit:"pt"}});break;case"string":case"balanced-string":n.push("");break;case"delim":n.push(".");break;case"colspec":n.push("llllllllll");break;default:n.push(this.placeholder())}}r+=1}return[i,n]}parseArgument(e){var i,n;this.skipFiller(),e==="auto"&&(e=this.parseMode);let r=null;const a=this.peek()==="<{>";if(!a){if(e==="delim")return(i=this.scanDelim())!==null&&i!==void 0?i:".";if(e==="text"||e==="math"){this.beginContext();const l=this.parseSimpleToken();return this.endContext(),l}}if(a&&this.get(),e==="text"||e==="math"){this.beginContext({mode:e});do this.mathlist.push(...this.parse());while(!this.match("<}>")&&!this.end())}else if(this.beginContext(),e==="string"?r=this.scanString():e==="balanced-string"?r=this.scanBalancedString():e==="number"?r=this.scanNumber():e==="colspec"?r=this.scanColspec():e==="dimen"?r=this.scanDimen():e==="glue"?r=this.scanGlue():e==="delim"&&(r=(n=this.scanDelim())!==null&&n!==void 0?n:"."),a&&this.skipUntilToken("<}>"),r===null)return this.endContext(),null;const o=this.mathlist;return this.endContext(),r!=null?r:o}parseOptionalArgument(e){var i,n;if(e=e==="auto"?this.parseMode:e,this.matchWhitespace(),!this.match("["))return null;let r=null;for(;!this.end()&&!this.match("]");)if(e==="string")r=this.scanString();else if(e==="number")r=this.scanNumber();else if(e==="dimen")r=this.scanDimen();else if(e==="glue")r=this.scanGlue();else if(e==="colspec")r=this.scanColspec();else if(e==="bbox"){const a=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),o={};for(const l of a){const s=(n=(i=this.context).backgroundColorMap)===null||n===void 0?void 0:n.call(i,l);if(s)o.backgroundcolor=s;else{const u=l.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(u)o.padding=u[0];else{const c=l.match(/^\s*border\s*:\s*(.*)/);c&&(o.border=c[1])}}}r=o}else e==="math"&&(this.beginContext({mode:"math"}),r=this.mathlist.concat(this.parse(a=>a==="]")),this.endContext());return r}parseCommand(e){var i,n,r,a,o,l,s;if(e==="\\placeholder")return[new xi(this.context,{mode:this.parseMode,placeholderId:this.parseOptionalArgument("string"),value:(i=this.parseArgument("string"))!==null&&i!==void 0?i:void 0,style:this.style})];let u=null;if(e==="\\char"){const p=this.index;let h=Math.floor((n=this.scanNumber(!0))!==null&&n!==void 0?n:Number.NaN);(!Number.isFinite(h)||h<0||h>1114111)&&(h=10067);const f="\\char"+Ln(this.tokens.slice(p,this.index));return u=new V(this.parseMode==="math"?"mord":"text",this.context,{command:"\\char",mode:this.parseMode,value:String.fromCodePoint(h),serialize:()=>f}),u.verbatimLatex=f,[u]}if(e==="\\hskip"||e==="\\kern"){const p=this.scanGlue();return p?[new kn(e,this.style,this.context,p)]:null}if(u=this.scanMacro(e),u)return[u];const c=this.context.getDefinition(e,this.parseMode);if(!c)return this.onError({code:"unknown-command",arg:e}),[new oa(e,this.context)];const d=this.index;if(c.definitionType==="symbol"){const p={...this.style};c.variant&&(p.variant=c.variant),u=new V((r=c.type)!==null&&r!==void 0?r:"mop",this.context,{command:e,style:p,value:String.fromCodePoint(c.codepoint),mode:this.parseMode})}else{if(c.ifMode&&!c.ifMode.includes(this.parseMode))return[];const p=this.parseMode;c.applyMode&&(this.parseMode=c.applyMode);const[h,f]=this.parseArguments(c);if(this.parseMode=p,!f)return null;if(c.applyMode&&!c.applyStyle&&!c.createAtom)return f[0];if(c.infix)return this.onError({code:"too-many-infix-commands",arg:e}),null;if(typeof c.createAtom=="function")u=c.createAtom(e,f,this.style,this.context),h&&(u.body=(a=this.parseArgument(h))!==null&&a!==void 0?a:void 0);else if(typeof c.applyStyle=="function"){const g=c.applyStyle(e,f,this.context),w=this.parseMode;if(c.applyMode&&(this.parseMode=c.applyMode),h){const k=this.style;this.style={...this.style,...g};const _=this.parseArgument(h);return this.style=k,this.parseMode=w,_}this.style={...this.style,...g},this.parseMode=w}else u=new V("mop",this.context,{command:(o=c.command)!==null&&o!==void 0?o:e,style:{...this.style},value:e,mode:(l=c.applyMode)!==null&&l!==void 0?l:this.parseMode})}if(u instanceof V&&u.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(e)&&(u.verbatimLatex=((s=u.command)!==null&&s!==void 0?s:"")+Ln(this.tokens.slice(d,this.index)),u.verbatimLatex.length===0&&(u.verbatimLatex=void 0),u.isFunction&&this.smartFence)){const p=this.scanSmartFence();if(p)return[u,p]}return u?[u]:null}parseLiteral(e){const i=Mt.createAtom(this.parseMode,e,this.context,{...this.style});if(!i)return null;if(i.isFunction&&this.smartFence){const n=this.scanSmartFence();if(n)return[i,n]}return[i]}parseSimpleToken(){const e=this.get();return e?e==="<space>"?this.parseMode==="text"?[new Oi(" "," ",this.style,this.context)]:null:e.startsWith("\\")?this.parseCommand(e):fr(e)?this.parseLiteral(e):(e==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:e}),null):null}scanMacro(e){var i;const n=this.context.getMacro(e);if(!n)return null;const r=this.index,a=n.args,o={"?":(i=this.args)===null||i===void 0?void 0:i.call(this,"?")};for(let l=1;l<=a;l++)o[l]=this.matchLiteralArg();return new sa(e,this.context,{expand:n.expand,captureSelection:n.captureSelection,args:Ln(this.tokens.slice(r,this.index)),body:mt(n.def,this.context,{parseMode:this.parseMode,args:l=>o[l],mathstyle:this.currentContext.mathstyle})})}parseToken(){var e,i,n,r;let a=(r=(n=(i=(e=this.parseEnvironment())!==null&&e!==void 0?e:this.parseModeShift())!==null&&i!==void 0?i:this.parseModeSet())!==null&&n!==void 0?n:this.parseGroup())!==null&&r!==void 0?r:this.parseLeftRight();if(a===null){if(this.parseSupSub()||this.parseLimits())return!0;a=this.parseSimpleToken()}return Ze(a)?this.mathlist.push(...a):a&&this.mathlist.push(a),a!==null}}function mt(t,e,i){var n,r,a;const o=(n=i==null?void 0:i.args)!==null&&n!==void 0?n:null,l=new la(yn(t,o),e,{args:o,mathstyle:(r=i==null?void 0:i.mathstyle)!==null&&r!==void 0?r:"displaystyle",parseMode:(a=i==null?void 0:i.parseMode)!==null&&a!==void 0?a:"math"}),s=[];for(;!l.end();)s.push(...l.parse());return s}function ql(t,e,i){var n;const r=new la(yn(t,null),e,{args:null,mathstyle:"displaystyle",parseMode:(n=i==null?void 0:i.parseMode)!==null&&n!==void 0?n:"math"});for(;!r.end();)r.parse();return r.errors}function Z0(t,e,i){return typeof t=="object"&&"glue"in t?t:typeof t=="object"&&"dimension"in t?{glue:t}:typeof t=="number"?{glue:{dimension:t}}:new la(yn(t),e,{registers:i}).scanGlue()}function ua(t,e,i){return typeof t=="number"?{dimension:t,unit:"pt"}:(typeof t=="object"&&"glue"in t&&(t=t.glue),typeof t=="object"&&"dimension"in t?t:new la(yn(t),e,{registers:i}).scanDimen())}var Wt='.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1>span{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4>span{font-family:KaTeX_Size4}.ML__accent-body>span{font-family:KaTeX_Main;width:0}.ML__accent-vec>span{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist>span{display:block;height:0;position:relative}.ML__mathlive .vlist>span>span{display:inline-block}.ML__mathlive .vlist>span>.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap>.inner,.ML__mathlive .rlap>.inner{position:absolute}.ML__mathlive .llap>.fix,.ML__mathlive .rlap>.fix{display:inline-block}.ML__mathlive .llap>.inner{right:0}.ML__mathlive .rlap>.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent>.vlist>span{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m>.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c>.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l>.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r>.vlist-t{text-align:right}.ML__error{background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 98%;background-repeat:repeat-x;background-size:3px 3px}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__isReadOnly .ML__placeholdercontainer{display:block}';function ii(t,e,i){var n,r;if(kt(),!e)return null;let a=(n=t==null?void 0:t.getRootNode())!==null&&n!==void 0?n:document==null?void 0:document.head;if(!a)return null;a===document&&(a=document.head);const o=a.querySelector(`style[data-id="${i}"]`);if(o){const l=Number.parseFloat((r=o.getAttribute("data-refcount"))!==null&&r!==void 0?r:"0");o.dataset.refcount=Number(l+1).toString()}else{const l=document.createElement("style");l.dataset.id=i,l.dataset.refcount="1",l.append(document.createTextNode(e)),a.appendChild(l)}return{release:()=>{var l;const s=document.head.querySelector(`style[data-id="${i}"]`);if(s){const u=Number.parseFloat((l=s.getAttribute("data-refcount"))!==null&&l!==void 0?l:"0");u===1?s.remove():s.dataset.refcount=Number(u-1).toString()}}}}function ni(t){let e=0;for(let i=0;i<t.length;i++)e=Math.imul(31,e)+t.charCodeAt(i)|0;return Math.abs(e)}class dn extends V{constructor(e,i,n,r){super("accent",n,{command:e,style:r.style}),r.accentChar?this.accent=r.accentChar:this.svgAccent=r==null?void 0:r.svgAccent,this.body=i,this.skipBoundary=!0}static fromJson(e,i){return new dn(e.command,e.body,i,{accentChar:e.accentChar,svgAccent:e.svgAccent,style:e.style})}toJson(){return{...super.toJson(),accentChar:this.accent,svgAccent:this.svgAccent}}render(e){var i;const n=new se(e,this.style,"cramp"),r=(i=V.createBox(n,this.body))!==null&&i!==void 0?i:new W(null);let a=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(a=r.skew);let o,l=Math.min(r.height,.431);if(this.svgAccent)o=Ar(this.svgAccent),l=n.metrics.bigOpSpacing1-l;else if(this.accent){const u=new W(this.accent,{fontFamily:"Main-Regular"});u.italic=0;const c=this.accent===8407?" ML__accent-vec":"";o=new W(new W(u),{classes:"ML__accent-body"+c})}o=new Ke({shift:0,children:[{box:new W(r)},-l,{box:o,marginLeft:r.left+2*a,classes:["ML__center"]}]});const s=new W(o,{newList:!0,type:"mord"});return this.caret&&(s.caret=this.caret),this.bind(n,s.wrap(n)),this.attachSupsub(n,{base:s})}}class Be extends V{constructor(e,i,n,r,a={}){var o;super("array",e),this.environmentName=i,this.rowGaps=r,a.mathstyleName&&(this.mathstyleName=a.mathstyleName),a.columns&&(a.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=a.columns),this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]),this.array=function(l,s,u,c){let d=0;for(const k of c)"align"in k&&(d+=1);let p=0;const h=[];for(const k of u){let _=0;for(p=Math.max(p,Math.min(k.length,d));_<k.length;){const M=[],S=Math.min(k.length,_+d);for(;_<S;)k[_].length===0?M.push([new V("first",l,{mode:s.mode})]):k[_][0].type!=="first"?M.push([new V("first",l,{mode:s.mode}),...k[_]]):M.push(k[_]),_+=1;h.push(M)}}h[h.length-1].length===1&&h[h.length-1][0].length===0&&h.pop();const f=[];for(const k of h){if(k.length!==p)for(let _=k.length;_<p;_++)k.push([new V("first",l,{mode:s.mode}),new xi(l)]);f.push(k)}let g=0,w=0;for(const k of f){w=0;for(const _ of k){for(const M of _)M.parent=s,M.treeBranch=[g,w];w+=1}g+=1}return s.isDirty=!0,f}(e,this,n,this.colFormat),a.leftDelim&&(this.leftDelim=a.leftDelim),a.rightDelim&&(this.rightDelim=a.rightDelim),a.jot!==void 0&&(this.jot=a.jot),a.arraycolsep&&(this.arraycolsep=a.arraycolsep),this.colSeparationType=a.colSeparationType,this.arraystretch=(o=a.arraystretch)!==null&&o!==void 0?o:1}static fromJson(e,i){return new Be(i,e.environmentName,e.array,e.rowGaps,e)}toJson(){const e={...super.toJson(),environmentName:this.environmentName,array:this.array.map(i=>i.map(n=>n.map(r=>r.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType};return this.arraystretch!==1&&(e.arraystretch=this.arraystretch),this.arraycolsep&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.jot!==void 0&&(e.jot=this.jot),e}branch(e){var i;if($r(e))return(i=this.array[e[0]][e[1]])!==null&&i!==void 0?i:void 0}get branches(){const e=super.branches;return this.array.forEach((i,n)=>{this.array[n].forEach((r,a)=>{this.array[n][a]&&e.push([n,a])})}),e}createBranch(e){var i;return $r(e)?(this.isDirty=!0,(i=this.branch(e))!==null&&i!==void 0?i:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}removeBranch(e){if(Pn(e))return super.removeBranch(e);const i=this.branch(e);return this.array[e[0]][e[1]]=void 0,i.forEach(n=>{n.parent=void 0,n.treeBranch=void 0}),i.shift(),this.isDirty=!0,i}get hasChildren(){return this.children.length>0}get children(){const e=[];for(const i of this.array)for(const n of i)if(n)for(const r of n)e.push(...r.children),e.push(r);return[...e,...super.children]}render(e){var i,n,r,a,o;const l=new se(e,this.style,this.mathstyleName),s=l.getRegisterAsEm("arrayrulewidth"),u=l.getRegisterAsEm("arraycolsep"),c=l.getRegisterAsEm("doublerulesep"),d=(i=this.arraystretch)!==null&&i!==void 0?i:1;let p=typeof this.arraycolsep=="number"?this.arraycolsep:u;this.colSeparationType==="small"&&(p=new se(e,void 0,"scriptstyle").scalingFactor/e.scalingFactor*.2778);const h=1.2*d,f=.7*h,g=.3*h;let w=0;const k=[];let _=0;const M=this.array.length;for(let Z=0;Z<M;++Z){const de=this.array[Z];_=Math.max(_,de.length);const pe=new se(l,this.style,this.mathstyleName);let Pe=f/pe.scalingFactor,ze=g/pe.scalingFactor;const zt={cells:[],height:0,depth:0,pos:0};for(const wi of de){const ri=(n=V.createBox(pe,wi,{newList:!0}))!==null&&n!==void 0?n:new W(null,{newList:!0});ze=Math.max(ze,ri.depth),Pe=Math.max(Pe,ri.height),zt.cells.push(ri)}let it=(r=Ht(this.rowGaps[Z]))!==null&&r!==void 0?r:0;it>0&&(it+=g,ze=Math.max(ze,it),it=0),this.jot!==void 0&&(ze+=this.jot),zt.height=Pe,zt.depth=ze,w+=Pe,zt.pos=w,w+=ze+it,k.push(zt)}const S=w/2+.25,I=[];for(let Z=0;Z<_;Z++){const de=[];for(const pe of k){const Pe=pe.cells[Z];Pe.depth=pe.depth,Pe.height=pe.height,de.push({box:Pe,shift:pe.pos-S})}de.length>0&&I.push(new Ke({individualShift:de}))}const D=[];let F=!1,R=!1,Q=0,z=!this.leftDelim;const{colFormat:O}=this;for(const Z of O){if("align"in Z&&Q>=I.length)break;if("align"in Z)F?D.push(gr(2*p)):(R||z)&&D.push(gr(p)),D.push(new W(I[Q],{classes:"col-align-"+Z.align})),Q++,F=!0,R=!1,z=!1;else if("gap"in Z){if(typeof Z.gap=="number")D.push(gr(Z.gap));else{const de=U0(e,k,S,Z.gap);de&&D.push(de)}F=!1,R=!1,z=!1}else if("separator"in Z){const de=new W(null,{classes:"vertical-separator"});de.setStyle("height",w,"em"),de.setStyle("border-right",`${s}em ${Z.separator} currentColor`),de.setStyle("vertical-align",-(w-S),"em");let pe=0;R?pe=c-s:F&&(pe=p-s),de.left=pe,D.push(de),F=!1,R=!0,z=!1}}F&&!this.rightDelim&&D.push(gr(p));const ie=new W(D,{classes:"mtable"});if(!(this.leftDelim&&this.leftDelim!=="."||this.rightDelim&&this.rightDelim!=="."))return ie;const qe=ie.height,ge=ie.depth,ee=this.bind(e,new W([this.bind(e,Wn("mopen",(a=this.leftDelim)!==null&&a!==void 0?a:".",qe,ge,l)),ie,this.bind(e,Wn("mclose",(o=this.rightDelim)!==null&&o!==void 0?o:".",qe,ge,l))],{type:"mord"}));return ee?(this.caret&&(ee.caret=this.caret),this.attachSupsub(e,{base:ee})):null}serialize(e){let i="\\begin{"+this.environmentName+"}";if(this.environmentName==="array"){if(i+="{",this.colFormat!==void 0)for(const n of this.colFormat)"align"in n?i+=n.align:"separator"in n&&n.separator==="solid"?i+="|":"separator"in n&&n.separator==="dashed"&&(i+=":");i+="}"}for(let n=0;n<this.array.length;n++){for(let r=0;r<this.array[n].length;r++)r>0&&(i+=" & "),i=Te([i,V.serialize(this.array[n][r],e)]);n<this.array.length-1&&(i+=" \\\\ ")}return i+="\\end{"+this.environmentName+"}",i}getCell(e,i){return this.array[e][i]}setCell(e,i,n){this.isDirty=!0}addRowBefore(e){this.isDirty=!0}addRowAfter(e){this.isDirty=!0}addColumnBefore(e){this.isDirty=!0}addColumnAfter(e){this.isDirty=!0}get cells(){const e=[];for(const i of this.array)for(const n of i)n&&e.push(n);return e}}function gr(t){const e=new W(null,{classes:"arraycolsep"});return e.width=t,e}function U0(t,e,i,n){if(!n)return null;const r=[];for(const a of e){const o=V.createBox(t,n,{newList:!0});o&&(o.depth=a.depth,o.height=a.height,r.push({box:o,shift:a.pos-i}))}return new Ke({individualShift:r}).wrap(t)}class gi extends V{constructor(e,i,n,r){super("box",n,{command:e,serialize:r.serialize,style:r.style}),this.body=i,this.framecolor=r.framecolor,this.verbatimFramecolor=r.verbatimBackgroundcolor,this.backgroundcolor=r.backgroundcolor,this.verbatimBackgroundcolor=r.verbatimBackgroundcolor,this.padding=r.padding,this.border=r.border}static fromJson(e,i){return new gi(e.command,e.body,i,e)}toJson(){return{...super.toJson(),framecolor:this.framecolor,verbatimFramecolor:this.verbatimFramecolor,backgroundcolor:this.backgroundcolor,verbatimBackgroundcolor:this.verbatimBackgroundcolor,padding:this.padding,border:this.border}}render(e){const i=new se(e,this.style),n=Ht(i.getRegisterAsDimension("fboxsep")),r=this.padding===void 0?n:Ht(ua(this.padding,{...this.context,registers:e.registers})),a=V.createBox(e,this.body);if(!a)return null;a.setStyle("vertical-align",-a.height,"em");const o=new W(a,{type:"mord"}),l=new W(null,{classes:"ML__box"});l.height=o.height+r,l.depth=o.depth+r,l.setStyle("box-sizing","border-box"),l.setStyle("position","absolute"),l.setStyle("height",o.height+o.depth+2*r,"em"),r===0?l.setStyle("width","100%"):(l.setStyle("width",`calc(100% + ${2*r}em)`),l.setStyle("top",n,"em"),l.setStyle("left",-r,"em")),l.setStyle("z-index","-1"),this.backgroundcolor&&l.setStyle("background-color",this.backgroundcolor),this.framecolor&&l.setStyle("border",`${Ht(i.getRegisterAsDimension("fboxrule"))}em solid ${this.framecolor}`),this.border&&l.setStyle("border",this.border),o.setStyle("display","inline-block"),o.setStyle("height",a.height+a.depth,"em"),o.setStyle("vertical-align",-r,"em");const s=new W([l,o]);return s.setStyle("position","relative"),s.setStyle("display","inline-block"),s.setStyle("line-height",0),s.height=o.height+r,s.depth=o.depth+r,s.left=r,s.right=r,s.setStyle("height",o.height+r,"em"),s.setStyle("top",o.depth-o.height,"em"),s.setStyle("vertical-align",o.depth+r,"em"),this.caret&&(s.caret=this.caret),this.attachSupsub(e,{base:s})}}class ca extends V{constructor(e,i,n){var r;super("composition",i,{mode:(r=n==null?void 0:n.mode)!==null&&r!==void 0?r:"math",value:e})}static fromJson(e,i){return new ca(e.value,i,e)}toJson(){return super.toJson()}get computedStyle(){return{}}render(e){const i=new W(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,i),this.caret&&(i.caret=this.caret),i}serialize(e){return""}}class da extends V{constructor(e,i,n){super("chem",n,{command:e,mode:"math"});const r=ke.go($.go(i,e==="\\pu"?"pu":"ce"),!1);this.body=mt(r,n),this.verbatimLatex=e+"{"+i+"}",this.arg=i,this.captureSelection=!0}static fromJson(e,i){return new da(e.command,e.arg,i)}toJson(){return{...super.toJson(),arg:this.arg}}render(e){const i=V.createBox(e,this.body,{type:"chem",newList:!0});return this.caret&&(i.caret=this.caret),this.bind(e,i)}serialize(e){return this.verbatimLatex}}B(["ce","pu"],"{chemformula:balanced-string}",{createAtom:(t,e,i,n)=>new da(t,e[0],n)});var $={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var i,n="0",r={parenthesisLevel:0};t=(t=(t=t.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var a=10,o=[];;){i!==t?(a=10,i=t):a--;var l=$.stateMachines[e],s=l.transitions[n]||l.transitions["*"];e:for(var u=0;u<s.length;u++){var c=$.patterns.match_(s[u].pattern,t);if(c){for(var d=s[u].task,p=0;p<d.action_.length;p++){var h;if(l.actions[d.action_[p].type_])h=l.actions[d.action_[p].type_](r,c.match_,d.action_[p].option);else{if(!$.actions[d.action_[p].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[p].type_+")"];h=$.actions[d.action_[p].type_](r,c.match_,d.action_[p].option)}$.concatArray(o,h)}if(n=d.nextState||n,!(t.length>0))return o;if(d.revisit||(t=c.remainder),!d.toContinue)break e}}if(a<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Array.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.splice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.splice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=$.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var i=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return i?{match_:i[0],remainder:t.substr(i[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return $.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return $.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return $.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return $.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return $.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return $.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return $.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return $.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return $.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return $.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return $.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return $.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return $.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return $.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return $.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return $.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return $.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return $.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return $.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return $.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return $.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return $.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return $.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return $.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return $.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:e[0],remainder:t.substr(e[0].length)};var i=$.patterns.findObserveGroups(t,"","$","$","");return i&&(e=i.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,i,n,r,a,o,l,s,u){var c=function(w,k){if(typeof k=="string")return w.indexOf(k)!==0?null:k;var _=w.match(k);return _?_[0]:null},d=c(t,e);if(d===null||(t=t.substr(d.length),(d=c(t,i))===null))return null;var p=function(w,k,_){for(var M=0;k<w.length;){var S=w.charAt(k),I=c(w.substr(k),_);if(I!==null&&M===0)return{endMatchBegin:k,endMatchEnd:k+I.length};if(S==="{")M++;else if(S==="}"){if(M===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];M--}k++}return null}(t,d.length,n||r);if(p===null)return null;var h=t.substring(0,n?p.endMatchEnd:p.endMatchBegin);if(a||o){var f=this.findObserveGroups(t.substr(p.endMatchEnd),a,o,l,s);if(f===null)return null;var g=[h,f.match_];return{match_:u?g.join(""):g,remainder:f.remainder}}return{match_:h,remainder:t.substr(p.endMatchEnd)}},match_:function(t,e){var i=$.patterns.patterns[t];if(i===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof i=="function")return $.patterns.patterns[t](e);var n=e.match(i);return n?{match_:n[2]?[n[1],n[2]]:n[1]?n[1]:n[0],remainder:e.substr(n[0].length)}:null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,i){return{type_:i}},"insert+p1":function(t,e,i){return{type_:i,p1:e}},"insert+p1+p2":function(t,e,i){return{type_:i,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return $.go(e,"text")},"{text}":function(t,e){var i=["{"];return $.concatArray(i,$.go(e,"text")),i.push("}"),i},"tex-math":function(t,e){return $.go(e,"tex-math")},"tex-math tight":function(t,e){return $.go(e,"tex-math tight")},bond:function(t,e,i){return{type_:"bond",kind_:i||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return $.go(e)},"1/2":function(t,e){var i=[];e.match(/^[+\-]/)&&(i.push(e.substr(0,1)),e=e.substr(1));var n=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),i.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),i.push({type_:"tex-math",p1:n[3]})),i},"9,9":function(t,e){return $.go(e,"9,9")}},createTransitions:function(t){var e,i,n,r,a={};for(e in t)for(i in t[e])for(n=i.split("|"),t[e][i].stateArray=n,r=0;r<n.length;r++)a[n[r]]=[];for(e in t)for(i in t[e])for(n=t[e][i].stateArray||[],r=0;r<n.length;r++){var o=t[e][i];if(o.action_){o.action_=[].concat(o.action_);for(var l=0;l<o.action_.length;l++)typeof o.action_[l]=="string"&&(o.action_[l]={type_:o.action_[l]})}else o.action_=[];for(var s=e.split("|"),u=0;u<s.length;u++)if(n[r]==="*")for(var c in a)a[c].push({pattern:s[u],task:o});else a[n[r]].push({pattern:s[u],task:o})}return a},stateMachines:{}};$.stateMachines={ce:{transitions:$.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var i;if((t.d||"").match(/^[0-9]+$/)){var n=t.d;t.d=void 0,i=this.output(t),t.b=n}else i=this.output(t);return $.actions["o="](t,e),i},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var i=[];return $.concatArray(i,this.output(t)),$.concatArray(i,$.actions.bond(t,e,"-")),i}t.d=e},"- after o/d":function(t,e,i){var n=$.patterns.match_("orbital",t.o||""),r=$.patterns.match_("one lowercase greek letter $",t.o||""),a=$.patterns.match_("one lowercase latin letter $",t.o||""),o=$.patterns.match_("$one lowercase latin letter$ $",t.o||""),l=e==="-"&&(n&&n.remainder===""||r||a||o);!l||t.a||t.b||t.p||t.d||t.q||n||!a||(t.o="$"+t.o+"$");var s=[];return l?($.concatArray(s,this.output(t)),s.push({type_:"hyphen"})):(n=$.patterns.match_("digits",t.d||""),i&&n&&n.remainder===""?($.concatArray(s,$.actions["d="](t,e)),$.concatArray(s,this.output(t))):($.concatArray(s,this.output(t)),$.concatArray(s,$.actions.bond(t,e,"-")))),s},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:$.go(e,"o")}},comma:function(t,e){var i=e.replace(/\s*$/,"");return i!==e&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:i}:{type_:"comma enumeration M",p1:i}},output:function(t,e,i){var n,r,a;for(var o in t.r?(r=t.rdt==="M"?$.go(t.rd,"tex-math"):t.rdt==="T"?[{type_:"text",p1:t.rd||""}]:$.go(t.rd),a=t.rqt==="M"?$.go(t.rq,"tex-math"):t.rqt==="T"?[{type_:"text",p1:t.rq||""}]:$.go(t.rq),n={type_:"arrow",r:t.r,rd:r,rq:a}):(n=[],(t.a||t.b||t.p||t.o||t.q||t.d||i)&&(t.sb&&n.push({type_:"entitySkip"}),t.o||t.q||t.d||t.b||t.p||i===2?t.o||t.q||t.d||!t.b&&!t.p?t.o&&t.dType==="kv"&&$.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0):(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):(t.o=t.a,t.a=void 0),n.push({type_:"chemfive",a:$.go(t.a,"a"),b:$.go(t.b,"bd"),p:$.go(t.p,"pq"),o:$.go(t.o,"o"),q:$.go(t.q,"pq"),d:$.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}))),t)o!=="parenthesisLevel"&&o!=="beginsWithBond"&&delete t[o];return n},"oxidation-output":function(t,e){var i=["{"];return $.concatArray(i,$.go(e,"oxidation")),i.push("}"),i},"frac-output":function(t,e){return{type_:"frac-ce",p1:$.go(e[0]),p2:$.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:$.go(e[0]),p2:$.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:$.go(e[0]),p2:$.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:$.go(e[0]),p2:$.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:$.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,i){return{type_:"operator",kind_:i||e}}}},a:{transitions:$.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:$.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:$.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var i in t)delete t[i];return e}}}},pq:{transitions:$.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:$.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:$.go(e[1],"pq")}}}},bd:{transitions:$.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:$.go(e[1],"bd")}}}},oxidation:{transitions:$.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:$.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var i in t)delete t[i];return e}}}},"tex-math tight":{transitions:$.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var i in t)delete t[i];return e}}}},"9,9":{transitions:$.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:$.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var i=[];return e[0]==="+-"||e[0]==="+/-"?i.push("\\pm "):e[0]&&i.push(e[0]),e[1]&&($.concatArray(i,$.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?$.concatArray(i,$.go(e[2],"pu-9,9")):i.push(e[2])),e[3]=e[4]||e[3],e[3]&&(e[3]=e[3].trim(),e[3]==="e"||e[3].substr(0,1)==="*"?i.push({type_:"cdot"}):i.push({type_:"times"}))),e[3]&&i.push("10^{"+e[5]+"}"),i},"number^":function(t,e){var i=[];return e[0]==="+-"||e[0]==="+/-"?i.push("\\pm "):e[0]&&i.push(e[0]),$.concatArray(i,$.go(e[1],"pu-9,9")),i.push("^{"+e[2]+"}"),i},operator:function(t,e,i){return{type_:"operator",kind_:i||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,i=$.patterns.match_("{(...)}",t.d||"");i&&i.remainder===""&&(t.d=i.match_);var n=$.patterns.match_("{(...)}",t.q||"");if(n&&n.remainder===""&&(t.q=n.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var r={d:$.go(t.d,"pu"),q:$.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:r.d,p2:r.q}:(e=r.d,r.d.length>1||r.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),$.concatArray(e,r.q))}else e=$.go(t.d,"pu-2");for(var a in t)delete t[a];return e}}},"pu-2":{transitions:$.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var i=$.patterns.match_("{(...)}",t.rm||"");e=i&&i.remainder===""?$.go(i.match_,"pu"):{type_:"rm",p1:t.rm}}for(var n in t)delete t[n];return e}}},"pu-9,9":{transitions:$.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var i=t.text_.length%3;i===0&&(i=3);for(var n=t.text_.length-3;n>0;n-=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,i)),e.reverse()}else e.push(t.text_);for(var r in t)delete t[r];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var i=t.text_.length-3,n=0;n<i;n+=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(n))}else e.push(t.text_);for(var r in t)delete t[r];return e}}}};var Ta,za,ke={go:function(t,e){if(!t)return"";for(var i="",n=!1,r=0;r<t.length;r++){var a=t[r];typeof a=="string"?i+=a:(i+=ke._go2(a),a.type_==="1st-level escape"&&(n=!0))}return e||n||!i||(i="{"+i+"}"),i},_goInner:function(t){return t&&ke.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var i={a:ke._goInner(t.a),b:ke._goInner(t.b),p:ke._goInner(t.p),o:ke._goInner(t.o),q:ke._goInner(t.q),d:ke._goInner(t.d)};i.a&&(i.a.match(/^[+\-]/)&&(i.a="{"+i.a+"}"),e+=i.a+"\\,"),(i.b||i.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(i.b||"")+"}}_{\\hphantom{"+(i.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(i.b||"")+"}}",e+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(i.p||"")+"}}}"),i.o&&(i.o.match(/^[+\-]/)&&(i.o="{"+i.o+"}"),e+=i.o),t.dType==="kv"?((i.d||i.q)&&(e+="{\\vphantom{X}}"),i.d&&(e+="^{"+i.d+"}"),i.q&&(e+="_{\\smash[t]{"+i.q+"}}")):t.dType==="oxidation"?(i.d&&(e+="{\\vphantom{X}}",e+="^{"+i.d+"}"),i.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+i.q+"}}")):(i.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+i.q+"}}"),i.d&&(e+="{\\vphantom{X}}",e+="^{"+i.d+"}"));break;case"rm":case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+ke._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+ke._goInner(t.p1);break;case"bond":if(!(e=ke._getBond(t.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var n="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"pu-frac":var r="\\frac{"+ke._goInner(t.p1)+"}{"+ke._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+r+"}{"+r+"}{"+r+"}{"+r+"}";break;case"tex-math":case"1st-level escape":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+ke._goInner(t.p1)+"}{"+ke._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+ke._goInner(t.p1)+"}{"+ke._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+ke._goInner(t.p1)+"}{"+ke._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+ke._goInner(t.p1)+"}_{"+ke._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+ke._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var a={rd:ke._goInner(t.rd),rq:ke._goInner(t.rq)},o="\\x"+ke._getArrow(t.r);a.rq&&(o+="[{"+a.rq+"}]"),e=o+=a.rd?"{"+a.rd+"}":"{}";break;case"operator":e=ke._getOperator(t.kind_);break;case"space":e=" ";break;case"entitySkip":case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":case"\u2192":case"\u27F6":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"rightleftarrows";case"<=>":case"\u21CC":return"rightleftharpoons";case"<=>>":return"rightequilibrium";case"<<=>":return"leftequilibrium";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case"~=":case"~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case"-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}};class ha extends V{constructor(e,i,n,r){super("delim",n,{command:e,style:r==null?void 0:r.style}),this.value=i,this.size=r==null?void 0:r.size}static fromJson(e,i){return new ha(e.command,e.delim,i,e)}toJson(){return{...super.toJson(),delim:this.value,size:this.size}}render(e){const i=new W(null);return i.delim=this.value,i}serialize(e){return this.value.length===1?this.command+this.value:`${this.command}{${this.value}}`}}class ma extends V{constructor(e,i,n,r){super("sizeddelim",n,{command:e,style:r.style}),this.value=i,this.delimClass=r.delimClass,this.size=r.size}static fromJson(e,i){return new ma(e.command,e.delim,i,e)}toJson(){return{...super.toJson(),delim:this.value,size:this.size,delimClass:this.delimClass}}render(e){let i=function(n,r,a,o){var l;return n===void 0||n==="."?Fi(a,(l=o.type)!==null&&l!==void 0?l:"minner",o.classes):(n==="<"||n==="\\lt"||n==="\u27E8"?n="\\langle":n!==">"&&n!=="\\gt"&&n!=="\u27E9"||(n="\\rangle"),Tl.has(n)||zl.has(n)?El(n,r,!1,a,o):V0.has(n)?Dl(n,R0[r],!1,a,o):null)}(this.value,this.size,e,{classes:this.delimClass});return i?(i=this.bind(e,i),this.caret&&(i.caret=this.caret),i):null}serialize(e){return this.value.length===1?this.command+this.value:`${this.command}{${this.value}}`}}class Di extends V{constructor(e,i,n,r,a){super("enclose",r,{command:e,style:a.style}),this.body=i,this.backgroundcolor=a.backgroundcolor,n.updiagonalarrow&&(n.updiagonalstrike=!1),n.box&&(n.left=!1,n.right=!1,n.bottom=!1,n.top=!1),this.notation=n,this.shadow=a.shadow,this.strokeWidth=a.strokeWidth,this.strokeStyle=a.strokeStyle,this.svgStrokeStyle=a.svgStrokeStyle,this.strokeColor=a.strokeColor,this.borderStyle=a.borderStyle,this.padding=a.padding,this.captureSelection=!0}static fromJson(e,i){return new Di(e.command,e.body,e.notation,i,e)}toJson(){const e={};return this.notation.downdiagonalstrike&&(e.downdiagonalstrike=!0),this.notation.updiagonalstrike&&(e.downdiagonalstrike=!0),this.notation.verticalstrike&&(e.downdiagonalstrike=!0),this.notation.horizontalstrike&&(e.downdiagonalstrike=!0),this.notation.updiagonalarrow&&(e.downdiagonalstrike=!0),this.notation.right&&(e.downdiagonalstrike=!0),this.notation.bottom&&(e.downdiagonalstrike=!0),this.notation.left&&(e.downdiagonalstrike=!0),this.notation.top&&(e.downdiagonalstrike=!0),this.notation.circle&&(e.downdiagonalstrike=!0),this.notation.roundedbox&&(e.downdiagonalstrike=!0),this.notation.madruwb&&(e.downdiagonalstrike=!0),this.notation.actuarial&&(e.downdiagonalstrike=!0),this.notation.box&&(e.downdiagonalstrike=!0),{...super.toJson(),notation:e,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding}}serialize(e){var i;let n=(i=this.command)!==null&&i!==void 0?i:"";if(this.command==="\\enclose"){n+="{"+Object.keys(this.notation).join(" ")+"}";let r="",a="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(r+=a+'mathbackground="'+this.backgroundcolor+'"',a=","),this.shadow&&this.shadow!=="auto"&&(r+=a+'shadow="'+this.shadow+'"',a=","),this.strokeWidth||this.strokeStyle!=="solid"?(r+=a+this.borderStyle,a=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(r+=a+'mathcolor="'+this.strokeColor+'"',a=","),r&&(n+=`[${r}]`)}return n+=`{${this.bodyToLatex(e)}}`,n}render(e){var i;const n=new se(e,this.style),r=V.createBox(n,this.body);if(!r)return null;const a=(i=Ht(this.padding&&this.padding!=="auto"?ua(this.padding,{...this.context,registers:e.registers}):n.getRegisterAsDimension("fboxsep")))!==null&&i!==void 0?i:0,o=new W(null,{classes:"ML__notation"});o.setStyle("position","absolute"),o.setStyle("height",r.height+r.depth+2*a,"em"),o.height=r.height+a,o.depth=r.depth+a,a!==0?o.setStyle("width",`calc(100% + ${2*a}em)`):o.setStyle("width","100%"),o.setStyle("top",-r.height+2*a,"em"),o.setStyle("left",-a,"em"),o.setStyle("z-index","-1"),o.setStyle("box-sizing","border-box"),this.backgroundcolor&&o.setStyle("background-color",this.backgroundcolor),this.notation.box&&o.setStyle("border",this.borderStyle),this.notation.actuarial&&(o.setStyle("border-top",this.borderStyle),o.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(o.setStyle("border-bottom",this.borderStyle),o.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(o.setStyle("border-radius",(r.height+r.depth)/2,"em"),o.setStyle("border",this.borderStyle)),this.notation.circle&&(o.setStyle("border-radius","50%"),o.setStyle("border",this.borderStyle)),this.notation.top&&o.setStyle("border-top",this.borderStyle),this.notation.left&&o.setStyle("border-left",this.borderStyle),this.notation.right&&o.setStyle("border-right",this.borderStyle),this.notation.bottom&&o.setStyle("border-bottom",this.borderStyle);let l="";if(this.notation.horizontalstrike&&(l+='<line x1="3%"  y1="50%" x2="97%" y2="50%"',l+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,l+=' stroke-linecap="round"',this.svgStrokeStyle&&(l+=` stroke-dasharray="${this.svgStrokeStyle}"`),l+="/>"),this.notation.verticalstrike&&(l+='<line x1="50%"  y1="3%" x2="50%" y2="97%"',l+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,l+=' stroke-linecap="round"',this.svgStrokeStyle&&(l+=` stroke-dasharray="${this.svgStrokeStyle}"`),l+="/>"),this.notation.updiagonalstrike&&(l+='<line x1="3%"  y1="97%" x2="97%" y2="3%"',l+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,l+=' stroke-linecap="round"',this.svgStrokeStyle&&(l+=` stroke-dasharray="${this.svgStrokeStyle}"`),l+="/>"),this.notation.downdiagonalstrike&&(l+='<line x1="3%"  y1="3%" x2="97%" y2="97%"',l+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,l+=' stroke-linecap="round"',this.svgStrokeStyle&&(l+=` stroke-dasharray="${this.svgStrokeStyle}"`),l+="/>"),l){let u;this.shadow!=="none"&&(u=this.shadow==="auto"?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")"),function(c,d,p){c.svgOverlay=d,c.svgStyle=p}(o,l,u)}const s=new W([o,r]);return s.setStyle("position","relative"),s.setStyle("display","inline"),s.height=r.height+a,s.depth=r.depth+a,s.left=a,s.right=a,this.caret&&(s.caret=this.caret),s.wrap(n)}}class bi extends V{constructor(e,i,n,r,a){var o,l;super("genfrac",r,{style:a.style,command:e,serialize:a.serialize,displayContainsHighlight:!0}),this.above=i,this.below=n,this.hasBarLine=(o=a==null?void 0:a.hasBarLine)===null||o===void 0||o,this.continuousFraction=(l=a==null?void 0:a.continuousFraction)!==null&&l!==void 0&&l,this.numerPrefix=a==null?void 0:a.numerPrefix,this.denomPrefix=a==null?void 0:a.denomPrefix,this.mathstyleName=a==null?void 0:a.mathstyleName,this.leftDelim=a==null?void 0:a.leftDelim,this.rightDelim=a==null?void 0:a.rightDelim}static fromJson(e,i){return new bi(e.command,e.above,e.below,i,e)}toJson(){const e={};return this.continuousFraction&&(e.continuousFraction=!0),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),{...super.toJson(),...e}}serialize(e){return this.command+`{${this.aboveToLatex(e)}}{${this.belowToLatex(e)}}`}get children(){if(this._children)return this._children;const e=[];if(this.context.fractionNavigationOrder==="numerator-denominator"){for(const i of this.above)e.push(...i.children),e.push(i);for(const i of this.below)e.push(...i.children),e.push(i)}else{for(const i of this.below)e.push(...i.children),e.push(i);for(const i of this.above)e.push(...i.children),e.push(i)}return this._children=e,e}render(e){var i,n;const r=new se(e,this.style,this.mathstyleName),a=r.metrics,o=new se(r,this.style,this.continuousFraction?"":"numerator"),l=this.numerPrefix?new W([new W(this.numerPrefix),V.createBox(o,this.above)],{isTight:o.isTight,newList:!0}):(i=V.createBox(o,this.above,{newList:!0}))!==null&&i!==void 0?i:new W(null,{newList:!0}),s=new se(r,this.style,this.continuousFraction?"":"denominator"),u=this.denomPrefix?new W([new W(this.denomPrefix),V.createBox(s,this.below,{newList:!0})]):(n=V.createBox(s,this.below,{newList:!0}))!==null&&n!==void 0?n:new W(null,{newList:!0}),c=this.hasBarLine?a.defaultRuleThickness:0;let d,p,h=0;r.isDisplayStyle?(d=a.num1,h=c>0?3*c:7*c,p=a.denom1):(c>0?(d=a.num2,h=c):(d=a.num3,h=3*c),p=a.denom2);const f=[];this.isSelected&&f.push("ML__selected");const g=l.depth,w=u.height;let k;if(c<=0){const F=d-g-(w-p);F<h&&(d+=(h-F)/2,p+=(h-F)/2),k=new Ke({individualShift:[{box:l,shift:-d,classes:[...f,"ML__center"]},{box:u,shift:p,classes:[...f,"ML__center"]}]}).wrap(r)}else{const F=.25+c/2,R=.25-c/2;d<h+g+F&&(d=h+g+F),p<h+w-R&&(p=h+w-R);const Q=new W(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});Q.height=c/2,Q.depth=c/2,k=new Ke({individualShift:[{box:u,shift:p,classes:[...f,"ML__center"]},{box:Q,shift:c/2-R,classes:f},{box:l,shift:-d,classes:[...f,"ML__center"]}]}).wrap(r)}const _=r.isDisplayStyle?a.delim1:a.delim2,M=this.isSelected?" ML__selected":"",S=this.leftDelim?this.bind(e,Kr("mopen",this.leftDelim,_,!0,e,{style:this.style,mode:this.mode,classes:M})):Fi(r,"mopen");let I=null;I=this.continuousFraction?new W(null,{type:"mclose"}):this.rightDelim?this.bind(e,Kr("mclose",this.rightDelim,_,!0,e,{style:this.style,mode:this.mode,classes:M})):Fi(r,"mclose");const D=this.bind(e,new W([S,k,I],{isTight:r.isTight,type:"mord",classes:"mfrac"}));return D?(this.caret&&(D.caret=this.caret),this.attachSupsub(e,{base:D})):null}}class Oe extends V{constructor(e,i,n){var r;super("latex",i,{value:e,mode:"latex"}),this.isSuggestion=(r=n==null?void 0:n.isSuggestion)!==null&&r!==void 0&&r,this.isError=!1,this.verbatimLatex=e}static fromJson(e,i){const n=new Oe(e.command,i);return e.isSuggestion&&(n.isSuggestion=!0),e.isError&&(n.isError=!0),n}toJson(){const e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),{...super.toJson(),...e}}get computedStyle(){return{}}render(e){const i=new W(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return i?(this.caret&&(i.caret=this.caret),this.bind(e,i)):null}}class ei extends V{constructor(e,i){super("latexgroup",i,{mode:"latex"}),this.body=[...e].map(n=>new Oe(n,i)),this.skipBoundary=!1}static fromJson(e,i){return new ei("",i)}toJson(){return super.toJson()}render(e){const i=V.createBox(e,this.body,{newList:!0});return i?(this.caret&&(i.caret=this.caret),this.bind(e,i)):null}serialize(e){var i,n;return(n=(i=this.body)===null||i===void 0?void 0:i.map(r=>r.value).join(""))!==null&&n!==void 0?n:""}}class Qn extends V{constructor(e,i,n,r){super("line",n,{command:e,style:r.style}),this.skipBoundary=!0,this.body=i,this.position=r.position}static fromJson(e,i){return new Qn(e.command,e.body,i,e)}toJson(){return{...super.toJson(),position:this.position}}render(e){const i=new se(e,this.style,"cramp"),n=V.createBox(i,this.body);if(!n)return null;const r=i.metrics.defaultRuleThickness/i.scalingFactor,a=new W(null,{classes:this.position+"-line"});let o;return a.height=r,a.maxFontSize=1.125*r*i.scalingFactor,o=this.position==="overline"?new Ke({shift:0,children:[{box:n},3*r,{box:a},r]}):new Ke({top:n.height,children:[r,{box:a},3*r,{box:n}]}),this.caret&&(o.caret=this.caret),new W(o,{classes:this.position,type:"mord"})}}class St extends V{constructor(e,i,n,r){var a,o,l,s;super((a=r.type)!==null&&a!==void 0?a:"mop",n,{command:e,style:r.style,isFunction:r==null?void 0:r.isFunction}),typeof i=="string"?this.value=i:this.body=i,this.captureSelection=(o=r.captureSelection)!==null&&o!==void 0&&o,this.hasArgument=(l=r.hasArgument)!==null&&l!==void 0&&l,this.variant=r==null?void 0:r.variant,this.variantStyle=r==null?void 0:r.variantStyle,this.subsupPlacement=r==null?void 0:r.limits,this.isExtensibleSymbol=(s=r==null?void 0:r.isExtensibleSymbol)!==null&&s!==void 0&&s}static fromJson(e,i){return new St(e.command,e.body?e.body:e.value,i,e)}toJson(){const e=super.toJson();return this.hasArgument&&(e.hasArgument=!0),this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.isExtensibleSymbol&&(e.isExtensibleSymbol=!0),this.value&&(e.symbol=this.value),e}render(e){var i;let n,r=0,a=0;if(this.isExtensibleSymbol){const l=e.isDisplayStyle&&this.value!=="\\smallint";if(n=new W(this.value,{fontFamily:l?"Size2-Regular":"Size1-Regular",classes:"op-symbol "+(l?"large-op":"small-op"),type:"mop",maxFontSize:e.scalingFactor}),!n)return null;n.right=n.italic,r=(n.height-n.depth)/2-.25*e.scalingFactor,a=n.italic,n.setStyle("color",this.style.color),n.setStyle("background-color",this.style.backgroundColor)}else if(this.body){if(n=V.createBox(e,this.body,{newList:!0}),!n)return null;n.setStyle("color",this.style.color),n.setStyle("background-color",this.style.backgroundColor)}else n=new W(this.value,{type:"mop",mode:"math",maxFontSize:e.scalingFactor,style:{color:this.style.color,backgroundColor:this.style.backgroundColor,letterShapeStyle:e.letterShapeStyle,variant:this.variant,variantStyle:this.variantStyle}});this.isExtensibleSymbol&&n.setTop(r);let o=n;if(this.superscript||this.subscript){const l=(i=this.subsupPlacement)!==null&&i!==void 0?i:"auto";o=l==="over-under"||l==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:n,baseShift:r,slant:a}):this.attachSupsub(e,{base:n})}return this.caret&&(o.caret=this.caret),new W(this.bind(e,o),{type:"mop",classes:"op-group"+(this.isSelected?" ML__selected":"")})}serialize(e){if(this.value==="\u200B")return this.supsubToLatex(e);const i=[];return i.push(this.command),this.hasArgument&&i.push(`{${this.bodyToLatex(e)}}`),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&i.push("\\limits"),this.subsupPlacement==="adjacent"&&i.push("\\nolimits"),this.subsupPlacement==="auto"&&i.push("\\displaylimits")),i.push(this.supsubToLatex(e)),Te(i)}}class Gt extends V{constructor(e,i,n,r){var a,o;super("overlap",n,{command:e,style:r==null?void 0:r.style}),this.skipBoundary=!0,this.body=typeof i=="string"?[new V("mord",n,{value:i})]:i,this.align=(a=r==null?void 0:r.align)!==null&&a!==void 0?a:"left",this.boxType=(o=r==null?void 0:r.boxType)!==null&&o!==void 0?o:"mord"}static fromJson(e,i){return new Gt(e.command,e.body,i,e)}toJson(){const e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),{...super.toJson(),...e}}render(e){const i=V.createBox(e,this.body,{classes:"inner"});return i?(this.caret&&(i.caret=this.caret),this.bind(e,new W([i,new W(null,{classes:"fix"})],{classes:this.align==="left"?"llap":"rlap",type:this.boxType}))):null}}class vt extends V{constructor(e,i,n){var r,a,o,l;super("overunder",i,{command:e,serialize:n.serialize,style:n.style}),this.skipBoundary=(r=n.skipBoundary)===null||r===void 0||r,this.subsupPlacement=n.supsubPlacement,this.body=n.body,this.svgAbove=n.svgAbove,this.svgBelow=n.svgBelow,this.svgBody=n.svgBody,this.above=n.above,this.below=n.below,this.boxType=(a=n.boxType)!==null&&a!==void 0?a:"mord",this.paddedBody=(o=n.paddedBody)!==null&&o!==void 0&&o,this.paddedLabels=(l=n.paddedLabels)!==null&&l!==void 0&&l}static fromJson(e,i){return new vt(e.command,i,e)}toJson(){const e={};return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="mord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),{...super.toJson(),...e}}render(e){let i=this.svgBody?Ar(this.svgBody):V.createBox(e,this.body,{newList:!0});const n=new se(e,this.style,"scriptstyle");let r=null;this.svgAbove?r=Ar(this.svgAbove):this.above&&(r=V.createBox(n,this.above,{newList:!0}));let a=null;this.svgBelow?a=Ar(this.svgBelow):this.below&&(a=V.createBox(n,this.below,{newList:!0})),this.paddedBody&&(i=new W([Fi(e,"mopen"),i,Fi(e,"mclose")],{newList:!0}));let o=function(l,s){if(!s.base)return null;if(!s.above&&!s.below){const h=new W(s.base,{type:s.type});return h.setStyle("position","relative"),h}let u=0;s.above&&(u=-s.above.depth+l.metrics.bigOpSpacing2);let c=null;const d=s.base,p=["ML__center"];if(s.paddedAboveBelow&&p.push("ML__label_padding"),s.below&&s.above){const h=l.metrics.bigOpSpacing5+s.below.height+s.below.depth+d.depth+0;c=new Ke({bottom:h,children:[l.metrics.bigOpSpacing5,{box:s.below,classes:p},{box:d,classes:["ML__center"]},u,{box:s.above,classes:p},l.metrics.bigOpSpacing5]})}else s.below?c=new Ke({top:d.height-0,children:[l.metrics.bigOpSpacing5,{box:s.below,classes:p},{box:d,classes:["ML__center"]}]}):s.above&&(c=new Ke({bottom:d.depth+0,children:[{box:d,classes:["ML__center"]},u,{box:s.above,classes:p},l.metrics.bigOpSpacing5]}));return new W(c,{type:s.type})}(e,{base:i,above:r,below:a,type:this.boxType==="mbin"||this.boxType==="mrel"?this.boxType:"mord",paddedAboveBelow:this.paddedLabels});return o?(o=this.subsupPlacement==="over-under"?this.attachLimits(e,{base:o,type:o.type}):this.attachSupsub(e,{base:o}),this.caret&&(o.caret=this.caret),this.bind(e,o)):null}}class pi extends V{constructor(e,i,n,r){var a,o,l,s;super("phantom",n,{command:e,style:r.style}),this.captureSelection=!0,this.body=i,this.isInvisible=(a=r.isInvisible)!==null&&a!==void 0&&a,this.smashDepth=(o=r.smashDepth)!==null&&o!==void 0&&o,this.smashHeight=(l=r.smashHeight)!==null&&l!==void 0&&l,this.smashWidth=(s=r.smashWidth)!==null&&s!==void 0&&s}static fromJson(e,i){return new pi(e.command,e.body,i,e)}toJson(){const e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),{...super.toJson(),...e}}render(e){const i=new se(e,{isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return V.createBox(i,this.body,{classes:"inner"});const n=V.createBox(this.isInvisible?i:e,this.body);if(!n)return null;if(this.smashWidth){const r=new W(null,{classes:"fix"});return new W([n,r],{classes:"rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return n;if(this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0),n.children)for(const r of n.children)this.smashHeight&&(r.height=0),this.smashDepth&&(r.depth=0);return new Ke({firstBaseline:[{box:n}]},{type:"mord"}).wrap(e)}}class pa extends V{constructor(e,i,n){var r;super("rule",i,{command:e,style:n.style}),this.shift=(r=n.shift)!==null&&r!==void 0?r:{dimension:0},this.height=n.height,this.width=n.width}static fromJson(e,i){return new pa(e.command,i,e)}toJson(){const e={height:this.height,width:this.width};return this.shift&&(e.shift=this.shift),{...super.toJson(),...e}}render(e){const i=new se(e,this.style,"textstyle"),n=Ht(this.shift),r=Ht(this.width),a=Ht(this.height),o=new W(null,{classes:"rule",type:"mord"});return o.setStyle("border-right-width",r,"em"),o.setStyle("border-top-width",a,"em"),o.setStyle("border-color",this.style.color),o.setStyle("vertical-align",n,"em"),this.isSelected&&o.setStyle("opacity","50%"),o.width=r,o.height=a+n,o.depth=-n,this.bind(e,o),this.caret&&(o.caret=this.caret),o.wrap(i)}serialize(e){var i;let n=(i=this.command)!==null&&i!==void 0?i:"";return this.shift&&(n+=`[${Aa(this.shift)}]`),n+=`{${Aa(this.width)}}{${Aa(this.height)}}`,n}}class fa extends V{constructor(e,i,n){var r;super("surd",i,{command:e,mode:(r=n.mode)!==null&&r!==void 0?r:"math",style:n.style,displayContainsHighlight:!0}),this.body=n.body,this.above=n.index}static fromJson(e,i){return new fa(e.command,i,{...e,index:e.above})}toJson(){return super.toJson()}serialize(e){let i="";return this.above&&(i+=`[${this.aboveToLatex(e)}]`),i+=`{${this.bodyToLatex(e)}}`,this.command+i}render(e){var i;const n=new se(e,this.style,"cramp"),r=(i=V.createBox(n,this.body,{style:this.style,newList:!0}))!==null&&i!==void 0?i:new W(null),a=n.scalingFactor,o=n.metrics.defaultRuleThickness/a,l=e.isDisplayStyle?.431:o,s=new W(null,{classes:"ML__sqrt-line",style:this.style,height:o});let u=a*(o+l/4);const c=Math.max(2*a*l,r.height+r.depth)+u+o,d=new se(e,this.style),p=this.isSelected?" ML__selected":"",h=this.bind(d,new W(Kr("","\\surd",c,!1,d,{classes:p}),{classes:"ML__sqrt-sign"+p,style:this.style}));if(!h)return null;const f=h.height+h.depth-o;f>r.height+r.depth+u&&(u=(u+f-(r.height+r.depth))/2),h.setTop(h.height-r.height-u);const g=this.bind(e,new Ke({firstBaseline:[{box:new W(r)},u-2*o,{box:s},o]}).wrap(e)),w=V.createBox(new se(e,this.style,"scriptscriptstyle"),this.above,{style:this.style,newList:!0});if(!w){const M=new W([h,g],{classes:this.containsCaret?"ML__contains-caret":"",type:"mord"});return this.caret&&(M.caret=this.caret),this.bind(e,M.wrap(e))}const k=new Ke({shift:-.6*(Math.max(h.height,g.height)-Math.max(h.depth,g.depth)),children:[{box:w}]}),_=new W([new W(k,{classes:"ML__sqrt-index"}),h,g],{type:"mord",classes:this.containsCaret?"ML__contains-caret":""});return _.height=h.height,_.depth=h.depth,this.caret&&(_.caret=this.caret),this.bind(e,_.wrap(e))}}function tn(t,e){if(Ze(t))return t.map(r=>tn(r,e));t={...t};for(const r of zi)t[r]&&(t[r]=tn(t[r],e));t.array&&(t.array=tn(t.array,e));const i=t.type;let n;i==="accent"&&(n=dn.fromJson(t,e)),i==="array"&&(n=Be.fromJson(t,e)),i==="box"&&(n=gi.fromJson(t,e)),i==="composition"&&(n=ca.fromJson(t,e)),i==="chem"&&(n=da.fromJson(t,e)),i==="delim"&&(n=ha.fromJson(t,e)),i==="enclose"&&(n=Di.fromJson(t,e)),i==="error"&&(n=oa.fromJson(t,e)),i==="genfrac"&&(n=bi.fromJson(t,e)),i==="group"&&(n=et.fromJson(t,e)),i==="latex"&&(n=Oe.fromJson(t,e)),i==="latexgroup"&&(n=ei.fromJson(t,e)),i==="leftright"&&(n=tt.fromJson(t,e)),i==="line"&&(n=Qn.fromJson(t,e)),i==="macro"&&(n=sa.fromJson(t,e)),i==="msubsup"&&(n=_n.fromJson(t,e)),i==="overlap"&&(n=Gt.fromJson(t,e)),i==="overunder"&&(n=vt.fromJson(t,e)),i==="placeholder"&&(t.defaultValue&&(t.defaultValue=tn(t.defaultValue,e)),n=xi.fromJson(t,e)),i==="phantom"&&(n=pi.fromJson(t,e)),i==="rule"&&(n=pa.fromJson(t,e)),i==="sizeddelim"&&(n=ma.fromJson(t,e)),i==="spacing"&&(n=kn.fromJson(t,e)),i==="surd"&&(n=fa.fromJson(t,e)),i==="text"&&(n=Oi.fromJson(t,e)),i==="mop"&&(n=St.fromJson(t,e)),n||(n=V.fromJson(t,e));for(const r of zi)t[r]&&n.setChildren(t[r],r);return t.verbatimLatex!==void 0&&(n.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(n.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(n.explicitSubsupPlacement=!0),t.isFunction&&(n.isFunction=!0),t.isExtensibleSymbol&&(n.isExtensibleSymbol=!0),t.skipBoundary&&(n.skipBoundary=!0),t.captureSelection&&(n.captureSelection=!0),n}let br=null;function Il(t){if(br===null)try{const e=new XMLHttpRequest;e.open("HEAD",G0,!1),e.send(null),e.status===200&&(br=e.responseURL)}catch{}return br?new URL(t,br).href:""}const G0=((za=(Ta=globalThis==null?void 0:globalThis.document)===null||Ta===void 0?void 0:Ta.currentScript)===null||za===void 0?void 0:za.src)||function(){const t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return"";let e=t[1],i=e.match(/http.*\.ts[\?:]/);return i&&(e=t[2]),i=e.match(/(https?:.*):[0-9]+:[0-9]+/),i||(i=e.match(/at (.*(\.ts))[\?:]/),i||(i=e.match(/at (.*(\.mjs|\.js))[\?:]/))),i?i[1]:""}();async function Wo(t){var e;if(me()&&!document.body.classList.contains("ML__fonts-loading")&&((e=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))===null||e===void 0||!e)&&(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document)){const i=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],n=Array.from(document.fonts).map(o=>o.family);if(i.every(o=>n.includes(o)))return;const r=Il(t!=null?t:"./fonts");if(!r)return;document.body.classList.add("ML__fonts-loading");const a=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(o=>function(l,s,u={}){return new FontFace(l,`url(${s}.woff2) format('woff2')`,u)}(o[0].replace(/-[a-zA-Z]+$/,""),r+"/"+o[0],o[1]));try{(await Promise.all(a.map(l=>{try{return l.load()}catch{}}))).forEach(l=>document.fonts.add(l))}catch{document.body.classList.add("ML__fonts-did-not-load")}document.body.classList.remove("ML__fonts-loading")}}B("ensuremath","{:math}",{createAtom:(t,e,i,n)=>new et(e[0],n,{mode:"math",latexOpen:"\\ensuremath{",latexClose:"}",style:i})}),B("color","{:string}",{applyStyle:(t,e,i)=>{var n,r;const a=e[0];return{verbatimColor:e[0],color:(r=(n=i.colorMap)===null||n===void 0?void 0:n.call(i,a))!==null&&r!==void 0?r:a}}}),B("textcolor","{:string}{content:auto*}",{applyStyle:(t,e,i)=>{var n,r;const a=e[0];return{verbatimColor:a,color:(r=(n=i.colorMap)===null||n===void 0?void 0:n.call(i,a))!==null&&r!==void 0?r:a}}}),B("boxed","{content:math}",{createAtom:(t,e,i,n)=>new gi(t,e[0],n,{framecolor:"black",style:i})}),B("colorbox","{:string}{content:auto*}",{applyMode:"text",applyStyle:(t,e,i)=>{var n,r;const a=e[0];return{verbatimBackgroundColor:e[0],backgroundColor:(r=(n=i.backgroundColorMap)===null||n===void 0?void 0:n.call(i,a))!==null&&r!==void 0?r:a}}}),B("fcolorbox","{frame-color:string}{background-color:string}{content:auto}",{applyMode:"text",createAtom:(t,e,i,n)=>{var r,a,o,l;const s=e[0],u=e[1];return new gi(t,e[2],n,{verbatimFramecolor:s,framecolor:(a=(r=n.colorMap)===null||r===void 0?void 0:r.call(n,s))!==null&&a!==void 0?a:s,verbatimBackgroundcolor:e[1],backgroundcolor:(l=(o=n.backgroundColorMap)===null||o===void 0?void 0:o.call(n,u))!==null&&l!==void 0?l:u,style:i,serialize:(c,d)=>{var p,h;return`${c.command}{${(p=c.verbatimFramecolor)!==null&&p!==void 0?p:c.framecolor}{${(h=c.verbatimBackgroundcolor)!==null&&h!==void 0?h:c.backgroundcolor}}{${c.bodyToLatex(d)}}`}})}}),B("bbox","[:bbox]{body:auto}",{createAtom:(t,e,i,n)=>{if(e[0]){const r=e[0];return new gi(t,e[1],n,{padding:r.padding,border:r.border,backgroundcolor:r.backgroundcolor,style:i,serialize:(a,o)=>{var l;let s=t;if(Number.isFinite(a.padding)||a.border!==void 0||a.backgroundcolor!==void 0){const u=[];a.padding&&u.push(a.padding),a.border&&u.push(`border: ${a.border}`),(a.verbatimBackgroundcolor||a.backgroundcolor)&&u.push((l=a.verbatimBackgroundcolor)!==null&&l!==void 0?l:a.backgroundcolor),s+=`[${u.join(",")}]`}return s+`{${a.bodyToLatex(o)}}`}})}return new gi(t,e[1],n,{style:i})}}),B(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:(t,e,i,n)=>new et(e[0],n,{latexOpen:`{${t} `,latexClose:"}",style:i,mathstyleName:t.slice(1)})}),B(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>({fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[t]})}),B("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e)=>({fontSeries:e[0]})}),B("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e)=>({fontShape:e[0]})}),B("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e)=>({fontFamily:e[0]})}),B("selectfont","",{ifMode:"text",applyStyle:(t,e)=>({})}),B("bf","",{applyStyle:(t,e)=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})}),B(["boldsymbol","bm"],"{:math*}",{applyMode:"math",createAtom:(t,e,i,n)=>new et(e[0],n,{latexOpen:`${t}{`,latexClose:"}",style:i,customClass:"ML__boldsymbol"})}),B("bold","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variantStyle:"bold"})}),B("bfseries","",{applyMode:"text",applyStyle:(t,e)=>({fontSeries:"b"})}),B("mdseries","",{applyMode:"text",applyStyle:(t,e)=>({fontSeries:"m"})}),B("upshape","",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"n"})}),B("slshape","",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"sl"})}),B("scshape","",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"sc"})}),B("textbf","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontSeries:"b"})}),B("textmd","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontSeries:"m"})}),B("textup","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"n"})}),B("textnormal","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"n",fontSeries:"m"})}),B("textsl","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"sl"})}),B("textit","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"it"})}),B("textsc","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontShape:"sc"})}),B("textrm","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontFamily:"roman"})}),B("textsf","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontFamily:"sans-serif"})}),B("texttt","{:text*}",{applyMode:"text",applyStyle:(t,e)=>({fontFamily:"monospace"})}),B("mathbf","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"normal",variantStyle:"bold"})}),B("mathit","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"main",variantStyle:"italic"})}),B("mathnormal","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"normal",variantStyle:"italic"})}),B("mathbfit","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"main",variantStyle:"bolditalic"})}),B("mathrm","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"normal",variantStyle:"up"})}),B("mathsf","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"sans-serif",variantStyle:"up"})}),B("mathtt","{:math*}",{applyMode:"math",applyStyle:(t,e)=>({variant:"monospace",variantStyle:"up"})}),B("it","",{applyStyle:(t,e)=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr",variantStyle:"italic"})}),B("rmfamily","",{applyStyle:(t,e)=>({fontFamily:"roman"})}),B("sffamily","",{applyStyle:(t,e)=>({fontFamily:"sans-serif"})}),B("ttfamily","",{applyStyle:(t,e)=>({fontFamily:"monospace"})}),B(["Bbb","mathbb"],"{:math*}",{applyStyle:(t,e)=>({variant:"double-struck",variantStyle:"up"})}),B(["frak","mathfrak"],"{:math*}",{applyStyle:(t,e)=>({variant:"fraktur",variantStyle:"up"})}),B("mathcal","{:math*}",{applyStyle:(t,e)=>({variant:"calligraphic",variantStyle:"up"})}),B("mathscr","{:math*}",{applyStyle:(t,e)=>({variant:"script",variantStyle:"up"})}),B("mbox","{:text}",{ifMode:"math",createAtom:(t,e,i,n)=>new et(e[0],n,{changeMode:!0,style:i,mode:"text",command:t,serialize:(r,a)=>`\\mbox{${r.bodyToLatex({...a,skipModeCommand:!0})}}`})}),B("text","{:text}",{ifMode:"math",applyMode:"text"}),B("class","{name:string}{content:auto*}",{createAtom:(t,e,i,n)=>new et(e[1],n,{customClass:e[0],style:i})}),B("cssId","{id:string}{content:auto}",{createAtom:(t,e,i,n)=>new et(e[1],n,{cssId:e[0],style:i})}),B("htmlData","{data:string}{content:auto}",{createAtom:(t,e,i,n)=>new et(e[1],n,{htmlData:e[0],style:i})}),B("htmlStyle","{data:string}{content:auto}",{createAtom:(t,e,i,n)=>new et(e[1],n,{htmlStyle:e[0],style:i})}),B("em","{:auto*}",{createAtom:(t,e,i,n)=>new et(e[0],n,{latexOpen:"\\em",latexClose:"",customClass:"ML__emph",style:i})}),B("emph","{:auto}",{createAtom:(t,e,i,n)=>new et(e[0],n,{latexOpen:"\\emph{",latexClose:"}",customClass:"ML__emph",style:i})});const vs={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};B(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:(t,e,i,n)=>new ma(t,e[0],n,{size:vs[t].size,delimClass:vs[t].mclass,style:i})}),B(["hspace","hspace*"],"{width:glue}",{createAtom:(t,e,i,n)=>{var r;return new kn(t,i,n,(r=e[0])!==null&&r!==void 0?r:{glue:{dimension:0}})}}),B("mathop","{:auto}",{createAtom:(t,e,i,n)=>new St(t,e[0],n,{type:"mop",captureSelection:!0,limits:"over-under",isFunction:!0,hasArgument:!0,style:i})}),B(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:(t,e,i,n)=>new St(t,e[0],n,{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t],captureSelection:!0,hasArgument:!0,style:i})}),B(["operatorname","operatorname*"],"{operator:math}",{createAtom:(t,e,i,n)=>{const r=new St(t,e[0],n,{isFunction:!0,hasArgument:!0,limits:t==="\\operatorname"?"adjacent":"over-under",style:i});return r.captureSelection=!0,r.body&&r.body.forEach(a=>{var o;a.type!=="first"&&(a.type="mord",a.value=(o={"\u2217":"*","\u2212":"-"}[a.value])!==null&&o!==void 0?o:a.value,a.isFunction=!1,a.style.variant||a.style.variantStyle||(a.style.variant="main",a.style.variantStyle="up"))}),r}});class J0 extends V{constructor(e,i,n){let r=Number.parseInt(e);Number.isFinite(r)||(r=10067),super("mord",n,{value:String.fromCodePoint(r),style:i}),this.codepoint=r}serialize(e){return'\\unicode"'+("000000"+this.codepoint.toString(16)).toUpperCase().slice(-6)}}function Cr(t){if(t.length===1){const e=t[0];if(e.type==="mbin")return"mbin";if(e.type==="mrel")return"mrel"}return"mord"}B("unicode","{charcode:number}",{createAtom:(t,e,i,n)=>new J0(e[0],i,n)}),B("rule","[raise:dimen]{width:dimen}{thickness:dimen}",{createAtom:(t,e,i,n)=>new pa(t,n,{shift:e[0],width:e[1],height:e[2],style:i})}),B("overline","{:auto}",{createAtom:(t,e,i,n)=>new Qn(t,e[0],n,{position:"overline",style:i})}),B("underline","{:auto}",{createAtom:(t,e,i,n)=>new Qn(t,e[0],n,{position:"underline",style:i})}),B("overset","{above:auto}{base:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{above:e[0],body:e[1],skipBoundary:!1,style:i,boxType:Cr(e[1]),serialize:(r,a)=>`${r.command}{${r.aboveToLatex(a)}}{${r.bodyToLatex(a)}}`})}),B("underset","{below:auto}{base:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{below:e[0],body:e[1],skipBoundary:!1,style:i,boxType:Cr(e[1]),serialize:(r,a)=>`${t}{${r.belowToLatex(a)}}{${r.bodyToLatex(a)}}`})}),B("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{above:e[0],below:e[1],body:e[2],skipBoundary:!1,style:i,boxType:Cr(e[2]),serialize:(r,a)=>`${r.command}{${r.aboveToLatex(a)}}{${r.bodyToLatex(a)}}`})}),B(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{body:e[2],above:e[1],below:e[0],skipBoundary:!1,style:i,boxType:t==="\\stackrel"?"mrel":"mbin",serialize:(r,a)=>`${r.command}{${r.aboveToLatex(a)}}{${r.bodyToLatex(a)}}`})}),B(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:(t,e,i,n)=>new bi(t,e[0],e[1],n,{leftDelim:e[2],rightDelim:e[3],hasBarLine:!1,style:i,serialize:(r,a)=>`${r.aboveToLatex(a)} ${r.command}${r.leftDelim}${r.rightDelim}${r.belowToLatex(a)}`})}),B("smash","[:string]{:auto}",{createAtom:(t,e,i,n)=>e[0]?new pi(t,e[1],n,{smashHeight:e[0].includes("t"),smashDepth:e[0].includes("b"),style:i}):new pi(t,e[1],n,{smashHeight:!0,smashDepth:!0,style:i})}),B(["vphantom"],"{:auto*}",{createAtom:(t,e,i,n)=>new pi(t,e[1],n,{isInvisible:!0,smashWidth:!0,style:i})}),B(["hphantom"],"{:auto*}",{createAtom:(t,e,i,n)=>new pi(t,e[1],n,{isInvisible:!0,smashHeight:!0,smashDepth:!0,style:i})}),B(["phantom"],"{:auto*}",{createAtom:(t,e,i,n)=>new pi(t,e[1],n,{isInvisible:!0,style:i})}),B("not","{:math}",{createAtom:(t,e,i,n)=>{if(e.length<1||e[0]===null)return new V("mrel",n,{command:t,style:i,value:"\uE020"});const r=e[0];return new et([new Gt(t,"\uE020",n,{align:"right",style:i,boxType:"mrel"}),...r],n,{boxType:"mrel",captureSelection:!0,command:"\\not",serialize:(a,o)=>{const l=V.serialize(r,o);return l.length!==1||/[a-zA-Z]/.test(l)?`\\not{${l}}`:"\\not"+l}})}}),B(["ne","neq"],"",{createAtom:(t,e,i,n)=>new et([new Gt(t,"\uE020",n,{align:"right",style:i,boxType:"mrel"}),new V("mrel",n,{style:i,value:"="})],n,{boxType:"mrel",captureSelection:!0,serialize:()=>t,command:t})}),B("rlap","{:auto}",{createAtom:(t,e,i,n)=>new Gt(t,e[0],n,{align:"right",style:i})}),B("llap","{:auto}",{createAtom:(t,e,i,n)=>new Gt(t,e[0],n,{style:i})}),B("mathllap","{:auto}",{createAtom:(t,e,i,n)=>new Gt(t,e[0],n,{style:i})}),B("mathrlap","{:auto}",{createAtom:(t,e,i,n)=>new Gt(t,e[0],n,{align:"right",style:i})});const xs={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};B(Object.keys(xs),"{body:auto}",{createAtom:(t,e,i,n)=>new dn(t,e[0],n,{accentChar:xs[t.slice(1)],style:i})}),B(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:(t,e,i,n)=>{const r=cs(e[0]);return new dn(t,e[0],n,{style:i,svgAccent:t.slice(1)+(r.length>5?"4":["1","1","2","2","3","3"][r.length])})}}),B(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:(t,e,i,n)=>new dn(t,e[0],n,{style:i,svgAccent:"overarc"})}),B(["underarc","underparen"],"{body:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{body:e[0],style:i,svgBelow:"underarc"})}),B("utilde","{body:auto}",{createAtom:(t,e,i,n)=>{const r=cs(e[0]),a="widetilde"+(r.length>5?"4":["1","1","2","2","3","3"][r.length]);return new vt(t,n,{body:e[0],svgBelow:a,style:i,boxType:Cr(e[0])})}}),B("^","{:string}",{createAtom:(t,e,i,n)=>{var r;return new V("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:i,value:e[0]&&(r={a:"\xE2",e:"\xEA",i:"\xEE",o:"\xF4",u:"\xFB",A:"\xC2",E:"\xCA",I:"\xCE",O:"\xD4",U:"\xDB"}[e[0]])!==null&&r!==void 0?r:"^"})}}),B("`","{:string}",{createAtom:(t,e,i,n)=>{var r;return new V("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:i,value:e[0]&&(r={a:"\xE0",e:"\xE8",i:"\xEC",o:"\xF2",u:"\xF9",A:"\xC0",E:"\xC8",I:"\xCC",O:"\xD2",U:"\xD9"}[e[0]])!==null&&r!==void 0?r:"`"})}}),B("'","{:string}",{createAtom:(t,e,i,n)=>{var r;return new V("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:i,value:e[0]&&(r={a:"\xE1",e:"\xE9",i:"\xED",o:"\xF3",u:"\xFA",A:"\xC1",E:"\xC9",I:"\xCD",O:"\xD3",U:"\xDA"}[e[0]])!==null&&r!==void 0?r:"^"})}}),B("~","{:string}",{createAtom:(t,e,i,n)=>{var r;return new V("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:i,value:e[0]&&(r={n:"\xF1",N:"\xD1",a:"\xE3",o:"\xF5",A:"\xC3",O:"\xD5"}[e[0]])!==null&&r!==void 0?r:"\xB4"})}}),B("c","{:string}",{createAtom:(t,e,i,n)=>{var r;return new V("mord",n,{command:t,isFunction:!1,limits:"adjacent",style:i,value:e[0]&&(r={c:"\xE7",C:"\xC7"}[e[0]])!==null&&r!==void 0?r:""})}}),B("enclose","{notation:string}[style:string]{body:auto}",{createAtom:(t,e,i,n)=>{var r;const a={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",svgStrokeStyle:void 0,borderStyle:void 0,style:i};if(e[1]){const l=e[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const s of l){const u=s.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(u)a.strokeWidth=u[1],a.strokeStyle=u[2],a.strokeColor=u[3];else{const c=s.match(/\s*([a-z]*)\s*=\s*"(.*)"/);c&&(c[1]==="mathbackground"?a.backgroundcolor=c[2]:c[1]==="mathcolor"?a.strokeColor=c[2]:c[1]==="padding"?a.padding=c[2]:c[1]==="shadow"&&(a.shadow=c[2]))}}a.strokeStyle==="dashed"?a.svgStrokeStyle="5,5":a.strokeStyle==="dotted"&&(a.svgStrokeStyle="1,5")}a.borderStyle=`${a.strokeWidth} ${a.strokeStyle} ${a.strokeColor}`;const o={};return((r=e[0])!==null&&r!==void 0?r:"").split(/[, ]/).filter(l=>l.length>0).forEach(l=>{o[l.toLowerCase()]=!0}),new Di(t,e[2],o,n,a)}}),B("cancel","{body:auto}",{createAtom:(t,e,i,n)=>new Di(t,e[0],{updiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:i})}),B("bcancel","{body:auto}",{createAtom:(t,e,i,n)=>new Di(t,e[0],{downdiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:i})}),B("xcancel","{body:auto}",{createAtom:(t,e,i,n)=>new Di(t,e[0],{updiagonalstrike:!0,downdiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:i})}),Lr("math","",(t,e,i,n)=>new Be(t,e,i,n,{mathstyleName:"textstyle"})),Lr("displaymath","",(t,e,i,n)=>new Be(t,e,i,n,{mathstyleName:"textstyle"})),$t("array","{columns:colspec}",(t,e,i,n,r)=>new Be(t,e,i,n,{columns:r[0],mathstyleName:"textstyle"})),$t(["equation","equation*","subequations"],"",(t,e,i,n)=>new Be(t,e,i,n,{columns:[{align:"c"}]})),$t("multline","",(t,e,i,n)=>new Be(t,e,i,n,{columns:[{align:"m"}]})),$t(["align","align*","aligned","eqnarray"],"",(t,e,i,n)=>{let r=0;for(const l of i)r=Math.max(r,l.length);const a=[{gap:0},{align:"r"},{gap:.25},{align:"l"}];let o=2;for(;o<r;)a.push({gap:1}),a.push({align:"r"}),a.push({gap:.25}),a.push({align:"l"}),o+=2;return a.push({gap:0}),new Be(t,e,i,n,{arraycolsep:0,columns:a,colSeparationType:"align",jot:.3})}),$t("split","",(t,e,i,n)=>new Be(t,e,i,n,{columns:[{align:"r"},{align:"l"}]})),$t(["gather","gathered"],"",(t,e,i,n)=>new Be(t,e,i,n,{columns:[{gap:.25},{align:"c"},{gap:0}],colSeparationType:"gather"})),$t(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",(t,e,i,n,r)=>{var a;let o=".",l=".";switch(e){case"pmatrix":case"pmatrix*":o="(",l=")";break;case"bmatrix":case"bmatrix*":o="[",l="]";break;case"Bmatrix":case"Bmatrix*":o="\\lbrace",l="\\rbrace";break;case"vmatrix":case"vmatrix*":o="\\vert",l="\\vert";break;case"Vmatrix":case"Vmatrix*":o="\\Vert",l="\\Vert";break;case"matrix":case"matrix*":o=".",l="."}return new Be(t,e,i,n,{mathstyleName:"textstyle",leftDelim:o,rightDelim:l,columns:(a=r[0])!==null&&a!==void 0?a:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]})}),$t(["smallmatrix","smallmatrix*"],"[columns:colspec]",(t,e,i,n,r)=>{var a;return new Be(t,e,i,n,{mathstyleName:"scriptstyle",columns:(a=r[0])!==null&&a!==void 0?a:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],colSeparationType:"small",arraystretch:.5})}),$t(["cases","dcases"],"",(t,e,i,n)=>new Be(t,e,i,n,{mathstyleName:e==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]})),$t("rcases","",(t,e,i,n)=>new Be(t,e,i,n,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]})),Lr("center","",(t,e,i,n)=>new Be(t,e,i,n,{columns:[{align:"c"}]})),B(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{body:e[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:i,svgAbove:t.slice(1)})}),B("overbrace","{:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{body:e[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:i,svgAbove:t.slice(1)})}),B(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{body:e[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:i,svgBelow:t.slice(1)})}),B(["underbrace"],"{:auto}",{createAtom:(t,e,i,n)=>new vt(t,n,{body:e[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:i,svgBelow:t.slice(1)})}),B(["xrightarrow","xleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","xLeftrightarrow","xrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium"],"[:auto]{:auto}",{createAtom:(t,e,i,n)=>{var r,a;return new vt(t,n,{style:i,svgBody:t.slice(1),above:((r=e[1])===null||r===void 0?void 0:r.length)===0?void 0:e[1],below:(a=e[0])!==null&&a!==void 0?a:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"mrel",serialize:(o,l)=>t+(o.hasEmptyBranch("below")?"":`[${o.belowToLatex(l)}]`)+`{${o.aboveToLatex(l)}}`})}}),B(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","coth","ctg","cth","cotg","csc","cosec","deg","dim","exp","hom","inf","ker","lg","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th"],"",{isFunction:!0,createAtom:(t,e,i,n)=>new St(t,t.slice(1),n,{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up",style:i})}),B(["liminf","limsup"],"",{createAtom:(t,e,i,n)=>new St(t,{"\\liminf":"lim inf","\\limsup":"lim sup"}[t],n,{limits:"over-under",variant:"main",style:i})}),B(["lim","mod"],"",{createAtom:(t,e,i,n)=>new St(t,t.slice(1),n,{limits:"over-under",variant:"main",style:i})}),B(["det","max","min"],"",{isFunction:!0,createAtom:(t,e,i,n)=>new St(t,t.slice(1),n,{limits:"over-under",isFunction:!0,variant:"main",style:i})}),B("sqrt","[index:auto]{radicand:auto}",{createAtom:(t,e,i,n)=>new fa(t,n,{body:e[1],index:e[0],style:i})}),B(["frac","dfrac","tfrac","cfrac","binom","dbinom","tbinom"],"{numerator}{denominator}",{createAtom:(t,e,i,n)=>{const r={style:i};switch(t){case"\\dfrac":case"\\frac":case"\\tfrac":r.hasBarLine=!0;break;case"\\atopfrac":r.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r.hasBarLine=!1,r.leftDelim="(",r.rightDelim=")"}switch(t){case"\\dfrac":case"\\dbinom":r.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":r.mathstyleName="textstyle";break;case"\\cfrac":r.hasBarLine=!0,r.continuousFraction=!0}return new bi(t,e[0],e[1],n,r)}}),B(["brace","brack"],"",{infix:!0,createAtom:(t,e,i,n)=>new bi(t,e[0],e[1],n,{hasBarLine:!1,leftDelim:t==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t==="\\brace"?"\\rbrace":"\\rbrack",style:i,serialize:(r,a)=>Te([r.aboveToLatex(a),r.command,r.belowToLatex(a)])})}),B(["over","atop","choose"],"",{infix:!0,createAtom:(t,e,i,n)=>{let r,a;return t==="\\choose"&&(r="(",a=")"),new bi(t,e[0],e[1],n,{hasBarLine:t==="\\over",leftDelim:r,rightDelim:a,style:i,serialize:(o,l)=>Te([o.aboveToLatex(l),o.command,o.belowToLatex(l)])})}}),B("pdiff","{numerator}{denominator}",{createAtom:(t,e,i,n)=>new bi(t,e[0],e[1],n,{hasBarLine:!0,numerPrefix:"\u2202",denomPrefix:"\u2202",style:i})}),B(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","smallint","intop"],"",{createAtom:(t,e,i,n)=>new St(t,{coprod:"\u2210",bigvee:"\u22C1",bigwedge:"\u22C0",biguplus:"\u2A04",bigcap:"\u22C2",bigcup:"\u22C3",intop:"\u222B",prod:"\u220F",sum:"\u2211",bigotimes:"\u2A02",bigoplus:"\u2A01",bigodot:"\u2A00",bigsqcup:"\u2A06",smallint:"\u222B"}[t.slice(1)],n,{isExtensibleSymbol:!0,limits:"auto",variant:"main",style:i})});const qa={int:"\u222B",iint:"\u222C",iiint:"\u222D",oint:"\u222E",oiint:"\u222F",oiiint:"\u2230",intclockwise:"\u2231",varointclockwise:"\u2232",ointctrclockwise:"\u2233",intctrclockwise:"\u2A11",sqcup:"\u2294",sqcap:"\u2293",uplus:"\u228E",wr:"\u2240",amalg:"\u2A3F",Cap:"\u22D2",Cup:"\u22D3",doublecap:"\u22D2",doublecup:"\u22D3"};function Zo(t,e,i){return i?function(n,r){if(!r)return"";if(typeof r=="string")return r;if(!n||r.after===void 0)return r.value;let a=!1,o=!1,l=!1,s=!1,u=!1,c=!1,d=!1,p=!1,h=!1,f=!1,g=!1,w=!1,k=!1,_=!1,M=!1,S=n[0],I=0;for(;S&&/msubsup|placeholder/.test(S.type);)I+=1,S=n[I];return a=!S||S.type==="first",S&&(_=S.mode==="text",o=!_&&S.type==="mord"&&L0.test(S.value),l=!_&&S.type==="mord"&&/\d+$/.test(S.value),s=!_&&S.isFunction,u=S.type==="genfrac",c=S.type==="surd",d=S.type==="mbin",p=S.type==="mrel",h=S.type==="mop",f=S.type==="mpunct"||S.type==="minner",g=S.type==="array",w=S.type==="mopen",k=S.type==="mclose"||S.type==="leftright",M=S.type==="space"),r.after.includes("nothing")&&a||r.after.includes("letter")&&o||r.after.includes("digit")&&l||r.after.includes("function")&&s||r.after.includes("frac")&&u||r.after.includes("surd")&&c||r.after.includes("binop")&&d||r.after.includes("relop")&&p||r.after.includes("operator")&&h||r.after.includes("punct")&&f||r.after.includes("array")&&g||r.after.includes("openfence")&&w||r.after.includes("closefence")&&k||r.after.includes("text")&&_||r.after.includes("space")&&M?r.value:""}(t,i[e]):""}B(Object.keys(qa),"",{createAtom:(t,e,i,n)=>new St(t,qa[t.slice(1)],n,{limits:"adjacent",isExtensibleSymbol:!0,style:i,variant:{"\u22D2":"ams","\u22D3":"ams"}[qa[t.slice(1)]]})}),B(["Re","Im"],"",{createAtom:(t,e,i,n)=>new St(t,{"\\Re":"\u211C","\\Im":"\u2111"}[t],n,{limits:"adjacent",style:i,isFunction:!0,variant:"fraktur"})}),B("middle","{:delim}",{createAtom:(t,e,i,n)=>new ha(t,e[0],n,{size:1,style:i})}),Ye("0123456789/@.?!"),ls(65,90),ls(97,122),Ye([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]),Ye([["\\sharp",9839],["\\flat",9837],["\\natural",9838],["\\#",35],["\\&",38],["\\clubsuit",9827],["\\heartsuit",9825],["\\spadesuit",9824],["\\diamondsuit",9826],["\\parallelogram",9649]]),Ye([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]),Ye([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel"),Ye([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]),Ye([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nrightarrow",8603],["\\nleftarrow",8602],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams"),Ye([["+",43],["-",8722],["\u2212",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin"),Ye([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams"),Ye([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]),Ye([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel"),Ye([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams"),Ye([["\\wp",8472],["\\aleph",8501]]),Ye([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams"),Ye([["\\ ",160],["~",160],["\\space",160]],"space"),B(["!",",",":",";","enskip","enspace","quad","qquad"],"",{createAtom:(t,e,i,n)=>new kn(t,i,n)}),Ye([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct"),Ye([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner"),Ye([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);const Fl={"&":"\\&","%":"\\%","''":"^{\\doubleprime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",infty:"\\infty","\u221E":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"\u2211":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","\u2206":"\\differentialD","\u2202":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",sin:"\\sin",sinh:"\\sinh",cos:"\\cos",cosh:"\\cosh",tan:"\\tan",tanh:"\\tanh",sec:"\\sec",csc:"\\csc",cot:"\\cot",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","\u2260":"\\ne","!=":"\\ne","\u2265":"\\ge",">=":"\\ge","\u2264":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","\u2248":"\\approx","?=":"\\questeq","\xF7":"\\div","\xAC":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},\u00B5:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",\u03A9:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\mod",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"};function Vr(t,e){var i;let n=(i=e==null?void 0:e.format)!==null&&i!==void 0?i:"auto";return n==="auto"&&([n,t]=function(r){if((r=r.trim()).length<=1)return["latex",r];let a;return[a,r]=fo(r),a?["latex",r]:r.startsWith("`")&&r.endsWith("`")?["ascii-math",r=r.substring(1,r.length-1)]:r.includes("\\")?["latex",r]:/\$.+\$/.test(r)?["latex",`\\text{${r}}`]:[void 0,r]}(t)),n==="ascii-math"?["ascii-math",dt(t=(t=(t=(t=(t=(t=t.replace(/\u2061/gu,"")).replace(/\u3016/gu,"{")).replace(/\u3017/gu,"}")).replace(/([^\\])sinx/g,"$1\\sin x")).replace(/([^\\])cosx/g,"$1\\cos x ")).replace(/\u2013/g,"-"),{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]:["latex",t]}function dt(t,e){var i,n,r;if(!t)return"";let a,o=!1;const l=(i=e.inlineShortcuts)!==null&&i!==void 0?i:Fl;if(o||!t.startsWith("^")&&!t.startsWith("_")||(a=Si(t.slice(1),{inlineShortcuts:l,noWrap:!0}),t=t[0]+"{"+a.match+"}",t+=dt(a.rest,e),o=!0),!o&&(a=t.match(/^(sqrt|\u221A)(.*)/),a)&&(a=Si(a[2],{inlineShortcuts:l,noWrap:!0}),t="\\sqrt{"+((n=a.match)!==null&&n!==void 0?n:"\\placeholder{}")+"}",t+=dt(a.rest,e),o=!0),!o&&(a=t.match(/^(\\cbrt|\u221B)(.*)/),a)&&(a=Si(a[2],{inlineShortcuts:l,noWrap:!0}),t="\\sqrt[3]{"+((r=a.match)!==null&&r!==void 0?r:"\\placeholder{}")+"}",t+=dt(a.rest,e),o=!0),o||(a=t.match(/^abs(.*)/),a&&(a=Si(a[1],{inlineShortcuts:l,noWrap:!0}),t="\\left|"+a.match+"\\right|",t+=dt(a.rest,e),o=!0)),o||(a=t.match(/^["\u201d\u201c](.*?)["\u201d\u201c](.*)/),a&&(t="\\text{"+a[1]+"}",t+=dt(a[2],e),o=!0)),o||(a=t.match(/^([^a-zA-Z\(\{\[\_\^\\\s"]+)(.*)/),a&&(t=ks(a[1],l),t+=dt(a[2],e),o=!0)),!o&&/^([fgh])[^a-zA-Z]/.test(t)&&(a=Si(t.slice(1),{inlineShortcuts:l,noWrap:!0}),t=t[1]==="("?t[0]+"\\left("+a.match+"\\right)":t[0]+a.match,t+=dt(a.rest,e),o=!0),o||(a=t.match(/^([a-zA-Z]+)(.*)/),a&&(t=ks(a[1],l),t+=dt(a[2],e),o=!0)),!o)if(a=Si(t,{inlineShortcuts:l,noWrap:!0}),a.match&&a.rest[0]==="/"){const s=Si(a.rest.slice(1),{inlineShortcuts:l,noWrap:!0});s.match&&(t="\\frac{"+a.match+"}{"+s.match+"}"+dt(s.rest,e)),o=!0}else a.match&&(t=t.startsWith("(")?"\\left("+a.match+"\\right)"+dt(a.rest,e):a.match+dt(a.rest,e),o=!0);return o||(a=t.match(/^(\s+)(.*)$/),a&&(t=" "+dt(a[2],e),o=!0)),t}function Si(t,e){let i="",n=t=t.trim(),r=t.charAt(0),a={"(":")","{":"}","[":"]"}[r];if(a){let o=1,l=1;for(;l<t.length&&o>0;)t[l]===r&&o++,t[l]===a&&o--,l++;o===0?(e.noWrap&&r==="("?i=dt(t.substring(1,l-1),e):(r==="{"&&a==="}"&&(r="\\{",a="\\}"),i="\\left"+r+dt(t.substring(1,l-1),e)+"\\right"+a),n=t.slice(Math.max(0,l))):(i=t.substring(1,l),n="")}else{let o=t.match(/^([a-zA-Z]+)/);if(o){let l=Zo(null,t,e.inlineShortcuts);if(l)return l=l.replace("_{#?}",""),l=l.replace("^{#?}",""),{match:l,rest:t.slice(l.length)}}if(o=t.match(/^([a-zA-Z])/),o)return{match:o[1],rest:t.slice(1)};if(o=t.match(/^(-)?\d+(\.\d*)?/),o)return{match:o[0],rest:t.slice(o[0].length)};/^\\(left|right)/.test(t)||(o=t.match(/^(\\[a-zA-Z]+)/),o&&(n=t.slice(o[1].length),i=o[1]))}return{match:i,rest:n}}function ks(t,e){let i=Zo(null,t,e);return i?(i=i.replace("_{#?}",""),i=i.replace("^{#?}",""),i+=" "):i=t,i}const Ol=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function fo(t){const e=t.trim();for(const i of Ol)if(e.startsWith(i[0])&&e.endsWith(i[1]))return[!0,e.substring(i[0].length,e.length-i[1].length)];return[!1,t]}function X0(t,e,i){let n=i,r=0;const a=t.length;for(;n<e.length;){const o=e[n];if(r<=0&&e.slice(n,n+a)===t)return n;o==="\\"?n++:o==="{"?r++:o==="}"&&r--,n++}return-1}function yr(t,e,i,n,r="latex"){const a=[];for(const o of t)if(o.type==="text"){const l=o.data;let s,u=!0,c=0;s=l.indexOf(e),s!==-1&&(c=s,c>0&&a.push({type:"text",data:l.slice(0,c)}),u=!1);let d=!1;for(;!d;){if(u){if(s=l.indexOf(e,c),s===-1){d=!0;break}c!==s&&a.push({type:"text",data:l.slice(c,s)}),c=s}else{if(s=X0(i,l,c+e.length),s===-1){d=!0;break}let p=l.slice(c+e.length,s);r==="ascii-math"&&([,p]=Vr(p,{format:"ascii-math"})),a.push({type:"math",data:p,rawData:l.slice(c,s+i.length),mathstyle:n}),c=s+i.length}u=!u}c<l.length&&a.push({type:"text",data:l.slice(c)})}else a.push(o);return a}function Pl(t,e,i){let n=[{type:"text",data:t}];return e!=null&&e.inline&&e.inline.forEach(([r,a])=>{n=yr(n,r,a,"textstyle")}),e!=null&&e.display&&e.display.forEach(([r,a])=>{n=yr(n,r,a,"displaystyle")}),i!=null&&i.inline&&i.inline.forEach(([r,a])=>{n=yr(n,r,a,"textstyle","ascii-math")}),i!=null&&i.display&&i.display.forEach(([r,a])=>{n=yr(n,r,a,"displaystyle","ascii-math")}),n}function nn(t,e,i,n){var r;const a=function(l,s,u,c){kt();try{const d=s.renderToMarkup(l,{mathstyle:u,format:"html"}),p=document.createElement(u==="displaystyle"?"div":"span");return p.setAttribute("aria-hidden","true"),p.innerHTML=s.createHTML?s.createHTML(d):d,p}catch{if(c)return document.createTextNode(l)}return null}(t,i,e||"displaystyle",n),o=(r=i.renderAccessibleContent)!==null&&r!==void 0?r:"";if(a&&/\b(mathml|speakable-text)\b/i.test(o)){kt();const l=document.createElement("span");if(/\bmathml\b/i.test(o)&&i.renderToMathML&&l.append(function(s,u){kt();const c=document.createElement("span");try{const d="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+u.renderToMathML(s)+"</math>";c.innerHTML=u.createHTML?u.createHTML(d):d}catch{c.textContent=s}return c.className="ML__sr-only",c}(t,i)),/\bspeakable-text\b/i.test(o)&&i.renderToSpeakableText){const s=document.createElement("span"),u=i.renderToSpeakableText(t,i);s.innerHTML=i.createHTML?i.createHTML(u):u,s.className="ML__sr-only",l.append(s)}return l.append(a),l}return a}function Y0(t,e){var i,n,r;kt();let a=null;if(((i=e.TeX)===null||i===void 0?void 0:i.processEnvironments)&&/^\s*\\begin/.test(t)){a=document.createDocumentFragment();const o=nn(t,"",e,!0);o&&a.appendChild(o)}else{if(!t.trim())return null;const o=Pl(t,(n=e.TeX)===null||n===void 0?void 0:n.delimiters,(r=e.asciiMath)===null||r===void 0?void 0:r.delimiters);if(o.length===1&&o[0].type==="text")return null;a=document.createDocumentFragment();for(const l of o)if(l.type==="text")a.appendChild(document.createTextNode(l.data));else{const s=nn(l.data,l.mathstyle==="textstyle"?"textstyle":"displaystyle",e,!0);s&&a.appendChild(s)}}return a}function $l(t,e){var i,n,r,a,o,l,s,u,c,d,p,h,f;if(t.childNodes.length===1&&t.childNodes[0].nodeType===3){const g=(i=t.childNodes[0].textContent)!==null&&i!==void 0?i:"";if(((n=e.TeX)===null||n===void 0?void 0:n.processEnvironments)&&/^\s*\\begin/.test(g)){t.textContent="";const k=nn(g,"",e,!0);return void(k&&t.append(k))}const w=Pl(g,(r=e.TeX)===null||r===void 0?void 0:r.delimiters,(a=e.asciiMath)===null||a===void 0?void 0:a.delimiters);if(w.length===1&&w[0].type==="math"){t.textContent="";const k=nn(w[0].data,w[0].mathstyle==="textstyle"?"textstyle":"displaystyle",e,!0);return void(k&&t.append(k))}if(w.length===1&&w[0].type==="text")return}for(let g=t.childNodes.length-1;g>=0;g--){const w=t.childNodes[g];if(w.nodeType===3){const k=Y0((o=w.textContent)!==null&&o!==void 0?o:"",e);k&&(g+=k.childNodes.length-1,w.replaceWith(k))}else if(w.nodeType===1){const k=w,_=w.nodeName.toLowerCase();if(_==="script"){const M=w;if(!((l=e.processScriptTypePattern)===null||l===void 0)&&l.test(M.type)){let S="displaystyle";for(const D of M.type.split(";")){const F=D.split("=");F[0].toLowerCase()==="mode"&&(S=F[1].toLowerCase()==="display"?"displaystyle":"textstyle")}const I=nn((s=M.textContent)!==null&&s!==void 0?s:"",S,e,!0);I&&M.parentNode.replaceChild(I,M)}}else if((c=(u=e.processClassPattern)===null||u===void 0?void 0:u.test(k.className))!==null&&c!==void 0&&c||!((p=(d=e.skipTags)===null||d===void 0?void 0:d.includes(_))!==null&&p!==void 0&&p||(f=(h=e.ignoreClassPattern)===null||h===void 0?void 0:h.test(k.className))!==null&&f!==void 0&&f))if(t.childNodes.length===1&&t.childNodes[0].nodeType===3){const M=t.textContent;t.textContent="";const S=nn(M!=null?M:"","displaystyle",e,!0);S&&t.append(S)}else $l(k,e)}}}const Q0={skipTags:["math-field","noscript","style","textarea","pre","code","annotation","annotation-xml"],processScriptType:"math/tex",ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",renderAccessibleContent:"mathml",asciiMath:{delimiters:{display:[["`","`"]]}},TeX:{processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}};function ec(t,e){var i,n,r;try{const a={...Q0,...e};a.ignoreClassPattern=new RegExp((i=a.ignoreClass)!==null&&i!==void 0?i:""),a.processClassPattern=new RegExp((n=a.processClass)!==null&&n!==void 0?n:""),a.processScriptTypePattern=new RegExp((r=a.processScriptType)!==null&&r!==void 0?r:""),Wo(a.fontsDirectory),ii(null,Wt,ni(Wt).toString(36)),$l(t,a)}catch{}}const Bl=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Space]",ifMode:"math",command:"moveAfterParent"},{key:"shift+[Space]",ifMode:"math",command:"moveBeforeParent"},{key:"[Home]",command:"moveToMathFieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathFieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathFieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathFieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",ifMode:"math",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"math",command:"moveToPreviousPlaceholder"},{key:"[Tab]",ifMode:"text",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"text",command:"moveToPreviousPlaceholder"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"[Undo]",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathFieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathFieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+w",ifMode:"math",command:["insert","\\sum_{i=#?}^{#?}"]},{key:"alt+b",command:["insert","\\int_{#?}^{#?}"]},{key:"alt+u",ifMode:"math",command:["insert","\\cup"]},{key:"alt+n",ifMode:"math",command:["insert","\\cap"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"shift+alt+p",ifMode:"math",command:["insert","\\prod_{i=#?}^{#?}"]},{key:"shift+alt+u",ifMode:"math",command:["insert","\\bigcup"]},{key:"shift+alt+n",ifMode:"math",command:["insert","\\bigcap"]},{key:"shift+alt+a",ifMode:"math",command:["insert","\\forall"]},{key:"shift+alt+e",ifMode:"math",command:["insert","\\exists"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["applyStyle",{mode:"text"}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["applyStyle",{mode:"math"}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"shift+ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"shift+cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\wedge"]},{key:"shift+alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\vee"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]}],tc={"\\theta":"alt+q","\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\prod":"shift+alt+p","\\sum":"alt+w","\\int":"alt+b","\\cup":"alt+u","\\cap":"alt+n","\\bigcup":"shift+alt+u","\\bigcap":"shift+alt+n","\\forall":"shift+alt+a","\\exists":"shift+alt+e","\\infty":"alt+[Digit5]","\\wedge":"alt+[Digit5]","\\vee":"shift+alt+[Digit6]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function Kl(t){const e=t.split("+"),i={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(i.shift=!0),e.includes("alt")&&(i.alt=!0),e.includes("ctrl")&&(i.ctrl=!0),e.includes("cmd")&&(i.cmd=!0),e.includes("win")&&(i.win=!0),e.includes("meta")&&(i.meta=!0),i}function Er(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}const Vl=go()==="apple"?{id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","\xE5","\xC5"],KeyB:["b","B","\u222B","\u0131"],KeyC:["c","C","\xE7","\xC7"],KeyD:["d","D","\u2202","\xCE"],KeyE:["e","E","\xB4","\xB4"],KeyF:["f","F","\u0192","\xCF"],KeyG:["g","G","\xA9","\u02DD"],KeyH:["h","H","\u02D9","\xD3"],KeyI:["i","I","\u02C6","\u02C6"],KeyJ:["j","J","\u2206","\xD4"],KeyK:["k","K","\u02DA","\uF8FF"],KeyL:["l","L","\xAC","\xD2"],KeyM:["m","M","\xB5","\xC2"],KeyN:["n","N","\u02DC","\u02DC"],KeyO:["o","O","\xF8","\xD8"],KeyP:["p","P","\u03C0","\u220F"],KeyQ:["q","Q","\u0153","\u0152"],KeyR:["r","R","\xAE","\u2030"],KeyS:["s","S","\xDF","\xCD"],KeyT:["t","T","\u2020","\u02C7"],KeyU:["u","U","\xA8","\xA8"],KeyV:["v","V","\u221A","\u25CA"],KeyW:["w","W","\u2211","\u201E"],KeyX:["x","X","\u2248","\u02DB"],KeyY:["y","Y","\xA5","\xC1"],KeyZ:["z","Z","\u03A9","\xB8"],Digit1:["1","!","\xA1","\u2044"],Digit2:["2","@","\u2122","\u20AC"],Digit3:["3","#","\xA3","\u2039"],Digit4:["4","$","\xA2","\u203A"],Digit5:["5","%","\u221E","\uFB01"],Digit6:["6","^","\xA7","\uFB02"],Digit7:["7","&","\xB6","\u2021"],Digit8:["8","*","\u2022","\xB0"],Digit9:["9","(","\xAA","\xB7"],Digit0:["0",")","\xBA","\u201A"],Space:[" "," "," "," "],Minus:["-","_","\u2013","\u2014"],Equal:["=","+","\u2260","\xB1"],BracketLeft:["[","{","\u201C","\u201D"],BracketRight:["]","}","\u2018","\u2019"],Backslash:["\\","|","\xAB","\xBB"],Semicolon:[";",":","\u2026","\xDA"],Quote:["'",'"',"\xE6","\xC6"],Backquote:["`","\u02DC","`","`"],Comma:[",","<","\u2264","\xAF"],Period:[".",">","\u2265","\u02D8"],Slash:["/","?","\xF7","\xBF"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["\xA7","\xB1","\xA7","\xB1"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}}:go()==="windows"?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","\xE1","\xC1"],KeyB:["b","B","",""],KeyC:["c","C","\xA9","\xA2"],KeyD:["d","D","\xF0","\xD0"],KeyE:["e","E","\xE9","\xC9"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","\xED","\xCD"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","\xF8","\xD8"],KeyM:["m","M","\xB5",""],KeyN:["n","N","\xF1","\xD1"],KeyO:["o","O","\xF3","\xD3"],KeyP:["p","P","\xF6","\xD6"],KeyQ:["q","Q","\xE4","\xC4"],KeyR:["r","R","\xAE",""],KeyS:["s","S","\xDF","\xA7"],KeyT:["t","T","\xFE","\xDE"],KeyU:["u","U","\xFA","\xDA"],KeyV:["v","V","",""],KeyW:["w","W","\xE5","\xC5"],KeyX:["x","X","",""],KeyY:["y","Y","\xFC","\xDC"],KeyZ:["z","Z","\xE6","\xC6"],Digit1:["1","!","\xA1","\xB9"],Digit2:["2","@","\xB2",""],Digit3:["3","#","\xB3",""],Digit4:["4","$","\xA4","\xA3"],Digit5:["5","%","\u20AC",""],Digit6:["6","^","\xBC",""],Digit7:["7","&","\xBD",""],Digit8:["8","*","\xBE",""],Digit9:["9","(","\u2018",""],Digit0:["0",")","\u2019",""],Space:[" "," ","",""],Minus:["-","_","\xA5",""],Equal:["=","+","\xD7","\xF7"],BracketLeft:["[","{","\xAB",""],BracketRight:["]","}","\xBB",""],Backslash:["\\","|","\xAC","\xA6"],Semicolon:[";",":","\xB6","\xB0"],Quote:["'",'"',"\xB4","\xA8"],Backquote:["`","~","",""],Comma:[",","<","\xE7","\xC7"],Period:[".",">","",""],Slash:["/","?","\xBF",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","\xA6"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},ic={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},Rr=[];function go(){switch(gn()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function Bt(t){t.platform&&t.platform!==go()||Rr.push(t)}function er(){return Rr[0]}function _s(t){let e=t;return Ze(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function Uo(t){var e;const i=/macos|ios|/.test(gn()),n=t.split("+");let r="";for(const a of n)!i&&r&&(r+='<span class="ML__shortcut-join">+</span>'),a.startsWith("[Key")?r+=a.slice(4,5):a.startsWith("Key")?r+=a.slice(3,4):a.startsWith("[Digit")?r+=a.slice(6,7):a.startsWith("Digit")?r+=a.slice(5,6):r+=(e={cmd:"\u2318",meta:i?"\u2318":"command",shift:i?"\u21E7":"shift",alt:i?"\u2325":"alt",ctrl:i?"\u2303":"control","\n":i?"\u23CE":"return","[return]":i?"\u23CE":"return","[enter]":i?"\u2324":"enter","[tab]":i?"\u21E5":"tab","[escape]":"esc","[backspace]":i?"\u232B":"backspace","[delete]":i?"\u2326":"del","[pageup]":i?"\u21DE":"page up","[pagedown]":i?"\u21DF":"page down","[home]":i?"\u2912":"home","[end]":i?"\u2913":"end","[space]":"space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"\u21E0",up:"\u21E1",right:"\u21E2",down:"\u21E3","[arrowleft]":"\u21E0","[arrowup]":"\u21E1","[arrowright]":"\u21E2","[arrowdown]":"\u21E3","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"}[a.toLowerCase()])!==null&&e!==void 0?e:a.toUpperCase();return r}function nc(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;const i=Kl(t.key);let n=t.ifPlatform;if(i.cmd){if(n&&n!=="macos"&&n!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+n+`"
"cmd" modifier can only be used with macOS or iOS platform.`);n||(n=gn()==="ios"?"ios":"macos"),i.win=!1,i.cmd=!1,i.meta=!0}if(i.win){if(n&&n!=="windows")throw new Error('Unexpected "win" modifier with platform "'+n+`"
"win" modifier can only be used with Windows platform.`);n="windows",i.win=!1,i.cmd=!1,i.meta=!0}if(n&&!function(a){if(me()){const o=gn(),l=a.startsWith("!"),s=a.endsWith(o);if(l&&!s||!l&&s)return!0}return a!=="!other"&&a==="other"}(n))return;if(/^\[.+\]$/.test(i.key))return{...t,ifPlatform:n,key:Er(i)};const r=function(a,o){var l;const s={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!a)return s;for(const[u,c]of Object.entries(o.mapping)){if(c[0]===a)return s.key=`[${u}]`,s;if(c[1]===a)return s.shift=!0,s.key=`[${u}]`,s;if(c[2]===a)return s.alt=!0,s.key=`[${u}]`,s;if(c[3]===a)return s.shift=!0,s.alt=!0,s.key=`[${u}]`,s}return s.key=(l=ic[a])!==null&&l!==void 0?l:"",s}(i.key,e);if(!r)throw new Error('Invalid keybinding key "'+t.key+'"');if(r.shift&&i.shift||r.alt&&i.alt)throw new Error(`The keybinding ${t.key} (${bo(t.command)}) is conflicting with the key combination ${Er(r)} using the ${e.displayName} keyboard layout`);return r.shift=r.shift||i.shift,r.alt=r.alt||i.alt,r.meta=i.meta,r.ctrl=i.ctrl,{...t,ifPlatform:n,key:Er(r)}}function bo(t){if(Array.isArray(t)){const e=[...t];return e.shift()+"("+e.map(i=>typeof i=="string"?`"${i}"`:i.toString()).join(", ")+")"}return t}Bt(Vl),Bt({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","\u2021","\u03A9"],KeyB:["b","B","\xDF","\u222B"],KeyC:["c","C","\xA9","\xA2"],KeyD:["d","D","\u2202","\u2206"],KeyE:["e","E","\xEA","\xCA"],KeyF:["f","F","\u0192","\xB7"],KeyG:["g","G","\uFB01","\uFB02"],KeyH:["h","H","\xCC","\xCE"],KeyI:["i","I","\xEE","\xEF"],KeyJ:["j","J","\xCF","\xCD"],KeyK:["k","K","\xC8","\xCB"],KeyL:["l","L","\xAC","|"],KeyM:[",","?","\u221E","\xBF"],KeyN:["n","N","~","\u0131"],KeyO:["o","O","\u0153","\u0152"],KeyP:["p","P","\u03C0","\u220F"],KeyQ:["a","A","\xE6","\xC6"],KeyR:["r","R","\xAE","\u201A"],KeyS:["s","S","\xD2","\u2211"],KeyT:["t","T","\u2020","\u2122"],KeyU:["u","U","\xBA","\xAA"],KeyV:["v","V","\u25CA","\u221A"],KeyW:["z","Z","\xC2","\xC5"],KeyX:["x","X","\u2248","\u2044"],KeyY:["y","Y","\xDA","\u0178"],KeyZ:["w","W","\u2039","\u203A"],Digit1:["&","1","\uF8FF","\xB4"],Digit2:["\xE9","2","\xEB","\u201E"],Digit3:['"',"3","\u201C","\u201D"],Digit4:["'","4","\u2018","\u2019"],Digit5:["(","5","{","["],Digit6:["\xA7","6","\xB6","\xE5"],Digit7:["\xE8","7","\xAB","\xBB"],Digit8:["!","8","\xA1","\xDB"],Digit9:["\xE7","9","\xC7","\xC1"],Digit0:["\xE0","0","\xF8","\xD8"],Space:[" "," "," "," "],Minus:[")","\xB0","}","]"],Equal:["-","_","\u2014","\u2013"],BracketLeft:["^","\xA8","\xF4","\xD4"],BracketRight:["$","*","\u20AC","\xA5"],Backslash:["`","\xA3","@","#"],Semicolon:["m","M","\xB5","\xD3"],Quote:["\xF9","%","\xD9","\u2030"],Backquote:["<",">","\u2264","\u2265"],Comma:[";",".","\u2026","\u2022"],Period:[":","/","\xF7","\\"],Slash:["=","+","\u2260","\xB1"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","\u2022","\u0178"],NumpadEqual:["=","=","=","="]}}),Bt({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","\xE5","\xC5"],KeyB:["b","B","\xDF",""],KeyC:["c","C","\xA9"," "],KeyD:["d","D","\u2202","\u2206"],KeyE:["e","E","\u20AC","\u20AC"],KeyF:["f","F","\u0192","\uFB01"],KeyG:["g","G","\uF8FF","\uFB02"],KeyH:["h","H","\u2122"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","\xB6","\xAF"],KeyK:["k","K","\xA7","\u02C7"],KeyL:["l","L"," ","\u02D8"],KeyM:["m","M","\xB5","\u02DA"],KeyN:["n","N"," ","\u02D9"],KeyO:["o","O","\xF8","\xD8"],KeyP:["p","P","\u03C0","\u220F"],KeyQ:["q","Q","\u0153","\u0152"],KeyR:["r","R","\xAE"," "],KeyS:["s","S","\u222B"," "],KeyT:["t","T","\u2020","\u2021"],KeyU:["u","U"," "," "],KeyV:["v","V","\u221A","\u25CA"],KeyW:["w","W","\xE6","\xC6"],KeyX:["x","X","\u2211","\u203A"],KeyY:["y","Y","\xA5"," "],KeyZ:["z","Z","\u03A9","\u2039"],Digit1:["1","!","|","\u0131"],Digit2:["2",'"',"@","\u02DD"],Digit3:["3","\xB7","#","\u2022"],Digit4:["4","$","\xA2","\xA3"],Digit5:["5","%","\u221E","\u2030"],Digit6:["6","&","\xAC"," "],Digit7:["7","/","\xF7","\u2044"],Digit8:["8","(","\u201C","\u2018"],Digit9:["9",")","\u201D","\u2019"],Digit0:["0","=","\u2260","\u2248"],Space:[" "," "," "," "],Minus:["'","?","\xB4","\xB8"],Equal:["\xA1","\xBF","\u201A","\u02DB"],BracketLeft:["`","^","[","\u02C6"],BracketRight:["+","*","]","\xB1"],Backslash:["\xE7","\xC7","}","\xBB"],Semicolon:["\xF1","\xD1","~","\u02DC"],Quote:["\xB4","\xA8","{","\xAB"],Backquote:["<",">","\u2264","\u2265"],Comma:[",",";","\u201E",""],Period:[".",":","\u2026","\u2026"],Slash:["-","_","\u2013","\u2014"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["\xBA","\xAA","\\","\xB0"]}}),Bt({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","\u20AC",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","\xB7","#",""],Digit4:["4","$","~",""],Digit5:["5","%","\u20AC",""],Digit6:["6","&","\xAC",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["\xA1","\xBF","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["\xE7","\xC7","}",""],Semicolon:["\xF1","\xD1","",""],Quote:["\xB4","\xA8","{",""],Backquote:["\xBA","\xAA","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),Bt({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","\xE6","\xC6"],KeyB:["b","B","\u201D","\u2019"],KeyC:["c","C","\xA2","\xA9"],KeyD:["d","D","\xF0","\xD0"],KeyE:["e","E","\u20AC","\xA2"],KeyF:["f","F","\u0111","\xAA"],KeyG:["g","G","\u014B","\u014A"],KeyH:["h","H","\u0127","\u0126"],KeyI:["i","I","\u2192","\u0131"],KeyJ:["j","J","\u0309","\u031B"],KeyK:["k","K","\u0138","&"],KeyL:["l","L","\u0142","\u0141"],KeyM:["m","M","\xB5","\xBA"],KeyN:["n","N","n","N"],KeyO:["o","O","\xF8","\xD8"],KeyP:["p","P","\xFE","\xDE"],KeyQ:["q","Q","@","\u03A9"],KeyR:["r","R","\xB6","\xAE"],KeyS:["s","S","\xDF","\xA7"],KeyT:["t","T","\u0167","\u0166"],KeyU:["u","U","\u2193","\u2191"],KeyV:["v","V","\u201C","\u2018"],KeyW:["w","W","\u0142","\u0141"],KeyX:["x","X","\xBB",">"],KeyY:["y","Y","\u2190","\xA5"],KeyZ:["z","Z","\xAB","<"],Digit1:["1","!","|","\xA1"],Digit2:["2",'"',"@","\u215B"],Digit3:["3","\xB7","#","\xA3"],Digit4:["4","$","~","$"],Digit5:["5","%","\xBD","\u215C"],Digit6:["6","&","\xAC","\u215D"],Digit7:["7","/","{","\u215E"],Digit8:["8","(","[","\u2122"],Digit9:["9",")","]","\xB1"],Digit0:["0","=","}","\xB0"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\","\xBF"],Equal:["\xA1","\xBF","\u0303","~"],BracketLeft:["\u0300","\u0302","[","\u030A"],BracketRight:["+","*","]","\u0304"],Backslash:["\xE7","\xC7","}","\u0306"],Semicolon:["\xF1","\xD1","~","\u030B"],Quote:["\u0301","\u0308","{","{"],Backquote:["\xBA","\xAA","\\","\\"],Comma:[",",";","\u2500","\xD7"],Period:[".",":","\xB7","\xF7"],Slash:["-","_","\u0323","\u0307"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","\xA6"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}}),Bt({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","\u03A9"],KeyB:["b","B","\u201D","\u2019"],KeyC:["c","C","\xA2","\xA9"],KeyD:["d","D","\xF0","\xD0"],KeyE:["e","E","\u20AC","\xA2"],KeyF:["f","F","\u0111","\xAA"],KeyG:["g","G","\u014B","\u014A"],KeyH:["h","H","\u0127","\u0126"],KeyI:["i","I","\u2192","\u0131"],KeyJ:["j","J","\u0309","\u031B"],KeyK:["k","K","\u0138","&"],KeyL:["l","L","\u0142","\u0141"],KeyM:[",","?","\u0301","\u030B"],KeyN:["n","N","n","N"],KeyO:["o","O","\xF8","\xD8"],KeyP:["p","P","\xFE","\xDE"],KeyQ:["a","A","\xE6","\xC6"],KeyR:["r","R","\xB6","\xAE"],KeyS:["s","S","\xDF","\xA7"],KeyT:["t","T","\u0167","\u0166"],KeyU:["u","U","\u2193","\u2191"],KeyV:["v","V","\u201C","\u2018"],KeyW:["z","Z","\xAB","<"],KeyX:["x","X","\xBB",">"],KeyY:["y","Y","\u2190","\xA5"],KeyZ:["w","W","\u0142","\u0141"],Digit1:["&","1","\xB9","\xA1"],Digit2:["\xE9","2","~","\u215B"],Digit3:['"',"3","#","\xA3"],Digit4:["'","4","{","$"],Digit5:["(","5","[","\u215C"],Digit6:["-","6","|","\u215D"],Digit7:["\xE8","7","`","\u215E"],Digit8:["_","8","\\","\u2122"],Digit9:["\xE7","9","^","\xB1"],Digit0:["\xE0","0","@","\xB0"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","\xB0","]","\xBF"],Equal:["=","+","}","\u0328"],BracketLeft:["\u0302","\u0308","\u0308","\u030A"],BracketRight:["$","\xA3","\xA4","\u0304"],Backslash:["*","\xB5","\u0300","\u0306"],Semicolon:["m","M","\xB5","\xBA"],Quote:["\xF9","%","\u0302","\u030C"],Backquote:["\xB2","~","\xAC","\xAC"],Comma:[";",".","\u2500","\xD7"],Period:[":","/","\xB7","\xF7"],Slash:["!","\xA7","\u0323","\u0307"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","\xA6"]}}),Bt({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","\u20AC",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["\xE9","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["\xE8","7","`",""],Digit8:["_","8","\\",""],Digit9:["\xE7","9","^",""],Digit0:["\xE0","0","@",""],Space:[" "," ","",""],Minus:[")","\xB0","]",""],Equal:["=","+","}",""],BracketLeft:["^","\xA8","",""],BracketRight:["$","\xA3","\xA4",""],Backslash:["*","\xB5","",""],Semicolon:["m","M","",""],Quote:["\xF9","%","",""],Backquote:["\xB2","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","\xA7","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),Bt({id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","\u20AC",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","\xB5",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"\xB2",""],Digit3:["3","\xA7","\xB3",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["\xDF","?","\\","\u1E9E"],Equal:["\xB4","`","",""],BracketLeft:["\xFC","\xDC","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["\xF6","\xD6","",""],Quote:["\xE4","\xC4","",""],Backquote:["^","\xB0","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}}),Bt({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","\xE5","\xC5"],KeyB:["b","B","\u222B","\u2039"],KeyC:["c","C","\xE7","\xC7"],KeyD:["d","D","\u2202","\u2122"],KeyE:["e","E","\u20AC","\u2030"],KeyF:["f","F","\u0192","\xCF"],KeyG:["g","G","\xA9","\xCC"],KeyH:["h","H","\xAA","\xD3"],KeyI:["i","I","\u2044","\xDB"],KeyJ:["j","J","\xBA","\u0131"],KeyK:["k","K","\u2206","\u02C6"],KeyL:["l","L","@","\uFB02"],KeyM:["m","M","\xB5","\u02D8"],KeyN:["n","N","~","\u203A"],KeyO:["o","O","\xF8","\xD8"],KeyP:["p","P","\u03C0","\u220F"],KeyQ:["q","Q","\xAB","\xBB"],KeyR:["r","R","\xAE","\xB8"],KeyS:["s","S","\u201A","\xCD"],KeyT:["t","T","\u2020","\u02DD"],KeyU:["u","U","\xA8","\xC1"],KeyV:["v","V","\u221A","\u25CA"],KeyW:["w","W","\u2211","\u201E"],KeyX:["x","X","\u2248","\xD9"],KeyY:["z","Z","\u03A9","\u02C7"],KeyZ:["y","Y","\xA5","\u2021"],Digit1:["1","!","\xA1","\xAC"],Digit2:["2",'"',"\u201C","\u201D"],Digit3:["3","\xA7","\xB6","#"],Digit4:["4","$","\xA2","\xA3"],Digit5:["5","%","[","\uFB01"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","\u02DC"],Digit9:["9",")","}","\xB7"],Digit0:["0","=","\u2260","\xAF"],Space:[" "," "," "," "],Minus:["\xDF","?","\xBF","\u02D9"],Equal:["\xB4","`","'","\u02DA"],BracketLeft:["\xFC","\xDC","\u2022","\xB0"],BracketRight:["+","*","\xB1","\uF8FF"],Backslash:["#","'","\u2018","\u2019"],Semicolon:["\xF6","\xD6","\u0153","\u0152"],Quote:["\xE4","\xC4","\xE6","\xC6"],Backquote:["<",">","\u2264","\u2265"],Comma:[",",";","\u221E","\u02DB"],Period:[".",":","\u2026","\xF7"],Slash:["-","_","\u2013","\u2014"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","\xB0","\u201E","\u201C"],NumpadEqual:["=","=","=","="]}}),Bt({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","\xE5","\xC5"],KeyB:["x","X","\u2248","\u02DB"],KeyC:["j","J","\u2206","\xD4"],KeyD:["e","E","\xB4","\xB4"],KeyE:[".",">","\u2265","\u02D8"],KeyF:["u","U","\xA8","\xA8"],KeyG:["i","I","\u02C6","\u02C6"],KeyH:["d","D","\u2202","\xCE"],KeyI:["c","C","\xE7","\xC7"],KeyJ:["h","H","\u02D9","\xD3"],KeyK:["t","T","\u2020","\u02C7"],KeyL:["n","N","\u02DC","\u02DC"],KeyM:["m","M","\xB5","\xC2"],KeyN:["b","B","\u222B","\u0131"],KeyO:["r","R","\xAE","\u2030"],KeyP:["l","L","\xAC","\xD2"],KeyQ:["'",'"',"\xE6","\xC6"],KeyR:["p","P","\u03C0","\u220F"],KeyS:["o","O","\xF8","\xD8"],KeyT:["y","Y","\xA5","\xC1"],KeyU:["g","G","\xA9","\u02DD"],KeyV:["k","K","\u02DA","\uF8FF"],KeyW:[",","<","\u2264","\xAF"],KeyX:["q","Q","\u0153","\u0152"],KeyY:["f","F","\u0192","\xCF"],KeyZ:[";",":","\u2026","\xDA"],Digit1:["1","!","\xA1","\u2044"],Digit2:["2","@","\u2122","\u20AC"],Digit3:["3","#","\xA3","\u2039"],Digit4:["4","$","\xA2","\u203A"],Digit5:["5","%","\u221E","\uFB01"],Digit6:["6","^","\xA7","\uFB02"],Digit7:["7","&","\xB6","\u2021"],Digit8:["8","*","\u2022","\xB0"],Digit9:["9","(","\xAA","\xB7"],Digit0:["0",")","\xBA","\u201A"],Space:[" "," "," "," "],Minus:["[","{","\u201C","\u201D"],Equal:["]","}","\u2018","\u2019"],BracketLeft:["/","?","\xF7","\xBF"],BracketRight:["=","+","\u2260","\xB1"],Backslash:["\\","|","\xAB","\xBB"],Semicolon:["s","S","\xDF","\xCD"],Quote:["-","_","\u2013","\u2014"],Backquote:["`","~","`","`"],Comma:["w","W","\u2211","\u201E"],Period:["v","V","\u221A","\u25CA"],Slash:["z","Z","\u03A9","\xB8"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["\xA7","\xB1","\xA7","\xB1"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}});const An={"\\ne":"\u2260","\\neq":"\u2260","\u2212":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" "},Ia={"\\pm":"+-","\\times":"*","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function Ie(t){var e,i,n,r,a,o,l,s,u,c,d,p,h;if(!t)return"";if(Ze(t)){if(t.length===0||(t[0].type==="first"&&(t=t.slice(1)),t.length===0))return"";let k="";if(t[0].mode==="latex")for(const _ of t)k+=Ie(_);else if(t[0].mode==="text"){let _=0;for(k='"';((e=t[_])===null||e===void 0?void 0:e.mode)==="text";)k+=t[_].body?Ie(t[_].body):t[_].value,_++;k+='"'+Ie(t.slice(_))}else if(t[0].mode==="math"){let _=0;for(;t[_]&&t[_].mode==="math";)k+=Ie(t[_]),_++;k+=Ie(t.slice(_))}return k.trim()}if(t.mode==="text")return'"'+t.value+'"';let f="";const{command:g}=t;let w;switch(t.type){case"first":return"";case"group":case"root":f=(i=An[g])!==null&&i!==void 0?i:Ie(t.body);break;case"genfrac":{const D=t;(D.leftDelim||D.rightDelim)&&(f+=D.leftDelim!=="."&&D.leftDelim?D.leftDelim:"{:"),D.hasBarLine?(f+="(",f+=Ie(D.above),f+=")/(",f+=Ie(D.below),f+=")"):(f+="("+Ie(D.above)+"),",f+="("+Ie(D.below)+")"),(D.leftDelim||D.rightDelim)&&(f+=D.rightDelim!=="."&&D.rightDelim?D.rightDelim:"{:")}break;case"surd":f+=t.hasEmptyBranch("above")?"sqrt("+Ie(t.body)+")":"root("+Ie(t.above)+")("+Ie(t.body)+")";break;case"latex":f=t.value;break;case"leftright":{const D=t;f+=D.leftDelim!=="."&&D.leftDelim?D.leftDelim:"{:",f+=Ie(D.body),f+=D.rightDelim!=="."&&D.rightDelim?D.rightDelim:":}"}break;case"sizeddelim":case"delim":case"overlap":case"overunder":case"box":break;case"mord":f=(r=(n=An[g])!==null&&n!==void 0?n:g)!==null&&r!==void 0?r:typeof t.value=="string"?t.value:"",f.startsWith("\\")&&(f+=" "),w=g?g.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null,w?f=String.fromCodePoint(Number.parseInt("0x"+w[1])):f.length>0&&f.startsWith("\\")&&(f=typeof t.value=="string"?t.value.charAt(0):t.command);break;case"mbin":case"mrel":case"minner":f=(o=(a=An[g])!==null&&a!==void 0?a:Ia[g])!==null&&o!==void 0?o:t.value;break;case"mopen":case"mclose":f+=t.value;break;case"mpunct":f=(l=Ia[g])!==null&&l!==void 0?l:g;break;case"mop":t.value!=="\u200B"&&(f="",f+=g==="\\operatorname"?Ie(t.body):(s=t.value)!==null&&s!==void 0?s:g,f+=" ");break;case"array":const k=t.array,_=t.environmentName,M=(u={bmatrix:["[","]"],"bmatrix*":["[","]"]}[_])!==null&&u!==void 0?u:["(",")"],S=[];for(const D of k){const F=[];for(const R of D)F.push(M[0]+Ie(R)+M[1]);S.push(F.join(","))}const I=(c={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[_])!==null&&c!==void 0?c:["(",")"];f=I[0]+S.join(",")+I[1];break;case"spacing":f=(d=An[g])!==null&&d!==void 0?d:" ";break;case"enclose":f="("+Ie(t.body)+")";break;case"space":f=" ";break;case"msubsup":f="";break;case"macro":f=(h=(p=An[g])!==null&&p!==void 0?p:Ia[g])!==null&&h!==void 0?h:Ie(t.body)}if(!t.hasEmptyBranch("subscript")){f+="_";const k=Ie(t.subscript);f+=k.length>1?"("+k+")":k}if(!t.hasEmptyBranch("superscript")){f+="^";const k=Ie(t.superscript);f+=k.length>1?"("+k+")":k}return f}const ws={"p@":"1pt ","z@":"0pt",maxdimen:"16383.99999pt",hfuzz:"0.1pt",vfuzz:"0.1pt",overfullrule:"5pt",hsize:"6.5in",vsize:"8.9in",parindent:"20pt",maxdepth:"4pt",splitmaxdepth:"\\maxdimen",boxmaxdepth:"\\maxdimen",delimitershortfall:"5pt",nulldelimiterspace:"1.2pt",scriptspace:"0.5pt",topskip:"10pt",splittopskip:"10pt",normalbaselineskip:"12pt",normallineskip:"1pt",normallineskiplimit:"0pt",jot:"3pt",doublerulesep:"2pt",arrayrulewidth:"0.4pt",arraycolsep:"5pt",fboxsep:"3pt",fboxrule:"0.4pt"},Ss={"z@skip":"0pt plust0pt minus0pt",hideskip:"-1000pt plust 1fill","@flushglue":"0pt plust 1fill",parskip:"0pt plus 1pt",abovedisplayskip:"12pt plus 3pt minus 9pt",abovedisplayshortskip:"0pt plus 3pt",belowdisplayskip:"12pt plus 3pt minus 9pt",belowdisplayshortskip:"7pt plus 3pt minus 4pt",parfillskip:"0pt plus 1fil",thinmuskip:"3mu",medmuskip:"4mu plus 2mu minus 4mu",thickmuskip:"5mu plus 5mu",smallskipamount:"3pt plus1pt minus1pt",medskipamount:"6pt plus2pt minus2pt",bigskipamount:"12pt plus4pt minus4pt"},rc={pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:"",month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};let ci;function Rl(t){var e,i;if(ci)return ci;ci={...rc};for(const n of Object.keys(ws))ci[n]=(e=ua(ws[n],t,ci))!==null&&e!==void 0?e:0;for(const n of Object.keys(Ss))ci[n]=(i=Z0(Ss[n],t,ci))!==null&&i!==void 0?i:0;return ci}const we={strings:{en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo","menu.insert matrix":"Insert Matrix","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Delimiters","menu.array.add row above":"Add Row After","menu.array.add row below":"Add Row Before","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","submenu.array.insert separator":"Insert Separator","menu.insert table":"Insert Table","submenu.table style":"Table Style"},ar:{"keyboard.tooltip.functions":"\u0645\u0647\u0627\u0645","keyboard.tooltip.symbols":"\u062D\u0631\u0641 \u0627\u0648 \u0631\u0645\u0632","keyboard.tooltip.greek":"\u062D\u0631\u0648\u0641 \u064A\u0648\u0646\u0627\u0646\u064A\u0629","keyboard.tooltip.command":"\u062D\u0627\u0644\u0629 \u062A\u0644\u0642\u064A \u0627\u0644\u0623\u0648\u0627\u0645\u0631 \u0627\u0644\u0644\u0627\u062A\u0643","keyboard.tooltip.numeric":"\u0627\u0644\u0631\u0642\u0645\u064A\u0629","keyboard.tooltip.roman":"\u0631\u0645\u0648\u0632 \u0627\u0644\u0627\u062D\u0631\u0641 \u0627\u0644\u0631\u0648\u0645\u0627\u0646\u064A\u0629","tooltip.copy to clipboard":"\u0646\u0633\u062E \u0625\u0644\u0649 \u0627\u0644\u062D\u0627\u0641\u0638\u0629","tooltip.redo":"\u0627\u0644\u0625\u0639\u0627\u062F\u0629","tooltip.toggle virtual keyboard":"\u062A\u0628\u062F\u064A\u0644 \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0641\u0627\u062A\u064A\u062D \u0627\u0644\u0625\u0641\u062A\u0631\u0627\u0636\u064A\u0629","tooltip.undo":"\u0625\u0644\u063A\u0627\u0621","menu.insert matrix":"\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0635\u0641\u0648\u0641\u0629","menu.insert vector":"\u0623\u062F\u062E\u0644 \u0645\u062A\u062C\u0647","submenu.array.matrix delimiters":"\u0645\u062D\u062F\u062F\u0627\u062A \u0627\u0644\u0645\u0635\u0641\u0648\u0641\u0629","menu.array.add row above":"\u0623\u0636\u0641 \u0635\u0641\u064B\u0627 \u0628\u0639\u062F \u0630\u0644\u0643","menu.array.add row below":"\u0623\u0636\u0641 \u0627\u0644\u0635\u0641 \u0642\u0628\u0644","menu.array.add column after":"\u0623\u0636\u0641 \u0627\u0644\u0639\u0645\u0648\u062F \u0628\u0639\u062F \u0630\u0644\u0643","menu.array.add column before":"\u0623\u0636\u0641 \u0627\u0644\u0639\u0645\u0648\u062F \u0642\u0628\u0644","menu.array.delete row":"\u0627\u062D\u0630\u0641 \u0635\u0641","menu.array.delete rows":"\u062D\u0630\u0641 \u0627\u0644\u0635\u0641\u0648\u0641 \u0627\u0644\u0645\u062D\u062F\u062F\u0629","menu.array.delete column":"\u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u0648\u062F","menu.array.delete columns":"\u062D\u0630\u0641 \u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u0627\u0644\u0645\u062D\u062F\u062F\u0629","submenu.array.insert separator":"\u0623\u062F\u062E\u0644 \u0641\u0627\u0635\u0644","menu.insert table":"\u0625\u062F\u0631\u0627\u062C \u062C\u062F\u0648\u0644","submenu.table style":"\u0646\u0645\u0637 \u0627\u0644\u062C\u062F\u0648\u0644"},bg:{"keyboard.tooltip.functions":"\u0424\u0443\u043D\u043A\u0446\u0438\u0438","keyboard.tooltip.symbols":"\u0421\u0438\u043C\u0432\u043E\u043B\u0438","keyboard.tooltip.greek":"\u0413\u0440\u044A\u0446\u043A\u0438 \u0431\u0443\u043A\u0432\u0438","keyboard.tooltip.command":"\u041A\u043E\u043C\u0430\u043D\u0434\u0435\u043D \u0440\u0435\u0436\u0438\u043C \u043D\u0430 \u043B\u0430\u0442\u0435\u043A\u0441","keyboard.tooltip.numeric":"\u0427\u0438\u0441\u043B\u043E\u0432\u0438","keyboard.tooltip.roman":"\u0420\u0438\u043C\u0441\u043A\u0438 \u0431\u0443\u043A\u0432\u0438","tooltip.copy to clipboard":"\u041A\u043E\u043F\u0438\u0440\u0430\u043D\u0435 \u0432 \u043A\u043B\u0438\u043F\u0431\u043E\u0440\u0434\u0430","tooltip.redo":"\u041F\u043E\u0432\u0442\u043E\u0440\u043D\u043E","tooltip.toggle virtual keyboard":"\u041F\u0440\u0435\u0432\u043A\u043B\u044E\u0447\u0432\u0430\u043D\u0435 \u043D\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043B\u043D\u0430 \u043A\u043B\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430","tooltip.undo":"\u041E\u0442\u043C\u044F\u043D\u0430","menu.insert matrix":"\u0412\u043C\u044A\u043A\u0432\u0430\u043D\u0435 \u043D\u0430 \u043C\u0430\u0442\u0440\u0438\u0446\u0430","menu.insert vector":"\u0412\u043C\u044A\u043A\u0432\u0430\u043D\u0435 \u043D\u0430 \u0432\u0435\u043A\u0442\u043E\u0440","submenu.array.matrix delimiters":"\u041C\u0430\u0442\u0440\u0438\u0447\u043D\u0438 \u0440\u0430\u0437\u0434\u0435\u043B\u0438\u0442\u0435\u043B\u0438","menu.array.add row above":"\u0414\u043E\u0431\u0430\u0432\u044F\u043D\u0435 \u043D\u0430 \u0440\u0435\u0434 \u0441\u043B\u0435\u0434","menu.array.add row below":"\u0414\u043E\u0431\u0430\u0432\u044F\u043D\u0435 \u043D\u0430 \u0440\u0435\u0434 \u043F\u0440\u0435\u0434\u0438","menu.array.add column after":"\u0414\u043E\u0431\u0430\u0432\u044F\u043D\u0435 \u043D\u0430 \u043A\u043E\u043B\u043E\u043D\u0430 \u0441\u043B\u0435\u0434","menu.array.add column before":"\u0414\u043E\u0431\u0430\u0432\u044F\u043D\u0435 \u043D\u0430 \u043A\u043E\u043B\u043E\u043D\u0430 \u043F\u0440\u0435\u0434\u0438","menu.array.delete row":"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043D\u0435 \u043D\u0430 \u0440\u0435\u0434\u0430","menu.array.delete rows":"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043D\u0435 \u043D\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u0442\u0435 \u0440\u0435\u0434\u043E\u0432\u0435","menu.array.delete column":"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043D\u0435 \u043D\u0430 \u043A\u043E\u043B\u043E\u043D\u0430","menu.array.delete columns":"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043D\u0435 \u043D\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u0442\u0435 \u043A\u043E\u043B\u043E\u043D\u0438","submenu.array.insert separator":"\u041F\u043E\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043B\u0438\u0442\u0435\u043B","menu.insert table":"\u0412\u043C\u044A\u043A\u0432\u0430\u043D\u0435 \u043D\u0430 \u0442\u0430\u0431\u043B\u0438\u0446\u0430","submenu.table style":"\u0422\u0430\u0431\u043B\u0438\u0447\u0435\u043D \u0441\u0442\u0438\u043B"},bs:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Gr\u010Dka slova","keyboard.tooltip.command":"LaTeX naredbeni na\u010Din","keyboard.tooltip.numeric":"Numeri\u010Dki","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u clipboard","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Uklju\u010Di / isklju\u010Di virtualnu tipkovnicu","tooltip.undo":"Poni\u0161ti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matri\u010Dni razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj red prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbri\u0161i red","menu.array.delete rows":"Izbri\u0161i odabrane redove","menu.array.delete column":"Izbri\u0161i stupac","menu.array.delete columns":"Izbri\u0161i odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Ubaci tabelu","submenu.table style":"Stil tabele"},cs:{"keyboard.tooltip.functions":"Funkce","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"\u0158eck\xE9 dopisy","keyboard.tooltip.command":"P\u0159\xEDkazov\xFD re\u017Eim LaTeX","keyboard.tooltip.numeric":"\u010C\xEDseln\xE9","keyboard.tooltip.roman":"\u0158\xEDmsk\xE9 dopisy","tooltip.copy to clipboard":"Zkop\xEDrovat do schr\xE1nky","tooltip.redo":"P\u0159ed\u011Blat","tooltip.toggle virtual keyboard":"P\u0159epnout virtu\xE1ln\xED kl\xE1vesnici","tooltip.undo":"Vr\xE1tit","menu.insert matrix":"Vlo\u017Ete matici","menu.insert vector":"Vlo\u017Eit vektor","submenu.array.matrix delimiters":"Odd\u011Blova\u010De matic","menu.array.add row above":"P\u0159idat \u0159\xE1dek za","menu.array.add row below":"P\u0159idat \u0159\xE1dek p\u0159ed","menu.array.add column after":"P\u0159idat sloupec za","menu.array.add column before":"P\u0159idat sloupec d\u0159\xEDve","menu.array.delete row":"Odstranit \u0159\xE1dek","menu.array.delete rows":"Odstranit vybran\xE9 \u0159\xE1dky","menu.array.delete column":"Odstranit sloupec","menu.array.delete columns":"Odstranit vybran\xE9 sloupce","submenu.array.insert separator":"Vlo\u017Ete odd\u011Blova\u010D","menu.insert table":"Vlo\u017Eit tabulku","submenu.table style":"Styl tabulky"},da:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Gr\xE6ske bogstaver","keyboard.tooltip.command":"LaTeX kommandotilstand","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske breve","tooltip.copy to clipboard":"Kopier til udklipsholder","tooltip.redo":"Gentag igen","tooltip.toggle virtual keyboard":"Skift virtuelt tastatur","tooltip.undo":"Fortryd","menu.insert matrix":"Inds\xE6t matrix","menu.insert vector":"Inds\xE6t vektor","submenu.array.matrix delimiters":"Matrixafgr\xE6nsere","menu.array.add row above":"Tilf\xF8j r\xE6kke efter","menu.array.add row below":"Tilf\xF8j r\xE6kke f\xF8r","menu.array.add column after":"Tilf\xF8j kolonne efter","menu.array.add column before":"Tilf\xF8j kolonne f\xF8r","menu.array.delete row":"Slet r\xE6kke","menu.array.delete rows":"Slet valgte r\xE6kker","menu.array.delete column":"Slet kolonne","menu.array.delete columns":"Slet valgte kolonner","submenu.array.insert separator":"Inds\xE6t separator","menu.insert table":"Inds\xE6t tabel","submenu.table style":"Tabelstil"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"R\xF6mische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einf\xFCgen","menu.insert vector":"Vektor einf\xFCgen","submenu.array.matrix delimiters":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzuf\xFCgen nach","menu.array.add row below":"Zeile hinzuf\xFCgen vor","menu.array.add column after":"Spalte hinzuf\xFCgen nach","menu.array.add column before":"Spalte hinzuf\xFCgen vor","menu.array.delete row":"Zeile l\xF6schen","menu.array.delete rows":"Ausgew\xE4hlte Zeilen l\xF6schen","menu.array.delete column":"Spalte l\xF6schen","menu.array.delete columns":"Ausgew\xE4hlte Spalten l\xF6schen","submenu.array.insert separator":"Trennzeichen einf\xFCgen","menu.insert table":"Tabelle einf\xFCgen","submenu.table style":"Tabellenstil"},el:{"keyboard.tooltip.functions":"\u03C3\u03C5\u03BD\u03B1\u03C1\u03C4\u03AE\u03C3\u03B5\u03B9\u03C2","keyboard.tooltip.symbols":"\u03C3\u03CD\u03BC\u03B2\u03BF\u03BB\u03B1","keyboard.tooltip.greek":"\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC \u03B3\u03C1\u03AC\u03BC\u03BC\u03B1\u03C4\u03B1","keyboard.tooltip.command":"\u039B\u03B5\u03B9\u03C4\u03BF\u03C5\u03C1\u03B3\u03AF\u03B1 \u03B5\u03BD\u03C4\u03BF\u03BB\u03CE\u03BD LaTeX","keyboard.tooltip.numeric":"\u0391\u03C1\u03B9\u03B8\u03BC\u03B7\u03C4\u03B9\u03BA\u03CC\u03C2","keyboard.tooltip.roman":"\u03A1\u03C9\u03BC\u03B1\u03CA\u03BA\u03AC \u03B3\u03C1\u03AC\u03BC\u03BC\u03B1\u03C4\u03B1","tooltip.copy to clipboard":"\u0391\u03BD\u03C4\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE \u03C3\u03C4\u03BF \u03C0\u03C1\u03CC\u03C7\u03B5\u03B9\u03C1\u03BF","tooltip.redo":"\u039E\u03B1\u03BD\u03B1\u03BA\u03AC\u03BD\u03C9","tooltip.toggle virtual keyboard":"\u0395\u03BD\u03B1\u03BB\u03BB\u03B1\u03B3\u03AE \u03B5\u03B9\u03BA\u03BF\u03BD\u03B9\u03BA\u03BF\u03CD \u03C0\u03BB\u03B7\u03BA\u03C4\u03C1\u03BF\u03BB\u03BF\u03B3\u03AF\u03BF\u03C5","tooltip.undo":"\u039E\u03B5\u03BA\u03AC\u03BD\u03C9","menu.insert matrix":"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE Matrix","menu.insert vector":"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B4\u03B9\u03B1\u03BD\u03CD\u03C3\u03BC\u03B1\u03C4\u03BF\u03C2","submenu.array.matrix delimiters":"\u039F\u03C1\u03B9\u03BF\u03B8\u03AD\u03C4\u03B5\u03C2 Matrix","menu.array.add row above":"\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03C3\u03B5\u03B9\u03C1\u03AC\u03C2 \u03BC\u03B5\u03C4\u03AC","menu.array.add row below":"\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03C3\u03B5\u03B9\u03C1\u03AC\u03C2 \u03C0\u03C1\u03B9\u03BD","menu.array.add column after":"\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03C3\u03C4\u03AE\u03BB\u03B7\u03C2 \u03BC\u03B5\u03C4\u03AC","menu.array.add column before":"\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03C3\u03C4\u03AE\u03BB\u03B7\u03C2 \u03C0\u03C1\u03B9\u03BD","menu.array.delete row":"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE \u03C3\u03B5\u03B9\u03C1\u03AC\u03C2","menu.array.delete rows":"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE \u03B5\u03C0\u03B9\u03BB\u03B5\u03B3\u03BC\u03AD\u03BD\u03C9\u03BD \u03C3\u03B5\u03B9\u03C1\u03CE\u03BD","menu.array.delete column":"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE \u03C3\u03C4\u03AE\u03BB\u03B7\u03C2","menu.array.delete columns":"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE \u03B5\u03C0\u03B9\u03BB\u03B5\u03B3\u03BC\u03AD\u03BD\u03C9\u03BD \u03C3\u03C4\u03B7\u03BB\u03CE\u03BD","submenu.array.insert separator":"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B4\u03B9\u03B1\u03C7\u03C9\u03C1\u03B9\u03C3\u03C4\u03B9\u03BA\u03BF\u03CD","menu.insert table":"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03C0\u03AF\u03BD\u03B1\u03BA\u03B1","submenu.table style":"\u03A3\u03C4\u03C5\u03BB \u03C0\u03AF\u03BD\u03B1\u03BA\u03B1"},es:{"keyboard.tooltip.functions":"Funciones","keyboard.tooltip.symbols":"S\xEDmbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Num\xE9rico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"A\xF1adir Matriz","menu.insert vector":"A\xF1adir vector","submenu.array.matrix delimiters":"Delimitadores de Matriz","menu.array.add row above":"A\xF1adir L\xEDnea Antes","menu.array.add row below":"A\xF1adir L\xEDnea Despues","menu.array.add column after":"A\xF1adir Columna Despues","menu.array.add column before":"A\xF1adir Columna Antes","menu.array.delete row":"Borrar L\xEDnea","menu.array.delete rows":"Borrar L\xEDneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","submenu.array.insert separator":"Insertar un Separador","menu.insert table":"Insertar Tabla","submenu.table style":"Estilo de Tabla"},et:{"keyboard.tooltip.functions":"Funktsioonid","keyboard.tooltip.symbols":"S\xFCmbolid","keyboard.tooltip.greek":"Kreeka kirjad","keyboard.tooltip.command":"LaTeXi k\xE4sure\u017Eiim","keyboard.tooltip.numeric":"Numbriline","keyboard.tooltip.roman":"Rooma kirjad","tooltip.copy to clipboard":"Kopeerida l\xF5ikelauale","tooltip.redo":"Tee uuesti","tooltip.toggle virtual keyboard":"L\xFClitage sisse virtuaalne klaviatuur","tooltip.undo":"V\xF5ta tagasi","menu.insert matrix":"Sisesta maatriks","menu.insert vector":"Sisesta vektor","submenu.array.matrix delimiters":"Maatriksi eraldajad","menu.array.add row above":"Lisa rida p\xE4rast","menu.array.add row below":"Lisa rida enne","menu.array.add column after":"Lisa veerg p\xE4rast","menu.array.add column before":"Lisa veerg enne","menu.array.delete row":"Kustuta rida","menu.array.delete rows":"Kustuta valitud read","menu.array.delete column":"Kustuta veerg","menu.array.delete columns":"Kustuta valitud veerud","submenu.array.insert separator":"Sisestage eraldaja","menu.insert table":"Sisesta tabeli","submenu.table style":"Tabeli stiilis"},fa:{"keyboard.tooltip.functions":"\u062A\u0648\u0627\u0628\u0639","keyboard.tooltip.symbols":"\u0646\u0645\u0627\u062F\u0647\u0627","keyboard.tooltip.greek":"\u062D\u0631\u0648\u0641 \u06CC\u0648\u0646\u0627\u0646\u06CC","keyboard.tooltip.command":"\u062D\u0627\u0644\u062A \u062F\u0633\u062A\u0648\u0631 \u0644\u0627\u062A\u06A9","keyboard.tooltip.numeric":"\u0639\u062F\u062F\u06CC","keyboard.tooltip.roman":"\u062D\u0631\u0648\u0641 \u0631\u0648\u0645\u06CC","tooltip.copy to clipboard":"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E\u0628\u0648\u0631\u062F","tooltip.redo":"\u0628\u0627\u0632\u06AF\u0634\u062A \u0628\u0647 \u0628\u0639\u062F","tooltip.toggle virtual keyboard":"\u0646\u0645\u0627\u06CC\u0634/\u0646\u0647\u0641\u062A\u0646 \u06A9\u06CC\u0628\u0648\u0631\u062F \u0645\u062C\u0627\u0632\u06CC","tooltip.undo":"\u0628\u0627\u0632\u06AF\u0634\u062A \u0628\u0647 \u0642\u0628\u0644","menu.insert matrix":"\u0645\u0627\u062A\u0631\u06CC\u0633 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F","menu.insert vector":"\u062F\u0631\u062C \u0628\u0631\u062F\u0627\u0631","submenu.array.matrix delimiters":"\u0645\u0631\u0632\u0647\u0627\u06CC \u0645\u0627\u062A\u0631\u06CC\u0633","menu.array.add row above":"\u0628\u0639\u062F \u0627\u0632 \u0622\u0646 \u0631\u062F\u06CC\u0641 \u0627\u0636\u0627\u0641\u0647 \u06A9\u0646\u06CC\u062F","menu.array.add row below":"\u0631\u062F\u06CC\u0641 \u0631\u0627 \u0642\u0628\u0644 \u0627\u0636\u0627\u0641\u0647 \u06A9\u0646\u06CC\u062F","menu.array.add column after":"\u0627\u0636\u0627\u0641\u0647 \u06A9\u0631\u062F\u0646 \u0633\u062A\u0648\u0646 \u0628\u0639\u062F","menu.array.add column before":"\u0633\u062A\u0648\u0646 \u0642\u0628\u0644 \u0631\u0627 \u0627\u0636\u0627\u0641\u0647 \u06A9\u0646\u06CC\u062F","menu.array.delete row":"\u0631\u062F\u06CC\u0641 \u0631\u0627 \u062D\u0630\u0641 \u06A9\u0646\u06CC\u062F","menu.array.delete rows":"\u0631\u062F\u06CC\u0641 \u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 \u0631\u0627 \u062D\u0630\u0641 \u06A9\u0646\u06CC\u062F","menu.array.delete column":"\u062D\u0630\u0641 \u0633\u062A\u0648\u0646","menu.array.delete columns":"\u0633\u062A\u0648\u0646 \u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 \u0631\u0627 \u062D\u0630\u0641 \u06A9\u0646\u06CC\u062F","submenu.array.insert separator":"\u062F\u0631\u062C \u062C\u062F\u0627 \u06A9\u0646\u0646\u062F\u0647","menu.insert table":"\u0642\u0631\u0627\u0631 \u062F\u0627\u062F\u0646 \u062C\u062F\u0648\u0644","submenu.table style":"\u0633\u0628\u06A9 \u0645\u06CC\u0632"},fi:{"keyboard.tooltip.functions":"Toiminnot","keyboard.tooltip.symbols":"Symbolit","keyboard.tooltip.greek":"Kreikkalaiset kirjeet","keyboard.tooltip.command":"LaTeX-komentotila","keyboard.tooltip.numeric":"Numeerinen","keyboard.tooltip.roman":"Roomalaiset kirjeet","tooltip.copy to clipboard":"Kopioi leikep\xF6yd\xE4lle","tooltip.redo":"Tee uudelleen","tooltip.toggle virtual keyboard":"Vaihda virtuaalin\xE4pp\xE4imist\xF6","tooltip.undo":"Kumoa","menu.insert matrix":"Lis\xE4\xE4 matriisi","menu.insert vector":"Lis\xE4\xE4 vektori","submenu.array.matrix delimiters":"Matriisin erottimet","menu.array.add row above":"Lis\xE4\xE4 rivi j\xE4lkeen","menu.array.add row below":"Lis\xE4\xE4 rivi ennen","menu.array.add column after":"Lis\xE4\xE4 sarake j\xE4lkeen","menu.array.add column before":"Lis\xE4\xE4 sarake ennen","menu.array.delete row":"Poista rivi","menu.array.delete rows":"Poista valitut rivit","menu.array.delete column":"Poista sarake","menu.array.delete columns":"Poista valitut sarakkeet","submenu.array.insert separator":"Aseta erotin","menu.insert table":"Lis\xE4\xE4 taulukko","submenu.table style":"Taulukon tyyli"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Num\xE9rique","keyboard.tooltip.roman":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"R\xE9tablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Ins\xE9rer une Matrice","menu.insert vector":"Ins\xE9rer un Vecteur","submenu.array.matrix delimiters":"D\xE9limiteurs de la Matrice","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Apr\xE8s","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Apr\xE8s","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes S\xE9lection\xE9es","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes S\xE9lection\xE9es","submenu.array.insert separator":"Ins\xE9rer un S\xE9parateur","menu.insert table":"Ins\xE9rer une Table","submenu.table style":"Style de la  Table"},ga:{"keyboard.tooltip.functions":"Feidhmeanna","keyboard.tooltip.symbols":"Siombail\xED","keyboard.tooltip.greek":"Litreacha na Gr\xE9ige","keyboard.tooltip.command":"M\xF3d Ord\xFA LaTeX","keyboard.tooltip.numeric":"Uimhri\xFAil","keyboard.tooltip.roman":"Litreacha R\xF3mh\xE1nacha","tooltip.copy to clipboard":"C\xF3ipe\xE1il chuig an Ghearrthaisce","tooltip.redo":"Athdh\xE9an","tooltip.toggle virtual keyboard":"M\xE9archl\xE1ir F\xEDor\xFAil a Fh\xE1il","tooltip.undo":"Cealaigh","menu.insert matrix":"Cuir isteach Maitr\xEDs","menu.insert vector":"Cuir isteach Veicteoir","submenu.array.matrix delimiters":"Delimiters Maitr\xEDs","menu.array.add row above":"Cuir Rae Tar \xE9is","menu.array.add row below":"Cuir Rae Roimh","menu.array.add column after":"Cuir Col\xFAn Tar \xE9is","menu.array.add column before":"Cuir Col\xFAn Roimh","menu.array.delete row":"Scrios Rae","menu.array.delete rows":"Scrios Sraitheanna Roghnaithe","menu.array.delete column":"Scrios Col\xFAn","menu.array.delete columns":"Scrios Col\xFAin Roghnaithe","submenu.array.insert separator":"Cuir Deighilteoir isteach","menu.insert table":"Ions\xE1igh T\xE1bla","submenu.table style":"St\xEDl T\xE1bla"},he:{"keyboard.tooltip.functions":"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D5\u05EA","keyboard.tooltip.symbols":"\u05E1\u05DE\u05DC\u05D9\u05DD","keyboard.tooltip.greek":"\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA \u05D9\u05D5\u05D5\u05E0\u05D9\u05D5\u05EA","keyboard.tooltip.command":"\u05DE\u05E6\u05D1 \u05E4\u05E7\u05D5\u05D3\u05D4 \u05DC\u05D8\u05E7\u05E1","keyboard.tooltip.numeric":"\u05DE\u05E1\u05E4\u05E8\u05D9","keyboard.tooltip.roman":"\u05DE\u05DB\u05EA\u05D1\u05D9\u05DD \u05E8\u05D5\u05DE\u05D9\u05D9\u05DD","tooltip.copy to clipboard":"\u05D4\u05E2\u05EA\u05E7 \u05DC\u05DC\u05D5\u05D7","tooltip.redo":"\u05DC\u05B7\u05E2\u05B2\u05E9\u05C2\u05D5\u05B9\u05EA \u05E9\u05C1\u05D5\u05BC\u05D1","tooltip.toggle virtual keyboard":"\u05D4\u05D7\u05DC\u05E3 \u05D0\u05EA \u05D4\u05DE\u05E7\u05DC\u05D3\u05EA \u05D4\u05D5\u05D5\u05D9\u05E8\u05D8\u05D5\u05D0\u05DC\u05D9\u05EA","tooltip.undo":"\u05DC\u05D1\u05D8\u05DC","menu.insert matrix":"\u05D4\u05DB\u05E0\u05E1 \u05DE\u05D8\u05E8\u05D9\u05E7\u05E1","menu.insert vector":"\u05D4\u05DB\u05E0\u05E1 \u05D5\u05E7\u05D8\u05D5\u05E8","submenu.array.matrix delimiters":"\u05DE\u05E4\u05E8\u05D9\u05D3\u05D9 \u05DE\u05D8\u05E8\u05D9\u05E7\u05E1","menu.array.add row above":"\u05D4\u05D5\u05E1\u05E3 \u05E9\u05D5\u05E8\u05D4 \u05D0\u05D7\u05E8\u05D9","menu.array.add row below":"\u05D4\u05D5\u05E1\u05E3 \u05E9\u05D5\u05E8\u05D4 \u05DC\u05E4\u05E0\u05D9","menu.array.add column after":"\u05D4\u05D5\u05E1\u05E3 \u05E2\u05DE\u05D5\u05D3\u05D4 \u05D0\u05D7\u05E8\u05D9","menu.array.add column before":"\u05D4\u05D5\u05E1\u05E3 \u05E2\u05DE\u05D5\u05D3\u05D4 \u05DC\u05E4\u05E0\u05D9","menu.array.delete row":"\u05DE\u05D7\u05E7 \u05E9\u05D5\u05E8\u05D4","menu.array.delete rows":"\u05DE\u05D7\u05E7 \u05E9\u05D5\u05E8\u05D5\u05EA \u05E9\u05E0\u05D1\u05D7\u05E8\u05D5","menu.array.delete column":"\u05DE\u05D7\u05E7 \u05E2\u05DE\u05D5\u05D3\u05D4","menu.array.delete columns":"\u05DE\u05D7\u05E7 \u05E2\u05DE\u05D5\u05D3\u05D5\u05EA \u05E9\u05E0\u05D1\u05D7\u05E8\u05D5","submenu.array.insert separator":"\u05D4\u05DB\u05E0\u05E1 \u05DE\u05E4\u05E8\u05D9\u05D3","menu.insert table":"\u05D4\u05DB\u05E0\u05E1 \u05D8\u05D1\u05DC\u05D4","submenu.table style":"\u05D8\u05D1\u05DC\u05D4 \u05E1\u05B4\u05D2\u05B0\u05E0\u05D5\u05B9\u05DF"},hr:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Gr\u010Dka slova","keyboard.tooltip.command":"LaTeX naredbeni na\u010Din","keyboard.tooltip.numeric":"Numeri\u010Dki","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u me\u0111uspremnik","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Uklju\u010Di / isklju\u010Di virtualnu tipkovnicu","tooltip.undo":"Poni\u0161ti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matri\u010Dni razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj redak prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbri\u0161i redak","menu.array.delete rows":"Izbri\u0161i odabrane retke","menu.array.delete column":"Izbri\u0161i stupac","menu.array.delete columns":"Izbri\u0161i odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Umetni tablicu","submenu.table style":"Stil tabele"},id:{"keyboard.tooltip.functions":"Fungsi","keyboard.tooltip.symbols":"Simbol","keyboard.tooltip.greek":"Huruf Yunani","keyboard.tooltip.command":"Mode Perintah LaTeX","keyboard.tooltip.numeric":"Numerik","keyboard.tooltip.roman":"Surat Romawi","tooltip.copy to clipboard":"Menyalin ke clipboard","tooltip.redo":"Mengulangi","tooltip.toggle virtual keyboard":"Alihkan Keyboard Virtual","tooltip.undo":"Membuka","menu.insert matrix":"Sisipkan Matriks","menu.insert vector":"Sisipkan Vektor","submenu.array.matrix delimiters":"Pembatas Matriks","menu.array.add row above":"Tambahkan Baris Setelah","menu.array.add row below":"Tambahkan Baris Sebelumnya","menu.array.add column after":"Tambahkan Kolom Setelah","menu.array.add column before":"Tambahkan Kolom Sebelumnya","menu.array.delete row":"Hapus Baris","menu.array.delete rows":"Hapus Baris yang Dipilih","menu.array.delete column":"Hapus Kolom","menu.array.delete columns":"Hapus Kolom yang Dipilih","submenu.array.insert separator":"Sisipkan Pemisah","menu.insert table":"Sisipkan Tabel","submenu.table style":"Gaya Tabel"},hi:{"keyboard.tooltip.functions":"\u0915\u093E\u0930\u094D\u092F\u094B\u0902","keyboard.tooltip.symbols":"\u092A\u094D\u0930\u0924\u0940\u0915","keyboard.tooltip.greek":"\u0917\u094D\u0930\u0940\u0915 \u0905\u0915\u094D\u0937\u0930","keyboard.tooltip.command":"\u0932\u093E\u091F\u0947\u0915\u094D\u0938 \u0915\u092E\u093E\u0902\u0921 \u092E\u094B\u0921","keyboard.tooltip.numeric":"\u0938\u0902\u0916\u094D\u092F\u093E\u0924\u094D\u092E\u0915","keyboard.tooltip.roman":"\u0930\u094B\u092E\u0928 \u092A\u0924\u094D\u0930","tooltip.copy to clipboard":"\u0915\u094D\u0932\u093F\u092A\u092C\u094B\u0930\u094D\u0921 \u092A\u0930 \u0915\u0949\u092A\u0940 \u0915\u0930\u0947\u0902","tooltip.redo":"\u092B\u093F\u0930 \u0938\u0947 \u0915\u0930\u0947\u0902","tooltip.toggle virtual keyboard":"\u0935\u0930\u094D\u091A\u0941\u0905\u0932 \u0915\u0940\u092C\u094B\u0930\u094D\u0921 \u091F\u0949\u0917\u0932 \u0915\u0930\u0947\u0902","tooltip.undo":"\u092A\u0942\u0930\u094D\u0935\u0935\u0924","menu.insert matrix":"\u092E\u0948\u091F\u094D\u0930\u093F\u0915\u094D\u0938 \u0921\u093E\u0932\u0947\u0902","menu.insert vector":"\u0935\u0947\u0915\u094D\u091F\u0930 \u0921\u093E\u0932\u0947\u0902","submenu.array.matrix delimiters":"\u092E\u0948\u091F\u094D\u0930\u093F\u0915\u094D\u0938 \u0938\u0940\u092E\u093E\u0902\u0915\u0915","menu.array.add row above":"\u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0902\u0915\u094D\u0924\u093F \u091C\u094B\u0921\u093C\u0947\u0902","menu.array.add row below":"\u092A\u0939\u0932\u0947 \u092A\u0902\u0915\u094D\u0924\u093F \u091C\u094B\u0921\u093C\u0947\u0902","menu.array.add column after":"\u092C\u093E\u0926 \u092E\u0947\u0902 \u0915\u0949\u0932\u092E \u091C\u094B\u0921\u093C\u0947\u0902","menu.array.add column before":"\u092A\u0939\u0932\u0947 \u0915\u0949\u0932\u092E \u091C\u094B\u0921\u093C\u0947\u0902","menu.array.delete row":"\u092A\u0902\u0915\u094D\u0924\u093F \u0915\u094B \u0939\u091F\u093E\u090F\u0902","menu.array.delete rows":"\u091A\u092F\u0928\u093F\u0924 \u092A\u0902\u0915\u094D\u0924\u093F\u092F\u094B\u0902 \u0915\u094B \u0939\u091F\u093E\u090F\u0902","menu.array.delete column":"\u0915\u0949\u0932\u092E \u0939\u091F\u093E\u090F\u0902","menu.array.delete columns":"\u091A\u092F\u0928\u093F\u0924 \u0915\u0949\u0932\u092E \u0939\u091F\u093E\u090F\u0902","submenu.array.insert separator":"\u0935\u093F\u092D\u093E\u091C\u0915 \u0921\u093E\u0932\u0947\u0902","menu.insert table":"\u091F\u0947\u092C\u0932 \u0907\u0902\u0938\u0930\u094D\u091F \u0915\u0930\u0947\u0902","submenu.table style":"\u091F\u0947\u092C\u0932 \u0938\u094D\u091F\u093E\u0907\u0932"},hu:{"keyboard.tooltip.functions":"Funkci\xF3k","keyboard.tooltip.symbols":"Szimb\xF3lumok","keyboard.tooltip.greek":"G\xF6r\xF6g levelek","keyboard.tooltip.command":"LaTeX Parancs m\xF3d","keyboard.tooltip.numeric":"Numerikus","keyboard.tooltip.roman":"R\xF3mai levelek","tooltip.copy to clipboard":"M\xE1solja a v\xE1g\xF3lapra","tooltip.redo":"\xDAjra","tooltip.toggle virtual keyboard":"V\xE1lt\xE1s a virtu\xE1lis billenty\u0171zetre","tooltip.undo":"Visszavon\xE1s","menu.insert matrix":"Helyezze be a M\xE1trixot","menu.insert vector":"Vektor besz\xFAr\xE1sa","submenu.array.matrix delimiters":"M\xE1trixhat\xE1rol\xF3k","menu.array.add row above":"Sor hozz\xE1ad\xE1sa ut\xE1n","menu.array.add row below":"Add Add Sor el\u0151tt","menu.array.add column after":"Oszlop hozz\xE1ad\xE1sa ut\xE1n","menu.array.add column before":"Add oszlop el\u0151tt","menu.array.delete row":"Sor t\xF6rl\xE9se","menu.array.delete rows":"Kijel\xF6lt sorok t\xF6rl\xE9se","menu.array.delete column":"Oszlop t\xF6rl\xE9se","menu.array.delete columns":"A kijel\xF6lt oszlopok t\xF6rl\xE9se","submenu.array.insert separator":"Helyezze be az elv\xE1laszt\xF3t","menu.insert table":"Helyezze be a t\xE1bl\xE1zatot","submenu.table style":"T\xE1bl\xE1zatos st\xEDlus"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalit\xE0 di comando LaTeX","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.insert vector":"Inserisci Vettore","submenu.array.matrix delimiters":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","submenu.array.insert separator":"Inserisci un Separatore","menu.insert table":"Inserisci Tabella","submenu.table style":"Stile tabella"},is:{"keyboard.tooltip.functions":"A\xF0ger\xF0ir","keyboard.tooltip.symbols":"T\xE1kn","keyboard.tooltip.greek":"Gr\xEDsk br\xE9f","keyboard.tooltip.command":"LaTeX stj\xF3rnunarstilling","keyboard.tooltip.numeric":"T\xF6lulegt","keyboard.tooltip.roman":"R\xF3mversk br\xE9f","tooltip.copy to clipboard":"Afrita\xF0u \xE1 klemmuspjald","tooltip.redo":"Endurtaka","tooltip.toggle virtual keyboard":"Skiptu um s\xFDndarlyklabor\xF0","tooltip.undo":"Afturkalla","menu.insert matrix":"Settu fylki inn","menu.insert vector":"Settu inn Vector","submenu.array.matrix delimiters":"Matrix afm\xF6rkun","menu.array.add row above":"B\xE6ta vi\xF0 r\xF6\xF0 \xE1 eftir","menu.array.add row below":"B\xE6ta vi\xF0 r\xF6\xF0 \xE1\xF0ur","menu.array.add column after":"B\xE6ta vi\xF0 d\xE1lki \xE1 eftir","menu.array.add column before":"B\xE6ta vi\xF0 d\xE1lki \xE1\xF0ur","menu.array.delete row":"Ey\xF0a r\xF6\xF0","menu.array.delete rows":"Ey\xF0a v\xF6ldum l\xEDnum","menu.array.delete column":"Ey\xF0a d\xE1lki","menu.array.delete columns":"Ey\xF0a v\xF6ldum d\xE1lkum","submenu.array.insert separator":"Settu skiljuna \xED","menu.insert table":"Settu inn t\xF6flu","submenu.table style":"T\xF6flu st\xEDl"},ja:{"keyboard.tooltip.functions":"\u95A2\u6570","keyboard.tooltip.symbols":"\u30B7\u30F3\u30DC\u30EB","keyboard.tooltip.greek":"\u30AE\u30EA\u30B7\u30E3\u6587\u5B57","keyboard.tooltip.command":"\u30E9\u30C6\u30C3\u30AF\u30B9\u30B3\u30DE\u30F3\u30C9\u30E2\u30FC\u30C9","keyboard.tooltip.numeric":"\u6570\u5024","keyboard.tooltip.roman":"\u30ED\u30FC\u30DE\u5B57","tooltip.copy to clipboard":"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC","tooltip.redo":"\u3084\u308A\u76F4\u3057","tooltip.toggle virtual keyboard":"\u4EEE\u60F3\u30AD\u30FC\u30DC\u30FC\u30C9\u306E\u5207\u308A\u66FF\u3048","tooltip.undo":"\u5143\u306B\u623B\u3059","menu.insert matrix":"\u30DE\u30C8\u30EA\u30C3\u30AF\u30B9\u3092\u633F\u5165","menu.insert vector":"\u30D9\u30AF\u30C8\u30EB\u3092\u633F\u5165","submenu.array.matrix delimiters":"\u884C\u5217\u533A\u5207\u308A\u6587\u5B57","menu.array.add row above":"\u5F8C\u306B\u884C\u3092\u8FFD\u52A0","menu.array.add row below":"\u524D\u306B\u884C\u3092\u8FFD\u52A0","menu.array.add column after":"\u5F8C\u306B\u5217\u3092\u8FFD\u52A0","menu.array.add column before":"\u524D\u306B\u5217\u3092\u8FFD\u52A0","menu.array.delete row":"\u884C\u3092\u524A\u9664","menu.array.delete rows":"\u9078\u629E\u3057\u305F\u884C\u3092\u524A\u9664\u3059\u308B","menu.array.delete column":"\u5217\u3092\u524A\u9664","menu.array.delete columns":"\u9078\u629E\u3057\u305F\u5217\u3092\u524A\u9664\u3059\u308B","submenu.array.insert separator":"\u30BB\u30D1\u30EC\u30FC\u30BF\u30FC\u3092\u633F\u5165","menu.insert table":"\u30C6\u30FC\u30D6\u30EB\u3092\u633F\u5165","submenu.table style":"\u30C6\u30FC\u30D6\u30EB\u30B9\u30BF\u30A4\u30EB"},ko:{"keyboard.tooltip.functions":"\uAE30\uB2A5","keyboard.tooltip.symbols":"\uAE30\uD638","keyboard.tooltip.greek":"\uADF8\uB9AC\uC2A4 \uBB38\uC790","keyboard.tooltip.command":"\uC720\uC561 \uBA85\uB839 \uBAA8\uB4DC","keyboard.tooltip.numeric":"\uC22B\uC790","keyboard.tooltip.roman":"\uB85C\uB9C8 \uBB38\uC790","tooltip.copy to clipboard":"\uD074\uB9BD \uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC","tooltip.redo":"\uB2E4\uC2DC \uD558\uB2E4","tooltip.toggle virtual keyboard":"\uAC00\uC0C1 \uD0A4\uBCF4\uB4DC \uC804\uD658","tooltip.undo":"\uC2E4\uD589 \uCDE8\uC18C","menu.insert matrix":"\uB9E4\uD2B8\uB9AD\uC2A4 \uC0BD\uC785","menu.insert vector":"\uBCA1\uD130 \uC0BD\uC785","submenu.array.matrix delimiters":"\uD589\uB82C \uAD6C\uBD84 \uAE30\uD638","menu.array.add row above":"\uB4A4\uC5D0 \uD589 \uCD94\uAC00","menu.array.add row below":"\uC55E\uC5D0 \uD589 \uCD94\uAC00","menu.array.add column after":"\uB4A4\uC5D0 \uC5F4 \uCD94\uAC00","menu.array.add column before":"\uC55E\uC5D0 \uC5F4 \uCD94\uAC00","menu.array.delete row":"\uD589 \uC0AD\uC81C","menu.array.delete rows":"\uC120\uD0DD\uD55C \uD589 \uC0AD\uC81C","menu.array.delete column":"\uC5F4 \uC0AD\uC81C","menu.array.delete columns":"\uC120\uD0DD\uD55C \uC5F4 \uC0AD\uC81C","submenu.array.insert separator":"\uAD6C\uBD84\uC790 \uC0BD\uC785","menu.insert table":"\uD45C \uC0BD\uC785","submenu.table style":"\uD14C\uC774\uBE14 \uC2A4\uD0C0\uC77C"},lv:{"keyboard.tooltip.functions":"Funkcijas","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grie\u0137u burti","keyboard.tooltip.command":"LaTeX komandu re\u017E\u012Bms","keyboard.tooltip.numeric":"Ciparu skaitlis","keyboard.tooltip.roman":"Romie\u0161u v\u0113stules","tooltip.copy to clipboard":"Kop\u0113t starpliktuv\u0113","tooltip.redo":"P\u0101rtais\u012Bt","tooltip.toggle virtual keyboard":"P\u0101rsl\u0113gt virtu\u0101lo tastat\u016Bru","tooltip.undo":"Atsaukt","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobe\u017Eot\u0101ji","menu.array.add row above":"Pievienot rindu p\u0113c","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu p\u0113c","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dz\u0113st rindu","menu.array.delete rows":"Dz\u0113st atlas\u012Bt\u0101s rindas","menu.array.delete column":"Dz\u0113st kolonnu","menu.array.delete columns":"Dz\u0113st atlas\u012Bt\u0101s kolonnas","submenu.array.insert separator":"Ievietojiet atdal\u012Bt\u0101ju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Galda stils"},lt:{"keyboard.tooltip.functions":"Funkcijos","keyboard.tooltip.symbols":"Simboliai","keyboard.tooltip.greek":"Graiki\u0161kos raid\u0117s","keyboard.tooltip.command":"LaTeX komand\u0173 re\u017Eimas","keyboard.tooltip.numeric":"Skaitmeninis","keyboard.tooltip.roman":"Romos lai\u0161kai","tooltip.copy to clipboard":"Nukopijuoti \u012F i\u0161karpin\u0119","tooltip.redo":"Perdaryti","tooltip.toggle virtual keyboard":"Perjungti virtuali\u0105j\u0105 klaviat\u016Br\u0105","tooltip.undo":"At\u0161aukti","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobe\u017Eot\u0101ji","menu.array.add row above":"Pievienot rindu p\u0113c","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu p\u0113c","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dz\u0113st rindu","menu.array.delete rows":"Dz\u0113st atlas\u012Bt\u0101s rindas","menu.array.delete column":"Dz\u0113st kolonnu","menu.array.delete columns":"Dz\u0113st atlas\u012Bt\u0101s kolonnas","submenu.array.insert separator":"Ievietojiet atdal\u012Bt\u0101ju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Tabulas stili"},lu:{"keyboard.tooltip.functions":"Funktiounen","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Griichesch Br\xE9iwer","keyboard.tooltip.command":"LaTeX Kommando Modus","keyboard.tooltip.numeric":"Numeresch","keyboard.tooltip.roman":"R\xE9imesch Br\xE9iwer","tooltip.copy to clipboard":"Kop\xE9iert op Clipboard","tooltip.redo":"Nees nei maachen","tooltip.toggle virtual keyboard":"Wiesselt Virtuell Tastatur","tooltip.undo":"Undoen","menu.insert matrix":"Matrix asetzen","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Ofgrenzer","menu.array.add row above":"Dob\xE4izemaachen Rei No","menu.array.add row below":"F\xFC\xFCgt Rei vir","menu.array.add column after":"Dob\xE4izemaachen Kolonn No","menu.array.add column before":"Kolonn derb\xE4i Virun","menu.array.delete row":"Rad l\xE4schen","menu.array.delete rows":"L\xE4scht Ausgewielte Reien","menu.array.delete column":"L\xE4scht Kolonn","menu.array.delete columns":"L\xE4scht Ausgewielte Kolonnen","submenu.array.insert separator":"Insert Separator","menu.insert table":"D\xEBsch anzeginn","submenu.table style":"D\xEBsch Style"},nl:{"keyboard.tooltip.functions":"Functies","keyboard.tooltip.symbols":"Symbolen","keyboard.tooltip.greek":"Griekse letters","keyboard.tooltip.command":"LaTeX commando mode","keyboard.tooltip.numeric":"Numeriek","keyboard.tooltip.roman":"Romeinse letters","tooltip.copy to clipboard":"Kopi\xEBren naar klembord","tooltip.redo":"Opnieuw","tooltip.toggle virtual keyboard":"Schakel naar virtueel toetsenbord","tooltip.undo":"Ongedaan maken","menu.insert matrix":"Matrix invoegen","menu.insert vector":"Vector invoegen","submenu.array.matrix delimiters":"Matrixscheidingstekens","menu.array.add row above":"Rij toevoegen na","menu.array.add row below":"Rij toevoegen eerder","menu.array.add column after":"Kolom toevoegen na","menu.array.add column before":"Kolom toevoegen voor","menu.array.delete row":"Verwijder rij","menu.array.delete rows":"Geselecteerde rijen verwijderen","menu.array.delete column":"Kolom verwijderen","menu.array.delete columns":"Geselecteerde kolommen verwijderen","submenu.array.insert separator":"Scheidingsteken invoegen","menu.insert table":"Tabel invoegen","submenu.table style":"Tabelstijl"},no:{"keyboard.tooltip.functions":"Funksjoner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Greske bokstaver","keyboard.tooltip.command":"LaTeX kommandomodus","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske bokstaver","tooltip.copy to clipboard":"Kopiere til utklippstavle","tooltip.redo":"Gj\xF8re om","tooltip.toggle virtual keyboard":"Bytt virtuelt tastatur","tooltip.undo":"Angre","menu.insert matrix":"Sett inn matrise","menu.insert vector":"Sett inn vektor","submenu.array.matrix delimiters":"Matrix avgrensere","menu.array.add row above":"Legg til rad etter","menu.array.add row below":"Legg til rad f\xF8r","menu.array.add column after":"Legg til kolonne etter","menu.array.add column before":"Legg til kolonne f\xF8r","menu.array.delete row":"Slett rad","menu.array.delete rows":"Slett valgte rader","menu.array.delete column":"Slett kolonne","menu.array.delete columns":"Slett valgte kolonner","submenu.array.insert separator":"Sett inn skilletegn","menu.insert table":"Sett inn tabell","submenu.table style":"Tabellstil"},mk:{"keyboard.tooltip.functions":"\u0424\u0443\u043D\u043A\u0446\u0438\u0438","keyboard.tooltip.symbols":"\u0421\u0438\u043C\u0431\u043E\u043B\u0438","keyboard.tooltip.greek":"\u0413\u0440\u0447\u043A\u0438 \u0431\u0443\u043A\u0432\u0438","keyboard.tooltip.command":"\u0420\u0435\u0436\u0438\u043C \u043D\u0430 \u043A\u043E\u043C\u0430\u043D\u0434\u0430 \u0432\u043E \u043B\u0430\u0442\u0435\u043A\u0441","keyboard.tooltip.numeric":"\u041D\u0443\u043C\u0435\u0440\u0438\u0447\u043A\u0438","keyboard.tooltip.roman":"\u0420\u0438\u043C\u0441\u043A\u0438 \u043F\u0438\u0441\u043C\u0430","tooltip.copy to clipboard":"\u041A\u043E\u043F\u0438\u0440\u0430\u0458\u0442\u0435 \u0432\u043E \u043A\u043B\u0438\u043F\u0431\u043E\u0440\u0434","tooltip.redo":"\u041F\u043E\u0432\u0442\u043E\u0440\u043D\u043E","tooltip.toggle virtual keyboard":"\u0412\u043A\u043B\u0443\u0447\u0435\u0442\u0435 \u0458\u0430 \u0432\u0438\u0440\u0442\u0443\u0435\u043B\u043D\u0430\u0442\u0430 \u0442\u0430\u0441\u0442\u0430\u0442\u0443\u0440\u0430","tooltip.undo":"\u0412\u0440\u0430\u0442\u0438","menu.insert matrix":"\u0412\u043C\u0435\u0442\u043D\u0435\u0442\u0435 \u043C\u0430\u0442\u0440\u0438\u0446\u0430","menu.insert vector":"\u0412\u043C\u0435\u0442\u043D\u0438 \u0432\u0435\u043A\u0442\u043E\u0440","submenu.array.matrix delimiters":"\u0420\u0430\u0437\u0433\u0440\u0430\u043D\u0438\u0447\u0443\u0432\u0430\u0447\u0438 \u043D\u0430 \u043C\u0430\u0442\u0440\u0438\u0446\u0430","menu.array.add row above":"\u0414\u043E\u0434\u0430\u0434\u0435\u0442\u0435 \u0440\u0435\u0434 \u043F\u043E\u0441\u043B\u0435","menu.array.add row below":"\u0414\u043E\u0434\u0430\u0434\u0438 \u0440\u0435\u0434 \u043F\u0440\u0435\u0434 \u0442\u043E\u0430","menu.array.add column after":"\u0414\u043E\u0434\u0430\u0434\u0435\u0442\u0435 \u043A\u043E\u043B\u043E\u043D\u0430 \u043F\u043E\u0441\u043B\u0435","menu.array.add column before":"\u0414\u043E\u0434\u0430\u0434\u0435\u0442\u0435 \u043A\u043E\u043B\u043E\u043D\u0430 \u043F\u0440\u0435\u0434 \u0442\u043E\u0430","menu.array.delete row":"\u0418\u0437\u0431\u0440\u0438\u0448\u0438 \u0433\u043E \u0440\u0435\u0434\u043E\u0442","menu.array.delete rows":"\u0418\u0437\u0431\u0440\u0438\u0448\u0435\u0442\u0435 \u0433\u0438 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u0442\u0435 \u0440\u0435\u0434\u043E\u0432\u0438","menu.array.delete column":"\u0418\u0437\u0431\u0440\u0438\u0448\u0438 \u0458\u0430 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430","menu.array.delete columns":"\u0418\u0437\u0431\u0440\u0438\u0448\u0438 \u0458\u0430 \u043A\u043E\u043B\u043E\u043D\u0430\u0442\u0430","submenu.array.insert separator":"\u0412\u043C\u0435\u0442\u043D\u0435\u0442\u0435 \u0441\u0435\u043F\u0430\u0440\u0430\u0442\u043E\u0440","menu.insert table":"\u0412\u043C\u0435\u0442\u043D\u0438 \u0442\u0430\u0431\u0435\u043B\u0430","submenu.table style":"\u0422\u0430\u0431\u0435\u043B\u0430 \u0441\u0442\u0438\u043B"},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb polece\u0144 LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr\xF3\u0107","tooltip.toggle virtual keyboard":"Prze\u0142\u0105cz wirtualn\u0105 klawiatur\u0119","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.insert vector":"Wstaw wektor","submenu.array.matrix delimiters":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumn\u0119 po","menu.array.add column before":"Dodaj kolumn\u0119 przed","menu.array.delete row":"Usu\u0144 wiersz","menu.array.delete rows":"Usu\u0144 wybrane wiersze","menu.array.delete column":"Usu\u0144 kolumn\u0119","menu.array.delete columns":"Usu\u0144 wybrane kolumny","submenu.array.insert separator":"Wstaw separator","menu.insert table":"Wype\u0142nij tabel\u0119","submenu.table style":"Styl tabel\u0119"},pt:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"S\xEDmbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.command":"Modo de Comando LaTeX","keyboard.tooltip.numeric":"Num\xE9rico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar para \xE1rea de transfer\xEAncia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.insert vector":"Inserir vetor","submenu.array.matrix delimiters":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","submenu.array.insert separator":"Inserir Separador","menu.insert table":"Insira a tabela","submenu.table style":"Estilo tabela"},ro:{"keyboard.tooltip.functions":"Func\u021Bii","keyboard.tooltip.symbols":"Simboluri","keyboard.tooltip.greek":"Scrisori grece\u0219ti","keyboard.tooltip.command":"Modul de comand\u0103 latex","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Scrisori romane","tooltip.copy to clipboard":"Copia\u021Bi \xEEn clipboard","tooltip.redo":"A reface","tooltip.toggle virtual keyboard":"Comuta\u021Bi tastatura virtual\u0103","tooltip.undo":"Anula","menu.insert matrix":"Introduce\u021Bi Matrix","menu.insert vector":"Insera\u021Bi Vector","submenu.array.matrix delimiters":"Delimitatori de matrice","menu.array.add row above":"Ad\u0103uga\u021Bi r\xE2ndul dup\u0103","menu.array.add row below":"Ad\u0103uga\u021Bi r\xE2ndul \xEEnainte","menu.array.add column after":"Ad\u0103uga\u021Bi o coloan\u0103 dup\u0103","menu.array.add column before":"Ad\u0103uga\u021Bi o coloan\u0103 \xEEnainte","menu.array.delete row":"\u0218terge\u021Bi r\xE2ndul","menu.array.delete rows":"\u0218terge\u021Bi r\xE2ndurile selectate","menu.array.delete column":"\u0218terge\u021Bi coloana","menu.array.delete columns":"\u0218terge\u021Bi coloanele selectate","submenu.array.insert separator":"Introduce\u021Bi separatorul","menu.insert table":"Introduce\u021Bi tabelul","submenu.table style":"Table style"},ru:{"keyboard.tooltip.functions":"\u0424\u0443\u043D\u043A\u0446\u0438\u0438","keyboard.tooltip.symbols":"\u0421\u0438\u043C\u0432\u043E\u043B\u044B","keyboard.tooltip.greek":"\u0413\u0440\u0435\u0447\u0435\u0441\u043A\u0438\u0435 \u0431\u0443\u043A\u0432\u044B","keyboard.tooltip.command":"\u0420\u0435\u0436\u0438\u043C \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0438 \u041B\u0430\u0442\u0435\u043A\u0441","keyboard.tooltip.numeric":"\u0447\u0438\u0441\u043B\u043E\u0432\u043E\u0439","keyboard.tooltip.roman":"\u041B\u0430\u0442\u0438\u043D\u0441\u043A\u0438\u0435 \u0431\u0443\u043A\u0432\u044B","tooltip.copy to clipboard":"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430","tooltip.redo":"\u043F\u0435\u0440\u0435\u0434\u0435\u043B\u044B\u0432\u0430\u0442\u044C","tooltip.toggle virtual keyboard":"\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u0438\u0440\u0442\u0443\u0430\u043B\u044C\u043D\u0443\u044E \u043A\u043B\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443","tooltip.undo":"\u0440\u0430\u0441\u0441\u0442\u0435\u0433\u0438\u0432\u0430\u0442\u044C","menu.insert matrix":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0442\u0440\u0438\u0446\u0443","menu.insert vector":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u0432\u0435\u043A\u0442\u043E\u0440","submenu.array.matrix delimiters":"\u041C\u0430\u0442\u0440\u0438\u0447\u043D\u044B\u0435 \u0440\u0430\u0437\u0434\u0435\u043B\u0438\u0442\u0435\u043B\u0438","menu.array.add row above":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u043E\u043A\u0443 \u043F\u043E\u0441\u043B\u0435","menu.array.add row below":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u043E\u043A\u0443 \u043F\u0435\u0440\u0435\u0434","menu.array.add column after":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u0442\u043E\u043B\u0431\u0435\u0446 \u043F\u043E\u0441\u043B\u0435","menu.array.add column before":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u0442\u043E\u043B\u0431\u0435\u0446 \u043F\u0435\u0440\u0435\u0434","menu.array.delete row":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u0442\u0440\u043E\u043A\u0443","menu.array.delete rows":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0441\u0442\u0440\u043E\u043A\u0438","menu.array.delete column":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u0442\u043E\u043B\u0431\u0435\u0446","menu.array.delete columns":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u0441\u0442\u043E\u043B\u0431\u0446\u044B","submenu.array.insert separator":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u0440\u0430\u0437\u0434\u0435\u043B\u0438\u0442\u0435\u043B\u044C","menu.insert table":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u0442\u0430\u0431\u043B\u0438\u0446\u0443","submenu.table style":"\u0422\u0430\u0431\u043B\u0438\u0447\u043D\u044B\u0439 \u0441\u0442\u0438\u043B\u044C"},sk:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Gr\xE9cke listy","keyboard.tooltip.command":"Pr\xEDkazov\xFD re\u017Eim LaTeX","keyboard.tooltip.numeric":"Numerick\xE9","keyboard.tooltip.roman":"R\xEDmske listy","tooltip.copy to clipboard":"Skop\xEDrova\u0165 do schr\xE1nky","tooltip.redo":"Znova","tooltip.toggle virtual keyboard":"Prepn\xFA\u0165 virtu\xE1lnu kl\xE1vesnicu","tooltip.undo":"Vr\xE1tenie sp\xE4\u0165","menu.insert matrix":"Vlo\u017Ete maticu","menu.insert vector":"Vlo\u017Ete vektor","submenu.array.matrix delimiters":"Odde\u013Eova\u010De mat\xEDc","menu.array.add row above":"Pridajte riadok za","menu.array.add row below":"Pridajte riadok pred","menu.array.add column after":"Prida\u0165 st\u013Apec za","menu.array.add column before":"Pridajte st\u013Apec predt\xFDm","menu.array.delete row":"Odstr\xE1ni\u0165 riadok","menu.array.delete rows":"Odstr\xE1ni\u0165 vybrat\xE9 riadky","menu.array.delete column":"Odstr\xE1ni\u0165 st\u013Apec","menu.array.delete columns":"Odstr\xE1ni\u0165 vybrat\xE9 st\u013Apce","submenu.array.insert separator":"Vlo\u017Ete odde\u013Eova\u010D","menu.insert table":"Vlo\u017Ete tabu\u013Eku","submenu.table style":"\u0160t\xFDl tabu\u013Eky"},sl:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Gr\u0161ka pisma","keyboard.tooltip.command":"Ukazni na\u010Din LaTeX","keyboard.tooltip.numeric":"\u0160tevilsko","keyboard.tooltip.roman":"Rimska pisma","tooltip.copy to clipboard":"Kopirati v odlo\u017Ei\u0161\u010De","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Preklop navidezne tipkovnice","tooltip.undo":"Razveljavi","menu.insert matrix":"Vstavi matrico","menu.insert vector":"Vstavi vektor","submenu.array.matrix delimiters":"Matri\u010Dni lo\u010Devalniki","menu.array.add row above":"Dodaj vrstico po","menu.array.add row below":"Dodaj vrstico prej","menu.array.add column after":"Dodaj stolpec po","menu.array.add column before":"Dodaj stolpec prej","menu.array.delete row":"Izbri\u0161i vrstico","menu.array.delete rows":"Izbri\u0161i izbrane vrstice","menu.array.delete column":"Izbri\u0161i stolpec","menu.array.delete columns":"Izbri\u0161i izbrane stolpce","submenu.array.insert separator":"Vstavi lo\u010Dilo","menu.insert table":"Vstavi tabelo","submenu.table style":"Tabela slog"},sq:{"keyboard.tooltip.functions":"Funksione","keyboard.tooltip.symbols":"Simbolet","keyboard.tooltip.greek":"Letrat Greke","keyboard.tooltip.command":"Modaliteti i komand\xEBs latex","keyboard.tooltip.numeric":"Numerike","keyboard.tooltip.roman":"Letrat romake","tooltip.copy to clipboard":"Kopjoni n\xEB Clipboard","tooltip.redo":"Riparo","tooltip.toggle virtual keyboard":"Aktivizo tastier\xEBn virtuale","tooltip.undo":"Zhb\xEBj","menu.insert matrix":"Vendosni Matric\xEBn","menu.insert vector":"Vendos vektorin","submenu.array.matrix delimiters":"P\xEBrcaktuesit e matric\xEBs","menu.array.add row above":"Shto Rreshtin Pas","menu.array.add row below":"Shto Rreshtin Para","menu.array.add column after":"Shto kolon\xEBn pas","menu.array.add column before":"Shto kolon\xEBn para","menu.array.delete row":"Fshi Rreshtin","menu.array.delete rows":"Fshi rreshtat e zgjedhur","menu.array.delete column":"Fshi kolon\xEBn","menu.array.delete columns":"Fshi kolonat e zgjedhura","submenu.array.insert separator":"Vendos Ndar\xEBsin","menu.insert table":"Vendos tabel\xEBn","submenu.table style":"Stili tabel\xEBn"},sr:{"keyboard.tooltip.functions":"\u0424\u0443\u043D\u043A\u0446\u0438\u0458\u0435","keyboard.tooltip.symbols":"\u0421\u0438\u043C\u0431\u043E\u043B\u0438","keyboard.tooltip.greek":"\u0413\u0440\u0435\u0435\u043A \u041B\u0435\u0442\u0442\u0435\u0440\u0441","keyboard.tooltip.command":"\u041B\u0430\u0422\u0435\u041A\u0441 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u0438 \u0440\u0435\u0436\u0438\u043C","keyboard.tooltip.numeric":"\u041D\u0443\u043C\u0435\u0440\u0438\u0447\u043A\u0438","keyboard.tooltip.roman":"\u0420\u0438\u043C\u0441\u043A\u0430 \u043F\u0438\u0441\u043C\u0430","tooltip.copy to clipboard":"\u041A\u043E\u043F\u0438\u0440\u0430\u0458\u0442\u0435 \u0443 \u043C\u0435\u0452\u0443\u0441\u043F\u0440\u0435\u043C\u043D\u0438\u043A","tooltip.redo":"\u041F\u043E\u043D\u043E\u0432\u0438","tooltip.toggle virtual keyboard":"\u0423\u043A\u0459\u0443\u0447\u0438 / \u0438\u0441\u043A\u0459\u0443\u0447\u0438 \u0432\u0438\u0440\u0442\u0443\u0435\u043B\u043D\u0443 \u0442\u0430\u0441\u0442\u0430\u0442\u0443\u0440\u0443","tooltip.undo":"\u041E\u043F\u043E\u0437\u043E\u0432\u0438","menu.insert matrix":"\u0423\u043C\u0435\u0442\u043D\u0438 \u043C\u0430\u0442\u0440\u0438\u0446\u0443","menu.insert vector":"\u0423\u043C\u0435\u0442\u043D\u0438 \u0432\u0435\u043A\u0442\u043E\u0440","submenu.array.matrix delimiters":"\u041C\u0430\u0442\u0440\u0438\u043A \u0414\u0435\u043B\u0438\u043C\u0438\u0442\u0435\u0440\u0441","menu.array.add row above":"\u0414\u043E\u0434\u0430\u0458 \u0440\u0435\u0434 \u043F\u043E\u0441\u043B\u0435","menu.array.add row below":"\u0414\u043E\u0434\u0430\u0458 \u0440\u0435\u0434 \u043F\u0440\u0435","menu.array.add column after":"\u0414\u043E\u0434\u0430\u0458 \u043A\u043E\u043B\u043E\u043D\u0443 \u043F\u043E\u0441\u043B\u0435","menu.array.add column before":"\u0414\u043E\u0434\u0430\u0458 \u043A\u043E\u043B\u043E\u043D\u0443 \u043F\u0440\u0435","menu.array.delete row":"\u0418\u0437\u0431\u0440\u0438\u0448\u0438 \u0440\u0435\u0434","menu.array.delete rows":"\u0418\u0437\u0431\u0440\u0438\u0448\u0438 \u0438\u0437\u0430\u0431\u0440\u0430\u043D\u0435 \u0440\u0435\u0434\u043E\u0432\u0435","menu.array.delete column":"\u0418\u0437\u0431\u0440\u0438\u0448\u0438 \u043A\u043E\u043B\u043E\u043D\u0443","menu.array.delete columns":"\u0418\u0437\u0431\u0440\u0438\u0448\u0438 \u0438\u0437\u0430\u0431\u0440\u0430\u043D\u0435 \u043A\u043E\u043B\u043E\u043D\u0435","submenu.array.insert separator":"\u0423\u043C\u0435\u0442\u043D\u0438 \u0441\u0435\u043F\u0430\u0440\u0430\u0442\u043E\u0440","menu.insert table":"\u0423\u0431\u0430\u0446\u0438 \u0442\u0430\u0431\u0435\u043B\u0443","submenu.table style":"\u0422\u0430\u0431\u0435\u043B\u0430\u0440\u043D\u0438 \u0441\u0442\u0438\u043B"},sv:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grekiska bokst\xE4ver","keyboard.tooltip.command":"LaTeX kommandol\xE4ge","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerska bokst\xE4ver","tooltip.copy to clipboard":"Kopiera till Urklipp","tooltip.redo":"G\xF6ra om","tooltip.toggle virtual keyboard":"V\xE4xla virtuellt tangentbord","tooltip.undo":"\xC5ngra","menu.insert matrix":"S\xE4tt in matris","menu.insert vector":"Infoga vektor","submenu.array.matrix delimiters":"Matrisavgr\xE4nsare","menu.array.add row above":"L\xE4gg till rad efter","menu.array.add row below":"L\xE4gg till rad f\xF6re","menu.array.add column after":"L\xE4gg till kolumn efter","menu.array.add column before":"L\xE4gg till kolumn f\xF6re","menu.array.delete row":"Radera rad","menu.array.delete rows":"Ta bort valda rader","menu.array.delete column":"Ta bort kolumn","menu.array.delete columns":"Ta bort valda kolumner","submenu.array.insert separator":"S\xE4tt i separator","menu.insert table":"Infoga tabell","submenu.table style":"Tabellstil"},th:{"keyboard.tooltip.functions":"\u0E1F\u0E31\u0E07\u0E01\u0E4C\u0E0A\u0E31\u0E48\u0E19","keyboard.tooltip.symbols":"\u0E2A\u0E31\u0E0D\u0E25\u0E31\u0E01\u0E29\u0E13\u0E4C","keyboard.tooltip.greek":"\u0E2D\u0E31\u0E01\u0E29\u0E23\u0E01\u0E23\u0E35\u0E01","keyboard.tooltip.command":"\u0E42\u0E2B\u0E21\u0E14\u0E04\u0E33\u0E2A\u0E31\u0E48\u0E07 \u0E19\u0E49\u0E33\u0E22\u0E32\u0E07","keyboard.tooltip.numeric":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02","keyboard.tooltip.roman":"\u0E2D\u0E31\u0E01\u0E29\u0E23\u0E42\u0E23\u0E21\u0E31\u0E19","tooltip.copy to clipboard":"\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E44\u0E1B\u0E17\u0E35\u0E48\u0E04\u0E25\u0E34\u0E1B\u0E1A\u0E2D\u0E23\u0E4C\u0E14","tooltip.redo":"\u0E17\u0E33\u0E0B\u0E49\u0E33","tooltip.toggle virtual keyboard":"\u0E2A\u0E25\u0E31\u0E1A\u0E41\u0E1B\u0E49\u0E19\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E40\u0E2A\u0E21\u0E37\u0E2D\u0E19","tooltip.undo":"\u0E40\u0E25\u0E34\u0E01\u0E17\u0E33","menu.insert matrix":"\u0E41\u0E17\u0E23\u0E01\u0E40\u0E21\u0E17\u0E23\u0E34\u0E01\u0E0B\u0E4C","menu.insert vector":"\u0E41\u0E17\u0E23\u0E01\u0E40\u0E27\u0E01\u0E40\u0E15\u0E2D\u0E23\u0E4C","submenu.array.matrix delimiters":"\u0E15\u0E31\u0E27\u0E04\u0E31\u0E48\u0E19\u0E40\u0E21\u0E17\u0E23\u0E34\u0E01\u0E0B\u0E4C","menu.array.add row above":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E16\u0E27\u0E2B\u0E25\u0E31\u0E07","menu.array.add row below":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E16\u0E27\u0E01\u0E48\u0E2D\u0E19","menu.array.add column after":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E2D\u0E25\u0E31\u0E21\u0E19\u0E4C\u0E2B\u0E25\u0E31\u0E07","menu.array.add column before":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E2D\u0E25\u0E31\u0E21\u0E19\u0E4C\u0E01\u0E48\u0E2D\u0E19","menu.array.delete row":"\u0E25\u0E1A\u0E41\u0E16\u0E27","menu.array.delete rows":"\u0E25\u0E1A\u0E41\u0E16\u0E27\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01","menu.array.delete column":"\u0E25\u0E1A\u0E04\u0E2D\u0E25\u0E31\u0E21\u0E19\u0E4C","menu.array.delete columns":"\u0E25\u0E1A\u0E04\u0E2D\u0E25\u0E31\u0E21\u0E19\u0E4C\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01","submenu.array.insert separator":"\u0E15\u0E31\u0E27\u0E04\u0E31\u0E48\u0E19\u0E41\u0E17\u0E23\u0E01","menu.insert table":"\u0E41\u0E17\u0E23\u0E01\u0E15\u0E32\u0E23\u0E32\u0E07","submenu.table style":"\u0E2A\u0E44\u0E15\u0E25\u0E4C\u0E15\u0E32\u0E23\u0E32\u0E07"},tr:{"keyboard.tooltip.functions":"Fonksiyonlar","keyboard.tooltip.symbols":"Semboller","keyboard.tooltip.greek":"Yunan harfleri","keyboard.tooltip.command":"LaTeX Komut Modu","keyboard.tooltip.numeric":"Say\u0131sal","keyboard.tooltip.roman":"Roma Harfleri","tooltip.copy to clipboard":"Panoya kopyala","tooltip.redo":"Yeniden yap","tooltip.toggle virtual keyboard":"Sanal Klavyeyi A\xE7/Kapat","tooltip.undo":"Geri alma","menu.insert matrix":"Matris Ekle","menu.insert vector":"Vekt\xF6r Ekle","submenu.array.matrix delimiters":"Matris S\u0131n\u0131rlay\u0131c\u0131lar","menu.array.add row above":"Sat\u0131rdan Sonra Ekle","menu.array.add row below":"\xD6nce Sat\u0131r Ekle","menu.array.add column after":"Sonra S\xFCtun Ekle","menu.array.add column before":"\xD6nce S\xFCtun Ekle","menu.array.delete row":"S\u0131ray\u0131 sil","menu.array.delete rows":"Se\xE7ili Sat\u0131rlar\u0131 Sil","menu.array.delete column":"S\xFCtunu Sil","menu.array.delete columns":"Se\xE7ili S\xFCtunlar\u0131 Sil","submenu.array.insert separator":"Ay\u0131r\u0131c\u0131 Ekle","menu.insert table":"Tablo Ekle","submenu.table style":"Tablo Stili"},uk:{"keyboard.tooltip.functions":"\u0424\u0443\u043D\u043A\u0446\u0456\u0457","keyboard.tooltip.symbols":"\u0421\u0438\u043C\u0432\u043E\u043B\u0438","keyboard.tooltip.greek":"\u0413\u0440\u0435\u0446\u044C\u043A\u0456 \u043B\u0456\u0442\u0435\u0440\u0438","keyboard.tooltip.command":"\u041A\u043E\u043C\u0430\u043D\u0434\u043D\u0438\u0439 \u0440\u0435\u0436\u0438\u043C \u043B\u0430\u0442\u0435\u043A\u0441\u0443","keyboard.tooltip.numeric":"\u0427\u0438\u0441\u043B\u043E\u0432\u0438\u0439","keyboard.tooltip.roman":"\u0420\u0438\u043C\u0441\u044C\u043A\u0456 \u043B\u0456\u0442\u0435\u0440\u0438","tooltip.copy to clipboard":"\u041A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0456\u043D\u0443","tooltip.redo":"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438","tooltip.toggle virtual keyboard":"\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0438\u0442\u0438 \u0432\u0456\u0440\u0442\u0443\u0430\u043B\u044C\u043D\u0443 \u043A\u043B\u0430\u0432\u0456\u0430\u0442\u0443\u0440\u0443","tooltip.undo":"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438","menu.insert matrix":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u043C\u0430\u0442\u0440\u0438\u0446\u044E","menu.insert vector":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0432\u0435\u043A\u0442\u043E\u0440","submenu.array.matrix delimiters":"\u041C\u0430\u0442\u0440\u0438\u0447\u043D\u0456 \u0440\u043E\u0437\u0434\u0456\u043B\u044C\u043D\u0438\u043A\u0438","menu.array.add row above":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0440\u044F\u0434\u043E\u043A \u043F\u0456\u0441\u043B\u044F","menu.array.add row below":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0440\u044F\u0434\u043E\u043A \u0434\u043E","menu.array.add column after":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0441\u0442\u043E\u0432\u043F\u0435\u0446\u044C \u043F\u0456\u0441\u043B\u044F","menu.array.add column before":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0441\u0442\u043E\u0432\u043F\u0435\u0446\u044C \u043F\u0435\u0440\u0435\u0434","menu.array.delete row":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0440\u044F\u0434\u043E\u043A","menu.array.delete rows":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0432\u0438\u0431\u0440\u0430\u043D\u0456 \u0440\u044F\u0434\u043A\u0438","menu.array.delete column":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0441\u0442\u043E\u0432\u043F\u0435\u0446\u044C","menu.array.delete columns":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0432\u0438\u0431\u0440\u0430\u043D\u0456 \u0441\u0442\u043E\u0432\u043F\u0446\u0456","submenu.array.insert separator":"\u0412\u0441\u0442\u0430\u0432\u0442\u0435 \u0440\u043E\u0437\u0434\u0456\u043B\u044C\u043D\u0438\u043A","menu.insert table":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0442\u0430\u0431\u043B\u0438\u0446\u044E","submenu.table style":"\u0421\u0442\u0438\u043B\u044C \u0442\u0430\u0431\u043B\u0438\u0446\u0456"},vi:{"keyboard.tooltip.functions":"Ch\u1EE9c n\u0103ng","keyboard.tooltip.symbols":"K\xFD hi\u1EC7u","keyboard.tooltip.greek":"Ch\u1EEF Hy L\u1EA1p","keyboard.tooltip.command":"Ch\u1EBF \u0111\u1ED9 l\u1EC7nh LaTeX","keyboard.tooltip.numeric":"S\u1ED1","keyboard.tooltip.roman":"Ch\u1EEF c\xE1i La m\xE3","tooltip.copy to clipboard":"Sao ch\xE9p v\xE0o clipboard","tooltip.redo":"L\xE0m l\u1EA1i","tooltip.toggle virtual keyboard":"Chuy\u1EC3n \u0111\u1ED5i b\xE0n ph\xEDm \u1EA3o","tooltip.undo":"Ho\xE0n t\xE1c","menu.insert matrix":"Ch\xE8n ma tr\u1EADn","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"D\u1EA5u ph\xE2n c\xE1ch ma tr\u1EADn","menu.array.add row above":"Th\xEAm h\xE0ng sau","menu.array.add row below":"Th\xEAm h\xE0ng tr\u01B0\u1EDBc","menu.array.add column after":"Th\xEAm c\u1ED9t sau","menu.array.add column before":"Th\xEAm c\u1ED9t tr\u01B0\u1EDBc","menu.array.delete row":"X\xF3a h\xE0ng","menu.array.delete rows":"X\xF3a h\xE0ng \u0111\xE3 ch\u1ECDn","menu.array.delete column":"X\xF3a c\u1ED9t","menu.array.delete columns":"X\xF3a c\xE1c c\u1ED9t \u0111\xE3 ch\u1ECDn","submenu.array.insert separator":"Ch\xE8n d\u1EA5u ph\xE2n c\xE1ch","menu.insert table":"Ch\xE8n b\u1EA3ng","submenu.table style":"Ki\u1EC3u b\u1EA3ng"},zh_cn:{"keyboard.tooltip.functions":"\u804C\u80FD","keyboard.tooltip.symbols":"\u7B26\u53F7","keyboard.tooltip.greek":"\u5E0C\u814A\u5B57\u6BCD","keyboard.tooltip.command":"\u4E73\u80F6 \u547D\u4EE4\u6A21\u5F0F","keyboard.tooltip.numeric":"\u6570\u5B57","keyboard.tooltip.roman":"\u7F57\u9A6C\u5B57\u6BCD","tooltip.copy to clipboard":"\u590D\u5236\u5230\u526A\u8D34\u677F","tooltip.redo":"\u91CD\u505A","tooltip.toggle virtual keyboard":"\u5207\u6362\u865A\u62DF\u952E\u76D8","tooltip.undo":"\u64A4\u6D88","menu.insert matrix":"\u63D2\u5165\u77E9\u9635","menu.insert vector":"\u63D2\u5165\u5411\u91CF","submenu.array.matrix delimiters":"\u77E9\u9635\u5206\u9694\u7B26","menu.array.add row above":"\u5728\u540E\u9762\u6DFB\u52A0\u884C","menu.array.add row below":"\u5728\u524D\u9762\u6DFB\u52A0\u884C","menu.array.add column after":"\u5728\u540E\u9762\u6DFB\u52A0\u5217r","menu.array.add column before":"\u5728\u524D\u9762\u6DFB\u52A0\u5217","menu.array.delete row":"\u5220\u9664\u884C","menu.array.delete rows":"\u5220\u9664\u9009\u5B9A\u884C","menu.array.delete column":"\u5220\u9664\u5217","menu.array.delete columns":"\u5220\u9664\u9009\u5B9A\u7684\u5217","submenu.array.insert separator":"\u63D2\u5165\u5206\u9694\u7B26","menu.insert table":"\u63D2\u5165\u8868\u683C","submenu.table style":"\u8868\u683C\u6837\u5F0F"},zh_tw:{"keyboard.tooltip.functions":"\u8077\u80FD","keyboard.tooltip.symbols":"\u7B26\u865F","keyboard.tooltip.greek":"\u5E0C\u81D8\u5B57\u6BCD","keyboard.tooltip.command":"\u4E73\u81A0\u547D\u4EE4\u6A21\u5F0F","keyboard.tooltip.numeric":"\u6578\u5B57","keyboard.tooltip.roman":"\u7F85\u99AC\u5B57\u6BCD","tooltip.copy to clipboard":"\u8907\u88FD\u5230\u526A\u8CBC\u677F","tooltip.redo":"\u91CD\u505A","tooltip.toggle virtual keyboard":"\u5207\u63DB\u865B\u64EC\u9375\u76E4","tooltip.undo":"\u64A4\u6D88","menu.insert matrix":"\u63D2\u5165\u77E9\u9663","menu.insert vector":"\u63D2\u5165\u5411\u91CF","submenu.array.matrix delimiters":"\u77E9\u9663\u5206\u9694\u7B26","menu.array.add row above":"\u5728\u5F8C\u9762\u6DFB\u52A0\u884C","menu.array.add row below":"\u5728\u524D\u9762\u6DFB\u52A0\u884C","menu.array.add column after":"\u5728\u5F8C\u9762\u6DFB\u52A0\u5217","menu.array.add column before":"\u5728\u524D\u9762\u6DFB\u52A0\u5217","menu.array.delete row":"\u522A\u9664\u884C","menu.array.delete rows":"\u522A\u9664\u9078\u5B9A\u884C","menu.array.delete column":"\u522A\u9664\u5217","menu.array.delete columns":"\u522A\u9664\u9078\u5B9A\u7684\u5217","submenu.array.insert separator":"\u63D2\u5165\u5206\u9694\u7B26","menu.insert table":"\u63D2\u5165\u8868\u683C","submenu.table style":"\u8868\u683C\u6A23\u5F0F"}},_locale:"",get locale(){return we._locale||(we._locale=me()?navigator.language.slice(0,5):"en"),we._locale},set locale(t){we._locale=t},merge(t,e){if(t&&e){const i=we._locale;we.locale=t,we.strings[t]={...we.strings[t],...e},we.locale=i}else if(t&&!e)for(const i of Object.keys(t))we.merge(i,t[i])}};function $n(t){if(t===void 0)return;const e=we.locale.slice(0,2);let i="";return we.strings[we.locale]&&(i=we.strings[we.locale][t]),!i&&we.strings[e]&&(i=we.strings[e][t]),i||(i=we.strings.en[t]),i||void 0}function Pi(){const t={registers:{},smartFence:!1,fractionNavigationOrder:"numerator-denominator",placeholderSymbol:"\u25A2",letterShapeStyle:we.locale.startsWith("fr")?"french":"tex",colorMap:ra,backgroundColorMap:jo,getDefinition:Go,getMacro:e=>jl(e,Nl())};return{...t,registers:Rl(t)}}function Go(t,e="math"){if(!t||t.length===0)return null;let i=null;if(t.startsWith("\\")){if(i=jt[t],i)return i;e==="math"?i=Vt[t]:Yt[t]&&(i={definitionType:"symbol",type:"mord",codepoint:Yt[t]})}else if(e==="math"){if(i=Vt[t],!i&&t.length===1){const n=Ir("math",t.codePointAt(0));return n.startsWith("\\")?{...Go(n,"math"),command:n}:null}}else Yt[t]?i={definitionType:"symbol",type:"mord",codepoint:Yt[t]}:e==="text"&&(i={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return!i||i.definitionType!=="symbol"||i.type!=="mord"||i.codepoint!==102&&i.codepoint!==103&&i.codepoint!==104||(i.isFunction=!0),i!=null?i:null}function jl(t,e){return t.startsWith("\\")?e[t.slice(1)]:null}const ac={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},Ms={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^\u2019\u2018]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},Hl=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,oc=[/^[a-z]$/,/^[A-Z]$/,Hl,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],sc={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]};function Fa(t){if(!t)return"";const{style:e}=t;if(e.variant===void 0)return"";let i=e.variant;return e.variantStyle&&e.variantStyle!=="up"&&(i+="-"+e.variantStyle),i}function Ki(t){return[Te(t.map(e=>e[0])),t.map(e=>e[1]).some(e=>e===!0)]}new class extends Mt{constructor(){super("math")}createAtom(t,e,i){var n,r,a,o,l;const s=e.getDefinition(t,"math");if(s===null)return new V("mord",e,{mode:"math",command:t,value:t,style:i});if(s.definitionType==="symbol"){const c=new V((n=s.type)!==null&&n!==void 0?n:"mord",e,{mode:"math",command:(r=s.command)!==null&&r!==void 0?r:t,value:String.fromCodePoint(s.codepoint),style:i});return(a=s.isFunction)!==null&&a!==void 0&&a&&(c.isFunction=!0),t.startsWith("\\")&&(c.verbatimLatex=t),c}const u=new V("mord",e,{mode:"math",command:(o=s.command)!==null&&o!==void 0?o:t,value:t,style:i});return(l=s.isFunction)!==null&&l!==void 0&&l&&(u.isFunction=!0),t.startsWith("\\")&&(u.verbatimLatex=t),u}serialize(t,e){const{parent:i}=t[0],n=i==null?void 0:i.computedStyle.fontSize;return Te(Ct(t,"fontSize").map(r=>{const a=function(l,s){const{parent:u}=l[0],c=u==null?void 0:u.computedStyle.backgroundColor;return Te(Ct(l,"backgroundColor").map(d=>{var p,h;let f=function(w,k){const{parent:_}=w[0],M=_==null?void 0:_.computedStyle.color;return Te(Ct(w,"color").map(S=>{var I,D;const F=function(Q,z){var O;const{parent:ie}=Q[0],qe=Fa(ie),ge=(O=ie==null?void 0:ie.mode)!==null&&O!==void 0?O:"math";return Te(Ct(Q,"variant").map(ee=>{const Z=Fa(ee[0]);if(ee.every(pe=>{const Pe=pe.context.getDefinition(pe.command,ge);return!(!Pe||Pe.definitionType==="function"||!Pe.variant)&&Fa(pe)===Z}))return Te(ee.map(pe=>V.serialize(pe,z)));let de="";return Z&&Z!==qe&&(de={calligraphic:"\\mathcal{",fraktur:"\\mathfrak{","double-struck":"\\mathbb{",script:"\\mathscr{",monospace:"\\mathtt{","sans-serif":"\\mathsf{",normal:"\\mathrm{","normal-italic":"\\mathnormal{","normal-bold":"\\mathbf{","normal-bolditalic":"\\mathbfit{",ams:"","ams-italic":"\\mathit{","ams-bold":"\\mathbf{","ams-bolditalic":"\\mathbfit{",main:"","main-italic":"\\mathit{","main-bold":"\\mathbf{","main-bolditalic":"\\mathbfit{"}[Z]),de?de+Te(ee.map(pe=>V.serialize(pe,z)))+"}":Te(ee.map(pe=>V.serialize(pe,z)))}))}(S,k),R=S[0].computedStyle;return(I=k.skipStyles)!==null&&I!==void 0&&I||!R.color||_&&M===R.color?F:"\\textcolor{"+((D=R.verbatimColor)!==null&&D!==void 0?D:R.color)+"}{"+F+"}"}))}(d,s);const g=d[0].computedStyle;return(p=s.skipStyles)!==null&&p!==void 0&&p||!f.trim()||!g.backgroundColor||u&&c===g.backgroundColor||!(d.length>0)&&d[0]instanceof gi||(f=`\\ensuremath{${f}}`,f=`\\colorbox{${(h=g.verbatimBackgroundColor)!==null&&h!==void 0?h:g.backgroundColor}}{${f}}`),f}))}(r,e),o=r[0].computedStyle.fontSize;return!o||i&&n===o?a:"\\"+["","tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"][o]+" "+a}))}applyStyle(t,e){if(e.variant===void 0)return"";const i=e.letterShapeStyle!=="auto"&&e.letterShapeStyle?e.letterShapeStyle:"tex";let{variant:n}=e,{variantStyle:r}=e;n==="normal"&&!r&&/[\u00A3\u0131\u0237]/.test(t.value)&&(n="main",r="italic"),n!=="normal"||r||t.value.length!==1||oc.forEach((s,u)=>{s.test(t.value)&&sc[i][u]==="it"&&(r="italic")}),r==="up"&&(r=void 0);const a=r?n+"-"+r:n,[o,l]=ac[a];return Ms[n]&&!Ms[n].test(t.value)?(t.value=function(s,u,c){if(!/[A-Za-z\d]/.test(s)||!u&&!c)return s;const d=s.codePointAt(0);if(d===void 0)return s;for(const p of Ml)if((!u||p.variant===u)&&(!c||p.style===c)&&d>=p.offset&&d<p.offset+p.len){const h=p.start+d-p.offset;return String.fromCodePoint(lo[h]||h)}return s}(t.value,n,r),null):(Hl.test(t.value)&&(t.classes+=" lcGreek"),l&&(t.classes+=" "+l),o)}};const Ns={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};function Wl(t,e="math"){const i=Pi(),n=new V("root",i);return n.body=mt(t,i,{parseMode:e}),Ie(n)}function Zl(t){return Vr(t,{format:"ascii-math"})[1]}new class extends Mt{constructor(){super("text")}createAtom(t,e,i){const n=e.getDefinition(t,"text");return n&&n.definitionType==="symbol"?new Oi(t,String.fromCodePoint(n.codepoint),i!=null?i:{},e):null}serialize(t,e){var i;let[n,r]=function(a,o){return Ki(Ct(a,"backgroundColor").map(l=>{var s,u;const[c,d]=function(h,f){var g;if(!h||h.length===0)return["",!1];const w=(g=h[0].parent)===null||g===void 0?void 0:g.style.color;return Ki(Ct(h,"color").map(k=>{var _,M;const[S,I]=function(D,F){return function(R,Q){return Ki(Ct(R,"fontFamily").map(z=>{var O,ie;const[qe,ge]=function(Z,de){return Ki(Ct(Z,"fontSize").map(pe=>{var Pe,ze;const[zt,it]=function(ri,lr){return Ki(Ct(ri,"fontSeries").map($i=>{const[pt,ur]=function(va,ai){return Ki(Ct(va,"fontShape").map(oi=>{const[Ut,Sn]=function(xa,ka){return[Te(xa.map(_a=>V.serialize(_a,ka))),!0]}(oi,ai),{fontShape:si}=oi[0].style;return si==="it"?["\\textit{"+Ut+"}",!1]:si==="sl"?["\\textsl{"+Ut+"}",!1]:si==="sc"?["\\textsc{"+Ut+"}",!1]:si==="n"?["\\textup{"+Ut+"}",!1]:si?[`{\\fontshape{${oi[0].style.fontShape}}${Ut}`,!1]:[Ut,Sn]}))}($i,lr),{fontSeries:Zt}=$i[0].style;return Zt==="b"?[`\\textbf{${pt}}`,!1]:Zt==="l"?[`\\textlf{${pt}}`,!1]:Zt==="m"?[`\\textmd{${pt}}`,!1]:Zt?[`\\fontseries{${Zt}}${pt}`,!1]:[pt,ur]}))}(pe,de),wi=(ze=["","tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"][(Pe=pe[0].style.fontSize)!==null&&Pe!==void 0?Pe:""])!==null&&ze!==void 0?ze:"";return wi?[`{\\${wi} ${zt}}`,it]:[zt,it]}))}(z,Q),ee=(ie={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[(O=z[0].style.fontFamily)!==null&&O!==void 0?O:""])!==null&&ie!==void 0?ie:"";return ee?[`\\${ee}{${qe}}`,!1]:z[0].style.fontFamily?[`\\fontfamily{${z[0].style.fontFamily}}${qe}`,ge]:[qe,ge]}))}(D,F)}(k,f);return(_=f.skipStyles)!==null&&_!==void 0&&_||!k[0].style.color||k[0].style.color==="none"||w===k[0].style.color?[S,I]:[`\\textcolor{${(M=k[0].style.verbatimColor)!==null&&M!==void 0?M:k[0].style.color}}{${S}}`,!1]}))}(l,o),p=l[0].computedStyle;return(s=o.skipStyles)!==null&&s!==void 0&&s||!p.backgroundColor||p.backgroundColor==="none"?[c,d]:[`\\colorbox{${(u=p.verbatimBackgroundColor)!==null&&u!==void 0?u:p.backgroundColor}}{${c}}`,!1]}))}(t,e);return((i=e.skipModeCommand)!==null&&i!==void 0&&i)===!0&&(r=!1),r&&(n=`\\text{${n}}`),n}applyStyle(t,e){var i,n,r,a,o,l;const{fontFamily:s}=e;if(Ns[s]?t.classes+=(i=" "+Ns[s])!==null&&i!==void 0?i:"":s&&t.setStyle("font-family",s),e.fontShape&&(t.classes+=" ",t.classes+=(n={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!==null&&n!==void 0?n:""),e.fontSeries){const u=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);u&&(t.classes+=" ",t.classes+=(a={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(r=u[1])!==null&&r!==void 0?r:""])!==null&&a!==void 0?a:"",t.classes+=" ",t.classes+=(l={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(o=u[2])!==null&&o!==void 0?o:""])!==null&&l!==void 0?l:"")}return"Main-Regular"}},new class extends Mt{constructor(){super("latex")}createAtom(t,e,i){return new Oe(t,e)}serialize(t,e){return t.filter(i=>i instanceof Oe&&!i.isSuggestion).map(i=>i.value).join("")}applyStyle(){return null}};const Vi={latexToAsciiMath:Wl,asciiMathToLatex:Zl,FUNCTIONS:jt,MATH_SYMBOLS:Vt,TEXT_SYMBOLS:Yt,ENVIRONMENTS:Ro,DEFAULT_KEYBINDINGS:Bl,getKeybindingMarkup:Uo},_t={"\\ne":"<mo>&ne;</mo>","\\neq":"<mo>&neq;</mo>","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"\u2225","\\mid":"\u2223","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"\u27E8","\\rangle":"\u27E9","\\lfloor":"\u230A","\\rfloor":"\u230B","\\lceil":"\u2308","\\rceil":"\u2309","\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};function Dr(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Le(t,e){return t&&e.generateID?` extid="${t}"`:""}function lc(t,e,i){let n=!1;e=e!=null?e:t.atoms.length;let r="",a="";const o=t.atoms[t.index];return t.index<e&&(o.type==="mord"||o.type==="macro")&&!o.isDigit()&&(a=jr(o,i),t.index+=1),a.length>0&&(n=!0,r=a,t.lastType!=="mi"&&t.lastType!=="mn"&&t.lastType!=="mtext"&&t.lastType!=="fence"||/^<mo>(.*)<\/mo>$/.test(r)||(r=`<mo>&#8290;</mo>${r}`),a.endsWith(">f</mi>")||a.endsWith(">g</mi>")?(r+="<mo>&#x2061;</mo>",t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(r)?"mo":"mi",or(a,t,i)||(t.mathML+=r)),n}function Ul(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="msubsup"}function or(t,e,i){let n=e.atoms[e.index-1];if(!n||(n.superscript||n.subscript||(Ul(e)||function(l){return l.index<l.atoms.length&&l.atoms[l.index].subscript&&l.atoms[l.index].type==="msubsup"}(e))&&(n=e.atoms[e.index],e.index+=1),!n))return!1;const r=ye(n.superscript,0,0,i).mathML,a=ye(n.subscript,0,0,i).mathML;if(!r&&!a)return!1;let o="";return r&&a?o=`<msubsup>${t}${a}${r}</msubsup>`:r?o=`<msup>${t}${r}</msup>`:a&&(o=`<msub>${t}${a}</msub>`),e.mathML+=o,e.lastType="",!0}function uc(t,e,i){e=e!=null?e:t.atoms.length;const n=t.index;let r="";for(;t.index<e&&t.atoms[t.index].mode==="text";)r+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return r.length>0&&(t.mathML+=`<mtext ${Le(t.atoms[n].id,i)}
      >${r}</mtext>`,t.lastType="mtext",!0)}function cc(t,e,i){e=e!=null?e:t.atoms.length;const n=t.index;let r="",a=function(o){let l=-1,s=o.index,u=!1,c=!1;for(;s<o.atoms.length&&!u&&!c;){const d=o.atoms[s];u=!d.isDigit(),c=!u&&d.superscript!==void 0,s++}return c&&(l=s-1),l}(t);for(a>=0&&a<e&&(e=a);t.index<e&&t.atoms[t.index].isDigit();)r+=t.atoms[t.index].asDigit(),t.index+=1;return!(r.length<=0||(r="<mn"+Le(t.atoms[n].id,i)+">"+r+"</mn>",a<0&&Ul(t)&&(a=t.index,t.index+=1),or(r,t,i)||(t.mathML+=r,t.lastType="mn"),0))}function dc(t,e,i){let n=!1;e=e!=null?e:t.atoms.length;let r="",a="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let o=!1,l=0;const s=t.index;let u=-1,c=s+1;for(;c<e&&!o;)t.atoms[c].type==="mopen"?l+=1:t.atoms[c].type==="mclose"&&(l-=1),l===-1&&(o=!0,u=c),c+=1;o&&(r="<mrow>",r+=vn(t.atoms[s],i),r+=ye(t.atoms,s+1,u,i).mathML,r+=vn(t.atoms[u],i),r+="</mrow>",t.lastType!=="mi"&&t.lastType!=="mn"&&t.lastType!=="mfrac"&&t.lastType!=="fence"||(r=`<mo>&#8290;</mo>${r}`),t.index=u+1,or(r,t,i)&&(n=!0,t.lastType="",r=""),a="fence")}return r.length>0&&(n=!0,t.mathML+=r,t.lastType=a),n}function hc(t,e,i){let n=!1;e=e!=null?e:t.atoms.length;let r="",a="";const o=t.atoms[t.index];if(t.index<e&&(o.type==="mbin"||o.type==="mrel"))r+=jr(t.atoms[t.index],i),t.index+=1,a="mo";else if(t.index<e&&o.type==="mop"){if(o.subsupPlacement==="over-under"&&(o.superscript||o.subscript)){const l=vn(o,i);o.superscript&&o.subscript?(r+="<munderover>"+l,r+=ye(o.subscript,0,0,i).mathML,r+=ye(o.superscript,0,0,i).mathML,r+="</munderover>"):o.superscript?(r+="<mover>"+l,r+=ye(o.superscript,0,0,i).mathML,r+="</mover>"):(r+="<munder>"+l,r+=ye(o.subscript,0,0,i).mathML,r+="</munder>"),a="mo"}else{const l=t.atoms[t.index],s=l.value==="\\operatorname",u=s?'<mi class="MathML-Unit"'+Le(l.id,i)+">"+Jo(l.value)+"</mi>":vn(l,i);r+=u,s||/^<mo>(.*)<\/mo>$/.test(u)?a=s?"mi":"mo":(r+="<mo>&#x2061;</mo>",a="applyfunction")}t.lastType!=="mi"&&t.lastType!=="mn"||/^<mo>(.*)<\/mo>$/.test(r)||(r=`<mo>&#8290;</mo>${r}`),t.index+=1}return or(r,t,i)||r.length>0&&(n=!0,t.mathML+=r,t.lastType=a),n}function ye(t,e,i,n){const r={atoms:[],index:e!=null?e:0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")r.mathML=t.toString();else if(typeof t=="string")r.mathML=t;else if(t instanceof V)r.mathML=jr(t,n);else if(Array.isArray(t)){r.atoms=t;let a=0;for(i=i||(t?t.length:0);r.index<i;)if(uc(r,i,n)||cc(r,i,n)||lc(r,i,n)||hc(r,i,n)||dc(r,i,n))a+=1;else if(r.index<i){let o=jr(r.atoms[r.index],n);r.lastType==="mn"&&o.length>0&&r.atoms[r.index].type==="genfrac"&&(o="<mo>&#x2064;</mo>"+o),r.atoms[r.index].type==="genfrac"?r.lastType="mfrac":r.lastType="",r.index+=1,or(o,r,n)?a+=2:o.length>0&&(r.mathML+=o,a+=1)}a>1&&(r.mathML="<mrow>"+r.mathML+"</mrow>")}return r}function vn(t,e){let i="";const n=Jo(t.value);return n&&(i="<mo"+Le(t.id,e)+">"+n+"</mo>"),i}function Jo(t){if(!t)return"";if(typeof t=="string")return Dr(t);if(!Array.isArray(t)&&typeof t.body=="string")return Dr(t.body);let e="";for(const i of t)typeof i.value=="string"&&(e+=i.value);return Dr(e)}function jr(t,e){var i,n,r,a,o,l,s,u,c,d,p,h,f,g,w,k;const _={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB"},M={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"\u210F","\\cdotp":"\u22C5","\\ldots":"\u2026","\\cdots":"\u22EF","\\ddots":"\u22F1","\\vdots":"\u22EE","\\ldotp":"."},S={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5};let I,D,F,R,Q,z,O="",ie="",qe=(n={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",cmss:"sans-serif"}[(i=t.fontFamily)!==null&&i!==void 0?i:t.font])!==null&&n!==void 0?n:"";qe&&(qe=` mathvariant="${qe}"`);const{command:ge}=t;if(t.mode==="text")O=`<mi${Le(t.id,e)}>${t.value}</mi>`;else switch(t.type){case"first":case"line":case"overlap":case"msubsup":case"phantom":case"composition":case"rule":case"chem":case"error":break;case"group":case"root":O=_t[t.command]?_t[t.command]:ye(t.body,0,0,e).mathML;break;case"array":if((t.leftDelim&&t.leftDelim!=="."||t.rightDelim&&t.rightDelim!==".")&&(O+="<mrow>",t.leftDelim&&t.leftDelim!=="."&&(O+="<mo>"+(_t[t.leftDelim]||t.leftDelim)+"</mo>")),O+="<mtable",t.colFormat){for(O+=' columnalign="',F=0;F<t.colFormat.length;F++)t.colFormat[F].align&&(O+={l:"left",c:"center",r:"right"}[t.colFormat[F].align]+" ");O+='"'}for(O+=">",D=0;D<t.array.length;D++){for(O+="<mtr>",I=0;I<t.array[D].length;I++)O+="<mtd>"+ye(t.array[D][I],0,0,e).mathML+"</mtd>";O+="</mtr>"}O+="</mtable>",(t.leftDelim&&t.leftDelim!=="."||t.rightDelim&&t.rightDelim!==".")&&(t.rightDelim&&t.rightDelim!=="."&&(O+="<mo>"+(_t[t.leftDelim]||t.rightDelim)+"</mo>"),O+="</mrow>");break;case"genfrac":(t.leftDelim||t.rightDelim)&&(O+="<mrow>"),t.leftDelim&&t.leftDelim!=="."&&(O+="<mo"+Le(t.id,e)+">"+(_t[t.leftDelim]||t.leftDelim)+"</mo>"),t.hasBarLine?(O+="<mfrac>",O+=ye(t.above,0,0,e).mathML||"<mi>&nbsp;</mi>",O+=ye(t.below,0,0,e).mathML||"<mi>&nbsp;</mi>",O+="</mfrac>"):(O+="<mtable"+Le(t.id,e)+">",O+="<mtr>"+ye(t.above,0,0,e).mathML+"</mtr>",O+="<mtr>"+ye(t.below,0,0,e).mathML+"</mtr>",O+="</mtable>"),t.rightDelim&&t.rightDelim!=="."&&(O+="<mo"+Le(t.id,e)+">"+(_t[t.rightDelim]||t.rightDelim)+"</mo>"),(t.leftDelim||t.rightDelim)&&(O+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(O+="<msqrt"+Le(t.id,e)+">",O+=ye(t.body,0,0,e).mathML,O+="</msqrt>"):(O+="<mroot"+Le(t.id,e)+">",O+=ye(t.body,0,0,e).mathML,O+=ye(t.above,0,0,e).mathML,O+="</mroot>");break;case"leftright":O="<mrow>",t.leftDelim&&t.leftDelim!=="."&&(O+="<mo"+Le(t.id,e)+">"+((r=_t[t.leftDelim])!==null&&r!==void 0?r:t.leftDelim)+"</mo>"),t.body&&(O+=ye(t.body,0,0,e).mathML),t.rightDelim&&t.rightDelim!=="."&&(O+="<mo"+Le(t.id,e)+">"+((a=_t[t.rightDelim])!==null&&a!==void 0?a:t.rightDelim)+"</mo>"),O+="</mrow>";break;case"sizeddelim":case"delim":O+='<mo separator="true"'+Le(t.id,e)+">"+(_t[t.delim]||t.delim)+"</mo>";break;case"accent":O+='<mover accent="true"'+Le(t.id,e)+">",O+=ye(t.body,0,0,e).mathML,O+="<mo>"+(_t[ge]||t.accent)+"</mo>",O+="</mover>";break;case"overunder":Q=t.above,R=t.below,(t.svgAbove||Q)&&(t.svgBelow||R)?z=t.body:Q&&Q.length>0?(z=t.body,!((l=(o=t.body)===null||o===void 0?void 0:o[0])===null||l===void 0)&&l.below?(R=t.body[0].below,z=t.body[0].body):((u=(s=t.body)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.type)==="first"&&((d=(c=t.body)===null||c===void 0?void 0:c[1])===null||d===void 0?void 0:d.below)&&(R=t.body[1].below,z=t.body[1].body)):R&&R.length>0&&(z=t.body,!((h=(p=t.body)===null||p===void 0?void 0:p[0])===null||h===void 0)&&h.above?(Q=t.body[0].above,z=t.body[0].body):((g=(f=t.body)===null||f===void 0?void 0:f[0])===null||g===void 0?void 0:g.type)==="first"&&((k=(w=t.body)===null||w===void 0?void 0:w[1])===null||k===void 0?void 0:k.above)&&(Q=t.body[1].overscript,z=t.body[1].body)),(t.svgAbove||Q)&&(t.svgBelow||R)?(O+=`<munderover ${qe} ${Le(t.id,e)}>`,O+=_[t.svgBody]||ye(z,0,0,e).mathML,O+=_[t.svgBelow]||ye(R,0,0,e).mathML,O+=_[t.svgAbove]||ye(Q,0,0,e).mathML,O+="</munderover>"):t.svgAbove||Q?(O+=`<mover ${qe} ${Le(t.id,e)}>`+(_[t.svgBody]||ye(z,0,0,e).mathML),O+=_[t.svgAbove]||ye(Q,0,0,e).mathML,O+="</mover>"):(t.svgBelow||R)&&(O+=`<munder ${qe} ${Le(t.id,e)}>`+(_[t.svgBody]||ye(z,0,0,e).mathML),O+=_[t.svgBelow]||ye(R,0,0,e).mathML,O+="</munder>");break;case"placeholder":case"mord":{O=M[ge]||ge||(typeof t.value=="string"?t.value:"");const ee=ge?ge.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null;ee?O="&#x"+ee[1]+";":O.length>0&&O.startsWith("\\")&&(O=typeof t.value=="string"&&t.value.charCodeAt(0)>255?"&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?t.value.charAt(0):"");const Z=/\d/.test(O)?"mn":"mi";O=`<${Z}${qe}${Le(t.id,e)}>${Dr(O)}</${Z}>`;break}case"mbin":case"mrel":case"minner":O=ge&&M[ge]?"<mi"+Le(t.id,e)+">"+M[ge]+"</mi>":ge&&_t[ge]?"<mo"+Le(t.id,e)+">"+_t[ge]+"</mo>":vn(t,e);break;case"mpunct":O='<mo separator="true"'+Le(t.id,e)+">"+(_t[ge]||ge)+"</mo>";break;case"mop":t.body!=="\u200B"&&(O="<mo"+Le(t.id,e)+">",O+=ge==="\\operatorname"?t.body:ge||t.body,O+="</mo>");break;case"box":O='<menclose notation="box"',t.backgroundcolor&&(O+=' mathbackground="'+t.backgroundcolor+'"'),O+=Le(t.id,e)+">"+ye(t.body,0,0,e).mathML+"</menclose>";break;case"spacing":O+='<mspace width="'+(S[ge]||0)+'em"/>';break;case"enclose":O='<menclose notation="';for(const ee in t.notation)Object.prototype.hasOwnProperty.call(t.notation,ee)&&t.notation[ee]&&(O+=ie+ee,ie=" ");O+=Le(t.id,e)+'">'+ye(t.body,0,0,e).mathML+"</menclose>";break;case"space":O+="&nbsp;";break;case"mopen":case"mclose":O+=vn(t,e);break;case"macro":{const ee=t.command+Jo(t.macroArgs);ee&&(O+=`<mo ${Le(t.id,e)}>${ee}</mo>`)}break;case"latex":O+="<mtext"+Le(t.id,e)+">"+t.value+"</mtext>"}return O}function ga(t,e){return ye(t,0,0,e).mathML}const Ri={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'<phoneme alphabet="ipa" ph="e\u026A">a</phoneme>',A:'capital <phoneme alphabet="ipa" ph="e\u026A">A</phoneme>',"+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","\u200B":"","\u2212":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"};function ji(t){let e=0;if(Ze(t))for(const i of t)i.type!=="first"&&(e+=1);return e===1}function Ls(t){let e="";if(Ze(t))for(const i of t)i.type!=="first"&&typeof i.value=="string"&&(e+=i.value);return e}function Ee(t,e,i){var n,r,a,o;function l(c){return"<emphasis>"+c+"</emphasis>"}if(!e)return"";let s="";if(Ze(e)){let c=!1,d=!1;for(let p=0;p<e.length;p++)e[p].mode!=="text"&&(d=!1),p<e.length-2&&e[p].type==="mopen"&&e[p+2].type==="mclose"&&e[p+1].type==="mord"?(s+=" of ",s+=l(Ee(t,e[p+1],i)),p+=2):e[p].mode==="text"?d?s+=(n=e[p].value)!==null&&n!==void 0?n:" ":(d=!0,s+=Ee("text",e[p],i)):e[p].isDigit()?c?s+=e[p].asDigit():(c=!0,s+=Ee(t,e[p],i)):(c=!1,s+=Ee(t,e[p],i))}else if(e.mode==="text")e.id&&t==="math"&&(s+='<mark name="'+e.id.toString()+'"/>'),s+=e.value;else{e.id&&t==="math"&&(s+='<mark name="'+e.id.toString()+'"/>');let c="",d="",p="",h=!1;switch(e.type){case"group":case"root":s+=Ee("math",e.body,i);break;case"genfrac":if(c=Ee("math",e.above,i),d=Ee("math",e.below,i),ji(e.above)&&ji(e.below)){const f={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[Ls(e.above)+"/"+Ls(e.below)];f?s=f:s+=c+" over "+d}else s+=' the fraction <break time="150ms"/>'+c+', over <break time="150ms"/>'+d+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(p=Ee("math",e.body,i),e.hasEmptyBranch("above"))s+=ji(e.body)?" the square root of "+p+" , ":' the square root of <break time="200ms"/>'+p+'. <break time="200ms"/> End square root';else{let f=Ee("math",e.above,i);f=f.trim();const g=f.replace(/<mark([^/]*)\/>/g,"");s+=g==="3"?' the cube root of <break time="200ms"/>'+p+'. <break time="200ms"/> End cube root':g==="n"?' the nth root of <break time="200ms"/>'+p+'. <break time="200ms"/> End root':' the root with index: <break time="200ms"/>'+f+', of <break time="200ms"/>'+p+'. <break time="200ms"/> End root'}break;case"leftright":{const f=e;s+=(r=f.leftDelim?Ri[f.leftDelim]:void 0)!==null&&r!==void 0?r:f.leftDelim,s+=Ee("math",e.body,i),s+=(a=f.rightDelim?Ri[f.rightDelim]:void 0)!==null&&a!==void 0?a:f.rightDelim}break;case"rule":case"overunder":case"overlap":break;case"placeholder":s+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{const{command:f}=e;if(f==="\\mathbin"||f==="\\mathrel"||f==="\\mathopen"||f==="\\mathclose"||f==="\\mathpunct"||f==="\\mathord"||f==="\\mathinner"){s=Ee(t,e.body,i);break}let g=e.isDigit()?e.asDigit():e.value,w=e.command;if(e.type!=="delim"&&e.type!=="sizeddelim"||(w=e.value,g=w),t==="text")s+=g;else{if(e.type==="mbin"&&(s+='<break time="150ms"/>'),g){const k=Ri[g]||(w?Ri[w.trim()]:"");if(k)s+=" "+k;else{const _=w?function(M){let S="";return M.startsWith("\\")&&(S=" "+M.replace("\\","")+" "),S}(w.trim()):"";s+=_||function(M){return i.textToSpeechMarkup?/[a-z]/.test(M)?` <say-as interpret-as="character">${M}</say-as>`:/[A-Z]/.test(M)?`capital <say-as interpret-as="character">${M.toLowerCase()}</say-as>`:M:/[a-z]/.test(M)?" '"+M.toUpperCase()+"'":/[A-Z]/.test(M)?" 'capital "+M.toUpperCase()+"'":M}(g)}}else s+=Ee("math",e.body,i);e.type==="mbin"&&(s+='<break time="150ms"/>')}break}case"mop":if(e.value!=="\u200B"){const f=e.command;if(f==="\\sum")if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))if(e.hasEmptyBranch("subscript"))s+=" the summation of";else{let g=Ee("math",e.subscript,i);g=g.trim(),s+=' the summation from <break time="200ms"/>'+g+'<break time="200ms"/> of <break time="150ms"/>',h=!0}else{let g=Ee("math",e.superscript,i);g=g.trim();let w=Ee("math",e.subscript,i);w=w.trim(),s+=' the summation from <break time="200ms"/>'+w+'<break time="200ms"/> to  <break time="200ms"/>'+g+'<break time="200ms"/> of <break time="150ms"/>',h=!0}else if(f==="\\prod")if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))if(e.hasEmptyBranch("subscript"))s+=" the product  of ";else{let g=Ee("math",e.subscript,i);g=g.trim(),s+=' the product from <break time="200ms"/>'+g+'<break time="200ms"/> of <break time="150ms"/>',h=!0}else{let g=Ee("math",e.superscript,i);g=g.trim();let w=Ee("math",e.subscript,i);w=w.trim(),s+=' the product from <break time="200ms"/>'+w+'<break time="200ms"/> to <break time="200ms"/>'+g+'<break time="200ms"/> of <break time="150ms"/>',h=!0}else if(f==="\\int")if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))s+=' the integral of <break time="200ms"/> ';else{let g=Ee("math",e.superscript,i);g=g.trim();let w=Ee("math",e.subscript,i);w=w.trim(),s+=' the integral from <break time="200ms"/>'+l(w)+'<break time="200ms"/> to <break time="200ms"/>'+l(g)+' <break time="200ms"/> of ',h=!0}else typeof e.value=="string"?s+=((o=Ri[e.value])!==null&&o!==void 0?o:e.command?Ri[e.command]:void 0)||" "+e.value:e.command&&(e.command==="\\mathop"?s+=Ee("math",e.body,i):e.command==="\\operatorname"?s+=(u=e.body)?u.map(g=>g.value).join(""):"":s+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":p=Ee("math",e.body,i),s+=ji(e.body)?" crossed out "+p+" , ":" crossed out "+p+". End cross out"}if(!h&&!e.hasEmptyBranch("superscript")){let f=Ee(t,e.superscript,i);f=f.trim();const g=f.replace(/<[^>]*>/g,"");if(ji(e.superscript)){if(t==="math"){const w=function(k){if(Ze(k)){for(const _ of k)if(_.type!=="first"&&_.id)return _.id.toString()}return""}(e.superscript);w&&(s+='<mark name="'+w+'"/>')}g==="\u2032"?s+=" prime ":g==="2"?s+=" squared ":g==="3"?s+=" cubed ":Number.isNaN(Number.parseInt(g))?s+=" to the "+f+"; ":s+=' to the <say-as interpret-as="ordinal">'+g+"</say-as> power; "}else Number.isNaN(Number.parseInt(g))?s+=" raised to the "+f+"; ":s+=' raised to the <say-as interpret-as="ordinal">'+g+"</say-as> power; "}if(!h&&!e.hasEmptyBranch("subscript")){let f=Ee("math",e.subscript,i);f=f.trim(),s+=ji(e.subscript)?" sub "+f:" subscript "+f+". End subscript. "}}var u;return s}function hn(t,e){var i;const n={...e,textToSpeechRulesOptions:{...e.textToSpeechRulesOptions}};if(n.textToSpeechRules==="sre"&&me()&&"sre"in window){const a=ga(t,n);return a?(n.textToSpeechMarkup&&(n.textToSpeechRulesOptions=(i=n.textToSpeechRulesOptions)!==null&&i!==void 0?i:{},n.textToSpeechRulesOptions.markup=n.textToSpeechMarkup,n.textToSpeechRulesOptions.markup==="ssml"&&(n.textToSpeechRulesOptions.markup="ssml_step"),n.textToSpeechRulesOptions.rate=n.speechEngineRate),n.textToSpeechRulesOptions&&window.sre.System.getInstance().setupEngine(n.textToSpeechRulesOptions),window.sre.System.getInstance().toSpeech(a)):""}let r=Ee("math",t,n);if(n.textToSpeechMarkup==="ssml"){let a="";n.speechEngineRate&&(a='<prosody rate="'+n.speechEngineRate+'">'),r='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+a+"<p><s>"+r+"</s></p>"+(a?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else r=n.textToSpeechMarkup==="mac"&&gn()==="macos"?r.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):r.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return r}function j(t,e,i=3e3,n="$0"){for(const r of e)Vt[r]&&(Vt[r].frequency=i,Vt[r].category=t,Vt[r].template=n.replace(/\$0/g,r)),jt[r]&&(jt[r]={...jt[r],frequency:i,category:t,template:n.replace(/\$0/g,r)})}j("Trigonometry",["\\cos","\\sin","\\tan"],4e3),j("Trigonometry",["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\lg","\\lb","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th"],2e3),j("Functions",["\\ln","\\log","\\exp","\\lim"],4e3),j("Functions",["\\dim","\\ker","\\deg","\\det","\\mod","\\min","\\max"],3e3),j("Functions",["\\hom"],1200),j("Decoration",["\\rule"],200,"$0{2em}{1em}"),j("Decoration",["\\color","\\textcolor"],200,"{$0{m0}A}{$0{m1}B}{$0{m2}C }{$0{m3}a}{$0{m4}b}{$0{m5}c}{$0{m6}8}"),j("Decoration",["\\overline","\\underline"],3e3,"$0{\\placeholder{}}"),j("Decoration",["\\enclose"],1200,'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground="#fbc0bd"]{x=0}'),j("Decoration",["\\fcolorbox"],1200,'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}'),j("Decoration",["\\colorbox"],1200,'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}'),j("Decoration",["\\boxed","\\cancel","\\bcancel","\\xcancel"],1200,"$0{\\placeholder{}}"),j("Decoration",["\\bbox"],1200,'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}'),j("Styling",["\\mathbb"],4e3,"$0{Don Knuth}"),j("Styling",["\\textbf","\\textup","\\textit","\\textrm","\\textsf","\\texttt","\\textnormal","\\textmd","\\textsl","\\textsc","\\mathsf","\\mathtt","\\mathrm","\\mathfrak","\\mathcal","\\mathscr","\\mathbf","\\mathmd","\\mathit","\\text","\\mbox","\\Bbb","\\bold","\\bm","\\boldsymbol"],3e3,"$0{Don Knuth}"),j("Styling",["\\frak","\\tt","\\bf","\\it","\\rmfamily","\\sffamily","\\ttfamily","\\class","\\cssId","\\htmlData","\\htmlStyle"],1200,"{$0 Don Knuth}"),j("Styling",["\\bfseries","\\mdseries","\\upshape","\\slshape","\\scshape"],1200,"\\text{$0 Don Knuth}"),j("Styling",["\\class","\\cssId"],1200,"$0{testIdentifier}{Don Knuth}"),j("Styling",["\\fontseries"],1200,"\\text{$0{b}Don Knuth}"),j("Styling",["\\fontfamily"],1200,"\\text{$0{cmtt}Don Knuth}"),j("Styling",["\\fontshape"],1200,"\\text{$0{sc}Don Knuth}"),j("Styling",["\\selectfont"],1200,"\\text{$0}"),j("Styling",["\\emph"],1200,"Don$0{Knuth}"),j("Styling",["\\em"],1200,"Don{$0 Knuth}"),j("Layout",["\\mathop","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathord","\\mathinner","\\operatorname","\\operatorname*"],1200,"x=$0{arg}=0"),j("Layout",["\\middle"],1200,"\\left\\{x$0|x>0\\right\\}"),j("Layout",["\\overset","\\underset","\\stackrel","\\stackbin"],1200,"$0{arg}{x=0}"),j("Layout",["\\rlap","\\mathrlap"],1200,"$0{/}0"),j("Layout",["\\llap","\\mathllap"],1200,"o$0{/}"),j("Fractions",["\\frac"],4e3,"$0{\\placeholder{}}{\\placeholder{}}"),j("Fractions",["\\binom","\\dfrac","\\tfrac","\\dbinom","\\tbinom","\\pdiff","\\cfrac"],1200,"$0{\\placeholder{}}{\\placeholder{}}"),j("Fractions",["\\over","\\atop","\\choose"],1200,'\\unicode{"2B1A} $0 \\unicode{"2B1A}'),j("Fractions",["\\overwithdelims","\\atopwithdelims"],1200,'{\\unicode{"2B1A} $0{\\lbrace}{\\rbrace} \\unicode{"2B1A}}'),j("Extensible Operators",["\\sum","\\prod","\\bigcap","\\bigcup","\\int"],4e3),j("Extensible Operators",["\\bigoplus","\\smallint","\\iint","\\oint"],3e3),j("Extensible Operators",["\\bigwedge","\\bigvee","\\coprod","\\bigsqcup","\\bigotimes","\\bigodot","\\biguplus","\\intop","\\sqcup","\\sqcap","\\uplus","\\wr","\\Cap","\\Cup","\\doublecap","\\doublecup","\\amalg","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"],1200),j("Accents",["\\vec"],4e3),j("Accents",["\\bar","\\ddot","\\acute","\\tilde","\\check"],3e3,"$0{\\placeholder{}}"),j("Accents",["\\^","\\`","\\'"],1200,"$0{e}"),j("Accents",["\\c"],1200,"$0{c}"),j("Accents",["\\~"],1200,"$0{n}"),j("Accents",["\\mathring","\\hat","\\dot","\\breve","\\grave"],1200,"$0{\\placeholder{}}"),j("Extensible Symbols",["\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftharpoon","\\overrightharpoon","\\overleftrightarrow","\\overbrace","\\overlinesegment","\\overgroup","\\widehat","\\widecheck","\\widetilde"],3e3,"$0{ABC}"),j("Extensible Symbols",["\\underrightarrow","\\underleftarrow","\\underleftrightarrow","\\underbrace","\\underlinesegment","\\undergroup","\\utilde"],3e3,"$0{ABC}"),j("Sizing",["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],1200,"$0{x=0}"),j("Sizing",["\\big","\\Big","\\bigg","\\Bigg"],1200,"$0($0)"),j("Sizing",["\\bigl","\\Bigl","\\biggl","\\Biggl"],1200,"$0("),j("Sizing",["\\bigr","\\Bigr","\\biggr","\\Biggr"],1200,"$0)"),j("Sizing",["\\bigm","\\Bigm","\\biggm","\\Biggm"],1200,"$0|"),j("Letterlike Symbols",["\\nabla","\\partial","\\N","\\R","\\Q","\\C","\\Z","\\exponentialE","\\forall","\\exists","\\nexists"],4e3),j("Letterlike Symbols",["\\doubleStruckCapitalP","\\P","\\ell","\\hbar","\\hslash","\\imath","\\jmath","\\imaginaryI","\\imaginaryJ","\\differentialD","\\rd","\\capitalDifferentialD","\\doubleStruckCapitalN","\\doubleStruckCapitalR","\\doubleStruckCapitalQ","\\doubleStruckCapitalC","\\doubleStruckCapitalZ","\\rD","\\differencedelta","\\mid","@","\\Re","\\Im","\\$","\\%","\\And","\\degree"],3e3),j("Letterlike Symbols",["\\top","\\bot","\\scriptCapitalE","\\scriptCapitalH","\\scriptCapitalL","\\gothicCapitalC","\\gothicCapitalH","\\gothicCapitalI","\\gothicCapitalR","\\Bbbk","\\Finv","\\Game","\\wp","\\eth","\\mho","\\pounds","\\yen","\\euro"],1200),j("Crosses",["\\dagger","\\dag"],4e3),j("Crosses",["\\ddag","\\ddagger","\\maltese","\\textdagger","\\textdaggerdbl"],1200),j("Various",["\\checkmark","\\diagup","\\diagdown","\\angle","\\measuredangle","\\sphericalangle","\\prime","\\doubleprime","\\backprime","\\backdoubleprime","\\sharp","\\flat","\\natural","\\&","\\#","\\clubsuit","\\spadesuit","\\diamondsuit","\\heartsuit","\\backslash","\\infty","/","\\_","\\/","|","'"],1200),j("Various",["\\unicode"],1200,'$0{"2B1A}'),j("Arrows",["\\longrightarrow","\\rightarrow","\\Longrightarrow","\\Rightarrow"],4e3),j("Arrows",["\\longmapsto","\\mapsto","\\Longleftrightarrow","\\rightleftarrows","\\leftarrow","\\curvearrowleft","\\uparrow","\\downarrow","\\hookrightarrow","\\rightharpoonup","\\rightleftharpoons"],3e3),j("Arrows",["\\Leftarrow","\\longleftrightarrow","\\longleftarrow","\\Longleftarrow","\\searrow","\\nearrow","\\swarrow","\\nwarrow","\\Uparrow","\\Downarrow","\\updownarrow","\\Updownarrow","\\hookleftarrow","\\leftharpoonup","\\leftharpoondown","\\rightharpoondown","\\leftrightarrows","\\dashrightarrow","\\dashleftarrow","\\leftleftarrows","\\Lleftarrow","\\twoheadleftarrow","\\leftarrowtail","\\looparrowleft","\\leftrightharpoons","\\circlearrowleft","\\Lsh","\\upuparrows","\\downharpoonleft","\\multimap","\\leftrightsquigarrow","\\twoheadrightarrow","\\rightarrowtail","\\looparrowright","\\curvearrowright","\\circlearrowright","\\Rsh","\\downdownarrows","\\upharpoonright","\\downharpoonright","\\rightsquigarrow","\\leadsto","\\Rrightarrow","\\restriction"],1200),j("Arrows",["\\upharpoonleft","\\rightrightarrows"],0),j("Negated Arrows",["\\nrightarrow","\\nRightarrow","\\nleftrightarrow","\\nLeftrightarrow","\\nleftarrow","\\nLeftarrow"],1200),j("Extensible Symbols",["\\xrightarrow","\\xleftarrow","\\xRightarrow","\\xLeftarrow","\\xleftharpoonup","\\xleftharpoondown","\\xrightharpoonup","\\xrightharpoondown","\\xlongequal","\\xtwoheadleftarrow","\\xtwoheadrightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xrightleftharpoons","\\xleftrightharpoons","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],1200,"$0[below]{above}=0"),j("Negated Relations",["\\nless","\\nleqslant","\\lneq","\\lneqq","\\nleqq","\\unlhd","\\unrhd","\\lvertneqq","\\lnsim","\\lnapprox","\\nprec","\\npreceq","\\precnsim","\\precnapprox","\\nsim","\\nshortmid","\\nmid","\\nvdash","\\nvDash","\\ngtr","\\ngeqslant","\\ngeqq","\\gneq","\\gneqq","\\gvertneqq","\\gnsim","\\nsucc","\\succnsim","\\ncong","\\nshortparallel","\\nparallel","\\nVDash","\\nVdash","\\precneqq","\\succneqq","\\gnapprox","\\succnapprox","\\nsucceq"],1200),j("Hebrew",["\\aleph","\\beth","\\daleth","\\gimel"],1200),j("Fences",["\\lbrace","\\rbrace","\\vert","\\Vert","\\{","\\}","(",")","[","]"],4e3),j("Fences",["\\langle","\\rangle","\\lfloor","\\rfloor","\\lceil","\\rceil","\\mvert","\\|","\\mVert"],3e3),j("Fences",["\\lvert","\\rvert","\\lVert","\\rVert","\\lbrack","\\rbrack","\\ulcorner","\\urcorner","\\llcorner","\\lrcorner","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],1200),j("Relations",["=","\\ne","\\neq","<",">","\\leqslant","\\geqslant","\\approx"],4e3),j("Relations",["\\lt","\\gt","\\le","\\ge","\\leq","\\geq","\\gg","\\cong","\\equiv","\\prec","\\preceq","\\succ","\\perp","\\parallel","\\propto","\\smile","\\frown","\\sim","\\gtrsim"],3e3),j("Relations",["\\coloneq","\\succeq","\\approxeq","\\thickapprox","\\lessapprox","\\gtrapprox","\\precapprox","\\succapprox","\\thicksim","\\succsim","\\precsim","\\backsim","\\eqsim","\\backsimeq","\\simeq","\\lesssim","\\nleq","\\ngeq","\\smallsmile","\\smallfrown","\\bowtie","\\asymp","\\leqq","\\eqslantless","\\ll","\\lll","\\lessgtr","\\lesseqgtr","\\lesseqqgtr","\\risingdotseq","\\fallingdotseq","\\preccurlyeq","\\curlyeqprec","\\vDash","\\Vvdash","\\bumpeq","\\Bumpeq","\\geqq","\\eqslantgtr","\\ggg","\\gtrless","\\gtreqless","\\gtreqqless","\\succcurlyeq","\\curlyeqsucc","\\Vdash","\\shortmid","\\shortparallel","\\between","\\pitchfork","\\varpropto","\\backepsilon","\\llless","\\gggtr","\\lhd","\\rhd","\\Join","\\doteq","\\doteqdot","\\Doteq","\\eqcirc","\\circeq","\\lessdot","\\gtrdot","\\measeq","\\eqdef","\\questeq"],1200),j("Logic",["\\leftrightarrow","\\Leftrightarrow","\\to"],4e3),j("Logic",["\\models","\\vdash"],3e3),j("Logic",["\\therefore","\\because","\\implies","\\gets","\\dashv","\\impliedby","\\biconditional","\\roundimplies"],1200),j("Operators",["+","-","*","\\cdot"],4e3),j("Operators",["\\sqrt"],4e3,"$0{\\placeholder{}}"),j("Operators",["\\pm","\\mp","\\times","\\div","\\surd"],3e3),j("Operators",["\\ltimes","\\rtimes","\\leftthreetimes","\\rightthreetimes","\\intercal","\\dotplus","\\centerdot","\\doublebarwedge","\\divideontimes","\\divides"],1200),j("Logic",["\\wedge","\\vee","\\neg"],4e3),j("Logic",["\\lnot"],3e3),j("Logic",["\\land","\\lor","\\barwedge","\\veebar","\\nor","\\curlywedge","\\curlyvee"],1200),j("Greek",["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\varepsilon","\\zeta","\\eta","\\theta","\\vartheta","\\iota","\\kappa","\\varkappa","\\lambda","\\mu","\\nu","\\xi","\\pi","\\varpi","\\rho","\\varrho","\\sigma","\\varsigma","\\tau","\\phi","\\varphi","\\upsilon","\\chi","\\psi","\\omega","\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega","\\digamma","\\omicron"],3e3),j("Sets",["\\emptyset","\\varnothing","\\cap","\\cup","\\in","\\notin","\\subset","\\supset","\\subseteq","\\supseteq","\\sqsubseteq"],4e3),j("Sets",["\\setminus","\\not","\\ni","\\sqsupseteq","\\nsupseteqq","\\supsetneq","\\varsupsetneq","\\supsetneqq","\\varsupsetneqq"],3e3),j("Sets",["\\smallsetminus","\\complement","\\owns","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\varsubsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq","\\nsubseteqq","\\subseteqq","\\Subset","\\sqsubset","\\supseteqq","\\Supset","\\sqsupset"],1200),j("Spacing",["\\space, \\quad","\\qquad"],3e3,'\\unicode{"203A}$0\\unicode{"2039}'),j("Spacing",["\\!","\\,","\\:","\\;","\\enskip","\\enspace"],1200,'\\unicode{"203A}$0\\unicode{"2039}'),j("Spacing",["\\hspace","\\hspace*"],1200,'\\unicode{"203A}$0{1em}\\unicode{"2039}'),j("Punctuation",["\\colon","\\cdotp","\\ldots","\\cdots","\\ddots","\\vdots","?","!",":",'"',",",".",";"],3e3),j("Punctuation",["\\mathellipsis","\\ldotp","\\Colon"],1200),j("Boxes",["\\square","\\Box"],3e3),j("Boxes",["\\blacksquare","\\boxminus","\\boxplus","\\boxtimes","\\boxdot"],1200),j("Circles",["\\circ","\\bullet","\\circleddash","\\oplus","\\otimes"],3e3),j("Circles",["\\bigcirc","\\circledast","\\ominus","\\circledcirc","\\oslash","\\circledS","\\circledR","\\odot"],1200),j("Triangles",["\\triangle","\\triangleq"],3e3),j("Triangles",["\\bigtriangleup","\\vartriangle","\\triangledown","\\bigtriangledown","\\triangleleft","\\vartriangleleft","\\trianglelefteq","\\ntriangleleft","\\ntrianglelefteq","\\triangleright","\\vartriangleright","\\trianglerighteq","\\ntriangleright","\\ntrianglerighteq","\\blacktriangle","\\blacktriangledown","\\blacktriangleleft","\\blacktriangleright"],1200),j("Shapes",["\\ast","\\star"],3e3),j("Shapes",["\\diamond","\\Diamond","\\lozenge","\\blacklozenge","\\bigstar"],1200);var As='.ML__keyboard{--hue:206;--keyboard-background:rgba(209,213,217,.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul>li{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul>li{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul>li.is-active,.ML__keyboard.alternate-keys ul>li.is-pressed,.ML__keyboard.alternate-keys ul>li:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul>li.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul>li.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul>li.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul>li.box>div,.ML__keyboard.alternate-keys ul>li.box>span{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul>li .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul>li .warning.is-active,.ML__keyboard.alternate-keys ul>li .warning.is-pressed,.ML__keyboard.alternate-keys ul>li .warning:hover{background:red}.ML__keyboard.alternate-keys ul>li .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul>li aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;cursor:pointer;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;pointer-events:all;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;user-select:none;visibility:hidden;width:100%}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate>div.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate>div.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;min-width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{min-width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{max-width:100vw;min-width:365px;width:365px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled svg,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled:hover svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.is-active,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.is-pressed,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div:active,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate [data-tooltip]{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{background:#616161;border-radius:2px;bottom:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-tooltip);display:inline-table;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:inherit;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1) 1s;width:max-content;z-index:2}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{font-size:16px;padding:8px 16px}}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover:after{opacity:1;transform:scale(1)}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows>ul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li:hover{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap:active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier:active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier{background-color:var(--keycap-modifier-background);border-color:var(--keycap-modifier-border);border-bottom-color:var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li small{color:#555}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li aside{color:#666;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows>ul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows>ul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.action,.ML__keyboard .ML__keyboard--plate div .rows>ul>.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme=light]) .ML__keyboard{--hue:206;--keyboard-background:#4e6373;--keyboard-background:#4e6073;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}}body[theme=dark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar>div>div{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar>div>.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]:active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme=light]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme=dark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}';function Qe(t,e,i,n){const r=e.split(" ");for(const a of r){const o=a.match(/(.*):(.*)/);if(o){const l=n!=null?n:{};o[2]==="active"?l.passive=!1:l[o[2]]=!0,t.addEventListener(o[1],i,l)}else t.addEventListener(a,i,n)}}function It(t,e,i,n){const r=e.split(" ");for(const a of r){const o=a.match(/(.*):(.*)/);if(o){const l=n!=null?n:{};o[2]==="active"?l.passive=!1:l[o[2]]=!0,t.removeEventListener(o[1],i,l)}else t.removeEventListener(a,i,n)}}function Gl(t){var e;kt();let i=document.getElementById(t);return i?i.dataset.refcount=Number(Number.parseInt((e=i.getAttribute("data-refcount"))!==null&&e!==void 0?e:"0")+1).toString():(i=document.createElement("div"),i.setAttribute("aria-hidden","true"),i.dataset.refcount="1",i.id=t,document.body.append(i)),i}function Cs(t){var e;if(!t)return;const i=Number.parseInt((e=t.getAttribute("data-refcount"))!==null&&e!==void 0?e:"0");i<=1?t.remove():t.dataset.refcount=Number(i-1).toString()}function Ai(t){var e;return((e=t.element)===null||e===void 0?void 0:e.mathfield)===t}function Zn(t){const e=function(n){var r,a;return(a=(r=n.querySelector(".ML__caret"))!==null&&r!==void 0?r:n.querySelector(".ML__text-caret"))!==null&&a!==void 0?a:n.querySelector(".ML__latex-caret")}(t);if(!e)return null;const i=e.getBoundingClientRect();return{x:i.right,y:i.bottom,height:i.height}}function mc(t){var e;if(!t.parent)return"root";let i=(e=t.parent.id)!==null&&e!==void 0?e:"";return i+=typeof t.treeBranch=="string"?"-"+t.treeBranch:`-${t.treeBranch[0]}/${t.treeBranch[0]}`,i}function Jl(t,e){if(!e)return null;const i=t.field.getBoundingClientRect(),n=e.right-e.left,r=e.bottom-e.top,a=Math.ceil(e.left-i.left+t.field.scrollLeft),o=Math.ceil(e.top-i.top);return{left:a,right:a+n,top:o,bottom:o+r}}function Xl(t){const e=t.getBoundingClientRect(),i=parseInt(getComputedStyle(t).marginRight),n={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+i};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return n;for(const r of t.children)if(r.nodeType===1&&"atomId"in r.dataset&&!r.classList.contains("pstrut")){const a=Xl(r);n.left=Math.min(n.left,a.left),n.right=Math.max(n.right,a.right),n.top=Math.min(n.top,a.top),n.bottom=Math.max(n.bottom,a.bottom)}return n}function ba(t,e){var i,n;if(!e.id)return null;let r=(n=(i=t.atomBoundsCache)===null||i===void 0?void 0:i.get(e.id))!==null&&n!==void 0?n:null;if(r!==null)return r;const a=t.field.querySelector(`[data-atom-id="${e.id}"]`);return r=a?Xl(a):null,t.atomBoundsCache&&(r?t.atomBoundsCache.set(e.id,r):t.atomBoundsCache.delete(e.id)),r!=null?r:null}function Yl(t,e){return t.model.selection.ranges.reduce((i,n)=>i.concat(...function(r,a,o){const l=new Map;for(const s of r.model.getAtoms(a,{includeChildren:!0})){if((o==null?void 0:o.excludeAtomsWithBackground)&&s.style.backgroundColor)break;const u=Jl(r,ba(r,s));if(u){const c=mc(s);if(l.has(c)){const d=l.get(c);l.set(c,{left:Math.min(d.left,u.left),right:Math.max(d.right,u.right),top:Math.min(d.top,u.top),bottom:Math.max(d.bottom,u.bottom)})}else l.set(c,u)}}return[...l.values()]}(t,n,e)),[])}function Ql(t,e){return t==="*"||e==="none"||(e==="same-origin"?!window.origin||t===window.origin:typeof e=="function"&&e(t))}function qi(t,e,i){let n,r,a,o,l;typeof i=="object"&&("default"in i||"pressed"in i)?(i.default&&(e.dataset.command=JSON.stringify(i.default)),i.alt&&(e.dataset.commandAlt=JSON.stringify(i.alt)),i.altshift&&(e.dataset.commandAltshift=JSON.stringify(i.altshift)),i.shift&&(e.dataset.commandShift=JSON.stringify(i.shift)),i.pressed&&(e.dataset.commandPressed=JSON.stringify(i.pressed)),i.pressAndHoldStart&&(e.dataset.commandPressAndHoldStart=JSON.stringify(i.pressAndHoldStart)),i.pressAndHoldEnd&&(e.dataset.commandPressAndHoldEnd=JSON.stringify(i.pressAndHoldEnd))):e.dataset.command=JSON.stringify(i),Qe(e,"mousedown touchstart:passive",s=>{if(s.type!=="mousedown"||s.buttons===1){s.stopPropagation(),s.type!=="touchstart"&&s.preventDefault(),document.body.style["-webkit-user-select"]="none",e.classList.add("is-pressed"),n=Date.now(),s.type==="touchstart"&&(a=s.changedTouches[0].identifier);const u=e.getAttribute("data-command-pressed");u&&t(JSON.parse(u));const c=e.getAttribute("data-command-press-and-hold-start");c&&(r=e,l&&clearTimeout(l),l=setTimeout(()=>{e.classList.contains("is-pressed")&&t(JSON.parse(c))},300))}}),Qe(e,"mouseleave touchcancel",()=>{e.classList.remove("is-pressed")}),Qe(e,"touchmove:passive",s=>{for(let u=0;u<s.changedTouches.length;u++)if(s.changedTouches[u].identifier===a){const c=document.elementFromPoint(s.changedTouches[u].clientX,s.changedTouches[u].clientY);c!==o&&o&&(o.dispatchEvent(new MouseEvent("mouseleave"),{bubbles:!0}),o=null),c&&(o=c,c.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,buttons:1})))}}),Qe(e,"mouseenter",s=>{s.buttons===1&&e.classList.add("is-pressed")}),Qe(e,"mouseup touchend click",s=>{if(document.body.style["-webkit-user-select"]="",o){s.stopPropagation(),s.preventDefault();const d=o;return o=null,void d.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))}if(e.classList.remove("is-pressed"),e.classList.add("is-active"),s.type==="click"&&s.detail!==0)return s.stopPropagation(),void s.preventDefault();setTimeout(()=>e.classList.remove("is-active"),150);let u=e.getAttribute("data-command-press-and-hold-end");const c=Date.now();(e!==r||c<n+300)&&(u=null),!u&&s.altKey&&s.shiftKey&&(u=e.getAttribute("data-command-altshift")),!u&&s.altKey&&(u=e.getAttribute("data-command-alt")),!u&&s.shiftKey&&(u=e.getAttribute("data-command-shift")),u||(u=e.getAttribute("data-command")),u&&t(JSON.parse(u)),s.stopPropagation(),s.preventDefault()})}var Es='#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:6px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;min-width:160px;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}.ML__popover--reverse-direction:after{border-bottom:0;border-top:5px solid rgba(97,97,97,.9);bottom:-5px;top:auto}#mathlive-popover-panel.is-visible{animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}.ML__popover__content{border-radius:6px;cursor:pointer;display:flex;flex-direction:column;justify-content:center;margin-left:8px;margin-right:8px;min-height:100px;padding:2px}.ML__popover__content a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}.ML__popover__content a:hover{color:#5ea6fd;text-decoration:underline}.ML__popover__content.is-active,.ML__popover__content.is-pressed,.ML__popover__content:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__prev-shortcut{cursor:pointer;height:31px;margin-left:8px;margin-right:8px;opacity:.1;padding-bottom:2px;padding-top:4px}.ML__popover__next-shortcut:hover,.ML__popover__prev-shortcut:hover{opacity:.3}.ML__popover__next-shortcut.is-active,.ML__popover__next-shortcut.is-pressed,.ML__popover__prev-shortcut.is-active,.ML__popover__prev-shortcut.is-pressed{opacity:1}.ML__popover__next-shortcut>span,.ML__popover__prev-shortcut>span{border-radius:8px;display:inline-block;height:20px;padding:5px;width:20px}.ML__popover__prev-shortcut>span>span{display:block;margin-top:-2px}.ML__popover__next-shortcut>span>span{display:block;margin-top:2px}.ML__popover__next-shortcut:hover>span,.ML__popover__prev-shortcut:hover>span{background:hsla(0,0%,100%,.1)}.ML__popover__next-shortcut{cursor:pointer;height:34px;margin-left:8px;margin-right:8px;opacity:.1;padding-bottom:4px;padding-top:2px}.ML__popover__shortcut{font-size:.8em;margin-top:.25em}.ML__popover__note,.ML__popover__shortcut{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:.7;padding-top:.25em}.ML__popover__note{font-size:.8rem;line-height:1em;padding-left:.5em;padding-right:.5em}.ML__shortcut-join{opacity:.5}';let Oa,yo=null,vo=null;const pc={"\\text":"roman text","\\textrm":"roman text","\\textnormal":"roman text","\\textit":"italic text","\\textbf":"bold text","\\texttt":"monospaced text","\\textsf":"sans-serif text","\\mathrm":["roman","(upright)"],"\\mathbf":"bold","\\bf":"bold","\\bold":"bold","\\mathit":"italic","\\mathbb":"blackboard","\\mathscr":"script","\\mathtt":["typewriter","(monospaced)"],"\\mathsf":"sans-serif","\\mathcal":"caligraphic","\\frak":["fraktur","(gothic)"],"\\mathfrak":["fraktur","(gothic)"],"\\textcolor":"text color","\\color":"color","\\forall":"for all","\\exists":"there exists","\\nexists":"there does not exist","\\frac":"fraction","\\dfrac":"display fraction","\\cfrac":"continuous fraction","\\tfrac":"text fraction","\\binom":"binomial coefficient","\\dbinom":"display binomial coefficient","\\tbinom":"text binomial coefficient","\\pdiff":"partial differential","\\vec":"vector","\\check":"caron","\\acute":"acute","\\breve":"breve","\\tilde":"tilde","\\dot":"dot","\\hat":["hat","circumflex"],"\\ddot":"double dot","\\bar":"bar","\\prime":"prime","\\doubleprime":"double prime","\\varnothing":"empty set","\\emptyset":"empty set","\\subseteq":"subset of or <br>equal to","\\supseteq":"superset of or <br>equal to","\\supset":"superset of","\\subset":"subset of","\\partial":"partial derivative","\\bigcup":"union","\\bigcap":"intersection","\\approx":"approximately equal to","\\notin":"not an element of","\\in":["element of","included in"],"\\infty":"infinity","\\land":"logical and","\\sqrt":"square root","\\prod":"product","\\sum":"summation","\\amalg":["amalgamation","coproduct","free product","disjoint union"],"\\cup":"union with","\\cap":"intersection with","\\int":"integral","\\iint":"surface integral","\\oint":"curve integral","\\iiint":"volume integral","\\iff":"if and only if","\\ln":"natural logarithm","\\boldsymbol":"bold","\\setminus":"set subtraction","\\stackrel":"relation with symbol above","\\stackbin":"operator with symbol above","\\underset":"symbol with annotation below","\\overset":"symbol with annotation above","\\hslash":["h-bar","Planck constant"],"\\gtrsim":"greater than or <br>similar to","\\propto":"proportional to","\\equiv":"equivalent to","\\!":["negative thin space","(-3 mu)"],"\\ ":["space","(6 mu)"],"\\,":["thin space","(3 mu)"],"\\:":["medium space","(4 mu)"],"\\;":["thick space","(5 mu)"],"\\quad":["1 em space","(18 mu)"],"\\qquad":["2 em space","(36 mu)"],"\\enskip":["&#189; em space","(9 mu)"],"\\mp":"minus or plus","\\pm":"plus or minus","\\Im":"Imaginary part of","\\Re":"Real part of","\\gothicCapitalR":"Real part of","\\gothicCapitalI":"Imaginary part part of","\\differentialD":"differential d","\\aleph":["aleph","infinite cardinal",'<a target="_blank" href="https://en.wikipedia.org/wiki/Cardinal_number">Wikipedia <big>&#x203A;</big></a>'],"\\beth":["beth","beth number",'<a target="_blank" href="https://en.wikipedia.org/wiki/Beth_number">Wikipedia <big>&#x203A;</big></a>'],"\\gimel":["gimel","gimel function",'<a target="_blank" href="https://en.wikipedia.org/wiki/Gimel_function">Wikipedia <big>&#x203A;</big></a>'],"\\O":"empty set","\\N":"set of <br>natural numbers","\\Z":"set of <br>integers","\\Q":"set of <br>rational numbers","\\C":"set of <br>complex numbers","\\R":"set of <br>real numbers","\\P":"set of <br>prime numbers","\\lesseqqgtr":"less than, equal to or<br> greater than","\\gnapprox":"greater than and <br>not approximately","\\lnapprox":"lesser than and <br>not approximately","\\j":"dotless j","\\i":"dotless i","\\cdot":"centered dot","\\lmoustache":"left moustache","\\rmoustache":"right moustache","\\nabla":["nabla","del","differential vector operator"],"\\square":["square","d\u2019Alembert operator",'<a target="_blank" href="https://en.wikipedia.org/wiki/D%27Alembert_operator">Wikipedia <big>&#x203A;</big></a>'],"\\blacksquare":["black square","end of proof","tombstone","Halmos symbol"],"\\Box":"end of proof","\\colon":["such that","ratio"],"\\coloneq":["is defined by","is assigned"],"\\Colon":["is defined by","as"],"\\_":["underbar","underscore"],"\\ll":"much less than","\\gg":"much greater than","\\doteq":"approximately equal to","\\Doteq":"approximately equal to","\\doteqdot":"approximately equal to","\\cong":["isomorphism of","(for algebras, modules...)"],"\\det":["determinant of","(of a matrix)"],"\\dotplus":"Cartesian product algebra","\\otimes":["tensor product","(of algebras)","Kronecker product","(of matrices)"],"\\oplus":["direct sum","(of modules)"],"\\lb":"base-2 logarithm","\\lg":"base-10 logarithm","\\wp":["Weierstrass P",'<a target="_blank" href="https://en.wikipedia.org/wiki/Weierstrass%27s_elliptic_functions">Wikipedia <big>&#x203A;</big></a>'],"\\wr":["wreath product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Wreath_product">Wikipedia <big>&#x203A;</big></a>'],"\\top":["tautology","Proposition P is universally true"],"\\bot":["contradiction","Proposition P is contradictory"],"\\mid":["probability","of event A given B"],"\\mho":["Siemens","electrical conductance in SI unit",'<a target="_blank" href="https://en.wikipedia.org/wiki/Siemens_(unit)">Wikipedia <big>&#x203A;</big></a>'],"\\Longrightarrow":"implies","\\Longleftrightarrow":"if, and only if,","\\prec":"precedes","\\preceq":"precedes or is equal to","\\succ":"succeedes","\\succeq":"succeedes or is equal to","\\perp":["is perpendicular to","is independent of"],"\\models":["entails","double-turnstyle, models","is a semantic consequence of",'<a target="_blank" href="https://en.wikipedia.org/wiki/Double_turnstile">Wikipedia <big>&#x203A;</big></a>'],"\\vdash":["satisfies","turnstyle, assertion sign","syntactic inference",'<a target="_blank" href="https://en.wikipedia.org/wiki/Turnstile_(symbol)">Wikipedia <big>&#x203A;</big></a>'],"\\implies":["implies","logical consequence"],"\\impliedby":["implied by","logical consequence"],"\\surd":["surd","root of","checkmark"],"\\ltimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rtimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\leftthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rightthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\divideontimes":["divide on times"],"\\curlywedge":"nor","\\curlyvee":"nand","\\simeq":"is group isomorphic with","\\vartriangleleft":["is a normal subgroup of","is an ideal ring of"],"\\circ":["circle","ring","function composition"],"\\rlap":["overlap right","\\rlap{x}o"],"\\llap":["overlap left","o\\llap{/}"],"\\colorbox":["color box","\\colorbox{#fbc0bd}{...}"],"\\ast":["asterisk","reflexive closure (as a superscript)"],"\\bullet":"bullet","\\lim":"limit"};function Hr(t,e){var i;if(t.element&&t.element.mathfield===t&&t.popover&&t.popoverVisible)if(e!=null&&e.deferred)setTimeout(()=>Hr(t),100);else if(((i=t.model.at(t.model.position))===null||i===void 0?void 0:i.type)!=="latex")Un(t);else{const n=Zn(t.field);n&&eu(t,n)}}function eu(t,e){if(kt(),!t.popover||!t.popoverVisible)return;const i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerWidth-document.documentElement.clientWidth,a=window.innerHeight-document.documentElement.clientHeight,o=t.virtualKeyboard.height;e.x+t.popover.offsetWidth/2>n-r?t.popover.style.left=n-t.popover.offsetWidth-r+"px":e.x-t.popover.offsetWidth/2<0?t.popover.style.left="0":t.popover.style.left=e.x-t.popover.offsetWidth/2+"px",e.y+t.popover.offsetHeight+5>i-a-o?(t.popover.classList.add("ML__popover--reverse-direction"),t.popover.style.top=e.y-e.height-t.popover.offsetHeight-5+"px"):(t.popover.classList.remove("ML__popover--reverse-direction"),t.popover.style.top=`${e.y+5}px`)}function Un(t){t.suggestionIndex=0,t.popoverVisible=!1,t.popover&&(t.popover.classList.remove("is-visible"),t.popover.innerHTML="")}function fc(t){let e=0;for(let i=0;i<t.length;i++)e=31*e+t.charCodeAt(i),e|=0;return Math.abs(e)}function $e(t,e){t.dirty||(t.dirty=!0,requestAnimationFrame(()=>{Ai(t)&&t.dirty&&(t.atomBoundsCache=new Map,Ti(t,e),t.atomBoundsCache=void 0)}))}function Ti(t,e){var i,n;if(kt(),!Ai(t))return;e=e!=null?e:{},t.dirty=!1;const{model:r}=t;"mathlive"in window||(window.mathlive={}),r.root.caret="",r.root.isSelected=!1,r.root.containsCaret=!0;for(const c of r.atoms)c.caret="",c.isSelected=!1,c.containsCaret=!1;const a=!t.options.readOnly&&t.hasFocus();if(r.selectionIsCollapsed)r.at(r.position).caret=a?t.mode:"";else{const c=r.getAtoms(r.selection,{includeChildren:!0});for(const d of c)d.isSelected=!0}if(a){let c=r.at(r.position).parent;for(;c;)c.containsCaret=!0,c=c.parent}const o=r.root.render(new se({registers:t.registers,atomIdsSettings:{seed:e.forHighlighting?fc(V.serialize(r.root,{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:(i=e.forHighlighting)!==null&&i!==void 0&&i},renderPlaceholder:t.options.readOnly?(c,d)=>{if(d.placeholderId){const p=t.getPlaceholderField(d.placeholderId);return d.createMathfieldBox(c,{placeholderId:d.placeholderId,element:p})}return d.createBox(c)}:void 0},{fontSize:5,letterShapeStyle:t.options.letterShapeStyle},t.options.defaultMode==="inline-math"?"textstyle":"displaystyle")),l=bn(aa(o,t.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}}),s=t.field,u=s.classList.contains("ML__focused");u&&!a?s.classList.remove("ML__focused"):!u&&a&&s.classList.add("ML__focused"),s.innerHTML=t.options.createHTML(l.toMarkup()),t.fieldContent=s.querySelector(".ML__mathlive"),t.accessibleNode.innerHTML=t.options.createHTML('<math xmlns="http://www.w3.org/1998/Math/MathML">'+ga(r.root,t.options)+"</math>"),Ds(t),t.options.readOnly&&t.attachNestedMathfield(),(n=e.interactive)!==null&&n!==void 0&&n||setTimeout(()=>Ds(t),32)}function Ds(t){kt();const e=t.field;if(!e)return;for(const a of e.querySelectorAll(".ML__selection, .ML__contains-highlight"))a.remove();if(!t.hasFocus())return;const i=t.model,n=parseFloat(getComputedStyle(e).width);let r=e.getBoundingClientRect().width/n;if(r=isNaN(r)?1:r,i.selectionIsCollapsed){setTimeout(()=>Hr(t),32);let a=i.at(i.position);for(;a&&(!a.containsCaret||!a.displayContainsHighlight);)a=a.parent;if((a==null?void 0:a.containsCaret)&&a.displayContainsHighlight){const o=Jl(t,ba(t,a));if(o){o.left/=r,o.right/=r,o.top/=r,o.bottom/=r;const l=document.createElement("div");l.classList.add("ML__contains-highlight"),l.style.position="absolute",l.style.left=`${o.left}px`,l.style.top=`${o.top}px`,l.style.width=`${Math.ceil(o.right-o.left)}px`,l.style.height=`${Math.ceil(o.bottom-o.top-1)}px`,e.insertBefore(l,e.childNodes[0])}}}else for(const a of function(o){let l=[];for(const s of o){let u=!1;for(const c of l)if(s.left===c.left&&s.right===c.right&&s.top===c.top&&s.bottom===c.bottom){u=!0;break}u||l.push(s)}o=l,l=[];for(const s of o){let u=0;for(const c of o)if(s.left>=c.left&&s.right<=c.right&&s.top>=c.top&&s.bottom<=c.bottom&&(u+=1,u>1))break;u===1&&l.push(s)}return l}(Yl(t,{excludeAtomsWithBackground:!0}))){a.left/=r,a.right/=r,a.top/=r,a.bottom/=r;const o=document.createElement("div");o.classList.add("ML__selection"),o.style.position="absolute",o.style.left=`${a.left}px`,o.style.top=`${a.top}px`,o.style.width=`${Math.ceil(a.right-a.left)}px`,o.style.height=`${Math.ceil(a.bottom-a.top-1)}px`,e.insertBefore(o,e.childNodes[0])}}function gc(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function Dt(t){let e=1/0,i=-1/0;for(const n of t.ranges)e=Math.min(e,n[0],n[1]),i=Math.max(i,n[0],n[1]);return[e,i]}function tu(t){var e;typeof((e=t.listeners)===null||e===void 0?void 0:e.onSelectionDidChange)!="function"||t.suppressChangeNotifications||(t.suppressChangeNotifications=!0,t.listeners.onSelectionDidChange(t),t.suppressChangeNotifications=!1)}function Fe(t,e={}){if(t.suppressChangeNotifications||!t.mathfield.host)return!0;t.suppressChangeNotifications=!0;const i=t.mathfield.host.dispatchEvent(new InputEvent("beforeinput",{...e,cancelable:!0,bubbles:!0,composed:!0}));return t.suppressChangeNotifications=!1,i}function Ve(t,e){!t.suppressChangeNotifications&&t.mathfield.host&&(t.suppressChangeNotifications=!0,t.mathfield.host.dispatchEvent(new InputEvent("input",{...e,bubbles:!0,composed:!0})),t.suppressChangeNotifications=!1)}const bc=(t,e,i)=>(Ol.some(n=>e.startsWith(n[0])&&e.endsWith(n[1]))||(e=`$$ ${e} $$`),e);class Se{constructor(e){Se._registry[e]=this}static onPaste(e,i,n){var r;const a=new ClipboardEvent("paste",{clipboardData:n.clipboardData,cancelable:!0});return!!(!((r=i.host)===null||r===void 0)&&r.dispatchEvent(a))&&Se._registry[e].onPaste(i,n)}static onCopy(e,i){if(!i.clipboardData)return;const n=e.model,r=n.selectionIsCollapsed?[0,n.lastOffset]:Dt(n.selection);let a=n.getAtoms(r);if(a.every(o=>o.mode==="text"||!o.mode))i.clipboardData.setData("text/plain",a.filter(o=>o instanceof Oi).map(o=>o.value).join(""));else if(a.every(o=>o.mode==="latex"))i.clipboardData.setData("text/plain",n.getAtoms(r,{includeChildren:!0}).map(o=>{var l;return(l=o.value)!==null&&l!==void 0?l:""}).join(""));else{let o;o=a.length===1&&a[0].verbatimLatex!==void 0?a[0].verbatimLatex:n.getValue(r,"latex-expanded"),i.clipboardData.setData("application/x-latex",o);try{i.clipboardData.setData("text/plain",e.options.onExport(e,o,r))}catch{}a.length!==1||a[0].type!=="root"&&a[0].type!=="group"||(a=a[0].body.filter(l=>l.type!=="first"));try{i.clipboardData.setData("application/json+mathlive",JSON.stringify(a.map(l=>l.toJson())))}catch{}try{const l=e.computeEngine;l.jsonSerializationOptions={metadata:["latex"]};const s=l.parse(o),u=JSON.stringify(s.json);u&&i.clipboardData.setData("application/json",u)}catch{}}i.preventDefault()}static insert(e,i,n,r={}){return Se._registry[e].insert(i,n,r)}onPaste(e,i){return!1}insert(e,i,n){return!1}}function tr(t){var e,i;const n=t.atoms.find(r=>r instanceof ei);return n&&(i=(e=n.body)===null||e===void 0?void 0:e.filter(r=>r instanceof Oe))!==null&&i!==void 0?i:[]}function iu(t,e){var i;let n=0,r=!1;const a=Number.isFinite(e==null?void 0:e.before)?(i=e==null?void 0:e.before)!==null&&i!==void 0?i:0:t.lastOffset;for(;n<=a&&!r;){const s=t.at(n);r=s instanceof Oe&&s.isSuggestion,r||n++}if(!r)return[void 0,void 0];let o=n,l=!1;for(;o<=a&&!l;){const s=t.at(o);l=!(s instanceof Oe&&s.isSuggestion),l||o++}return[n-1,o-1]}function Xo(t){const e=tr(t.model).filter(i=>i.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(const i of e)i.parent.removeChild(i)}}function Wr(t,e){var i;const{model:n}=t;Xo(t);for(const u of tr(n))u.isError=!1;if(!n.selectionIsCollapsed)return void Un(t);const r=[];let a=n.at(n.position);for(;a&&a instanceof Oe&&/^[a-zA-Z\*]$/.test(a.value);)a=a.leftSibling;if(a&&a instanceof Oe&&a.value==="\\")for(r.push(a),a=a.rightSibling;a&&a instanceof Oe&&/^[a-zA-Z\*]$/.test(a.value);)r.push(a),a=a.rightSibling;const o=r.map(u=>u.value).join(""),l=o?function(u,c){var d,p;if(c==="\\")return[];if(!c.startsWith("\\"))return[];const h=[];for(const g in jt)g.startsWith(c)&&!jt[g].infix&&h.push({match:g,frequency:(d=jt[g].frequency)!==null&&d!==void 0?d:0});for(const g in Vt)g.startsWith(c)&&h.push({match:g,frequency:(p=Vt[g].frequency)!==null&&p!==void 0?p:0});const f=c.substring(1);for(const g of Object.keys(u.options.macros))g.startsWith(f)&&h.push({match:"\\"+g,frequency:0});return h.sort((g,w)=>{var k,_;return g.frequency===w.frequency?g.match.length===w.match.length?g.match<w.match?-1:1:g.match.length-w.match.length:((k=w.frequency)!==null&&k!==void 0?k:0)-((_=g.frequency)!==null&&_!==void 0?_:0)}),h.map(g=>g.match)}(t,o):[];if(l.length===0)return/^\\[a-zA-Z\*]+$/.test(o)&&r.forEach(u=>{u.isError=!0}),void Un(t);t.suggestionIndex=(i=e==null?void 0:e.atIndex)!==null&&i!==void 0?i:0,t.suggestionIndex<0&&(t.suggestionIndex=l.length-1);const s=l[t.suggestionIndex%l.length];if(s!==o){const u=r[r.length-1];u.parent.addChildrenAfter([...s.slice(o.length-s.length)].map(c=>new Oe(c,t,{isSuggestion:!0})),u),$e(t)}(function(u,c,d){if(!c||c.length===0)return void Un(u);const p=c,h=function(_){const M=Pi(),S=new V("root",M);return S.body=mt(_,M,{parseMode:"math"}),bn(Ho(aa(new W(S.render(new se({registers:M.registers},{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}(c),f=function(_){var M;let S=(M=pc[_])!==null&&M!==void 0?M:"";return Ze(S)&&(S=S.join("<br>")),S}(p),g=function(_,M){let S=[];if(typeof M=="string"){const F=tc[M];Ze(F)?S=F.slice():F&&S.push(F)}const I=_s(M),D=new RegExp("^"+I.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(const F of _)D.test(_s(F.command))&&S.push(F.key);return S.map(Uo)}(u.keybindings,p).join("<br>");let w=d?'<div class="ML__popover__prev-shortcut" role="button" aria-label="Previous suggestion"><span><span>&#x25B2;</span></span></div>':"";w+='<span class="ML__popover__content" role="button">',w+='<div class="ML__popover__command">'+h+"</div>",f&&(w+='<div class="ML__popover__note">'+f+"</div>"),g&&(w+='<div class="ML__popover__shortcut">'+g+"</div>"),w+="</span>",w+=d?'<div class="ML__popover__next-shortcut" role="button" aria-label="Next suggestion"><span><span>&#x25BC;</span></span></div>':"",u.popover=function(_,M){return _.popover?(_.popover.innerHTML=_.options.createHTML(M),_.popover):(_.popover=Gl("mathlive-popover-panel"),Oa===void 0&&(Oa=ni(Es).toString(36)),yo=ii(null,Es,Oa),vo=ii(null,Wt,ni(Wt).toString(36)),_.popover.innerHTML=_.options.createHTML(M),_.popover)}(u,w);let k=u.popover.querySelectorAll(".ML__popover__content");k&&k.length>0&&qi(_=>u.executeCommand(_),k[0],{default:["complete","accept-suggestion"]}),k=u.popover.querySelectorAll(".ML__popover__prev-shortcut"),k&&k.length>0&&qi(_=>u.executeCommand(_),k[0],"previousSuggestion"),k=u.popover.querySelectorAll(".ML__popover__next-shortcut"),k&&k.length>0&&qi(_=>u.executeCommand(_),k[0],"nextSuggestion"),setTimeout(()=>{const _=Zn(u.field);_&&eu(u,_),u.popover&&(u.popover.classList.add("is-visible"),u.popoverVisible=!0)},32)})(t,s,l.length>1)}function Ts(t){const[e,i]=iu(t,{before:t.position});if(e===void 0||i===void 0)return!1;let n=!1;return t.getAtoms([e,i]).forEach(r=>{r.isSuggestion&&(r.isSuggestion=!1,n=!0)}),n}function mn(t,e="accept",i){var n,r;Un(t);const a=t.model.atoms.find(u=>u instanceof ei);if(!a)return!1;if(e==="accept-suggestion"){const u=tr(t.model).filter(c=>c.isSuggestion);if(u.length===0)return!1;for(const c of u)c.isSuggestion=!1;return t.model.position=t.model.offsetOf(u[u.length-1]),!0}const o=tr(t.model).filter(u=>!u.isSuggestion),l=o.map(u=>u.value).join(""),s=a.leftSibling;return a.parent.removeChild(a),t.model.position=t.model.offsetOf(s),t.mode=(n=i==null?void 0:i.mode)!==null&&n!==void 0?n:"math",e==="reject"||(Se.insert("math",t.model,l,{selectionMode:(r=i==null?void 0:i.selectItem)!==null&&r!==void 0&&r?"item":"placeholder",format:"latex"}),t.snapshot(),t.model.announce("replacement")),!0}Se._registry={},new class extends Se{constructor(){super("latex")}createAtom(t,e,i){return new Oe(t,e)}onPaste(t,e){if(!e.clipboardData)return!1;let i=e.clipboardData.getData("text/x-latex");return i||(i=e.clipboardData.getData("text/plain")),!(!i||!Fe(t.model,{inputType:"insertFromPaste",data:i})||(t.snapshot(),this.insert(t.model,i)&&(Ve(t.model,{inputType:"insertFromPaste"}),$e(t)),e.preventDefault(),e.stopPropagation(),0))}insert(t,e,i){if(!Fe(t,{data:e,inputType:"insertText"}))return!1;i||(i={}),i.insertionMode||(i.insertionMode="replaceSelection"),i.selectionMode||(i.selectionMode="placeholder");const{suppressChangeNotifications:n}=t;i.suppressChangeNotifications&&(t.suppressChangeNotifications=!0);const r=t.suppressChangeNotifications;t.suppressChangeNotifications=!0,i.insertionMode!=="replaceSelection"||t.selectionIsCollapsed?i.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):i.insertionMode==="insertBefore"?t.collapseSelection("backward"):i.insertionMode==="insertAfter"&&t.collapseSelection("forward"):t.deleteAtoms(Dt(t.selection));const a=[];for(const s of e)N0.test(s)&&a.push(new Oe(s,t.mathfield));let o=t.at(t.position);if(o instanceof ei&&(o=o.lastChild),!(o.parent instanceof ei)){const s=new ei("",t.mathfield);o.parent.addChildAfter(s,o),o=s.firstChild}const l=o.parent.addChildrenAfter(a,o);return t.suppressChangeNotifications=r,i.selectionMode==="before"||(i.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(l)):l&&(t.position=t.offsetOf(l))),Ve(t,{data:e,inputType:"insertText"}),t.suppressChangeNotifications=n,!0}};const yi={};function ht(t,e){e=e!=null?e:{target:"mathfield",canUndo:!1};for(const i of Object.keys(t))yi[i]={...e,fn:t[i]}}function ir(t){var e;let i;return i=Ze(t)?t[0]:t,i=i.replace(/-\w/g,n=>n[1].toUpperCase()),(e=yi[i])===null||e===void 0?void 0:e.target}ht({performWithFeedback:(t,e)=>function(i,n){var r,a,o;i.focus(),i.options.keypressVibration&&Vo()&&navigator.vibrate(3),n=n.replace(/-\w/g,s=>s[1].toUpperCase()),n==="moveToNextPlaceholder"||n==="moveToPreviousPlaceholder"||n==="complete"?(r=i.returnKeypressSound)===null||r===void 0||r.play().catch(console.warn):n==="deleteBackward"||n==="deleteForward"||n==="deletePreviousWord"||n==="deleteNextWord"||n==="deleteToGroupStart"||n==="deleteToGroupEnd"||n==="deleteToMathFieldStart"||n==="deleteToMathFieldEnd"?(a=i.deleteKeypressSound)===null||a===void 0||a.play().catch(console.warn):(o=i.keypressSound)===null||o===void 0||o.play().catch(console.warn);const l=i.executeCommand(n);return i.scrollIntoView(),l}(t,e)}),ht({complete:mn,nextSuggestion:function(t){return Wr(t,{atIndex:t.suggestionIndex+1}),!1},previousSuggestion:function(t){return Wr(t,{atIndex:t.suggestionIndex-1}),!1}},{target:"mathfield",category:"autocomplete"});class rn{constructor(e){var i,n;this.preventOverlayClose=(i=e==null?void 0:e.preventOverlayClose)!==null&&i!==void 0&&i,this.translucent=(n=e==null?void 0:e.translucent)!==null&&n!==void 0&&n,this.state="closed"}get element(){if(this._element)return this._element;const e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var i;if(this.state!=="closed")return;this.state="opening",this.savedActiveElement=zs();const{element:n}=this;((i=e==null?void 0:e.root)!==null&&i!==void 0?i:document.body).appendChild(n),n.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);const r=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";const a=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${a+r}px`,e!=null&&e.child&&n.append(e.child),this.state="open"}close(){var e,i,n,r;if(this.state!=="open")return;this.state="closing",typeof this.onClose=="function"&&this.onClose();const{element:a}=this;a.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),a.remove(),document.body.style.overflow=(e=this.savedOverflow)!==null&&e!==void 0?e:"",document.body.style.marginRight=(i=this.savedMarginRight)!==null&&i!==void 0?i:"",zs()!==this.savedActiveElement&&((r=(n=this.savedActiveElement)===null||n===void 0?void 0:n.focus)===null||r===void 0||r.call(n)),a.innerHTML="",this.state="closed"}handleEvent(e){this.preventOverlayClose||(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target!==document||e.type!=="touchmove"&&e.type!=="scroll"||(this.close(),e.preventDefault(),e.stopPropagation()))}}function zs(){var t;let e=document.activeElement;for(;!((t=e==null?void 0:e.shadowRoot)===null||t===void 0)&&t.activeElement;)e=e.shadowRoot.activeElement;return e}let Pa;function nr(){var t;kt();const e=document.querySelector("#mathlive-alternate-keys-panel");return e&&(e.classList.remove("is-visible"),e.innerHTML=""),(t=rn.scrim)===null||t===void 0||t.close(),!1}class nu{constructor(e,i){this.originalContainerBottomPadding=null,this.options=e,this.visible=!1,this._mathfield=i,this.coreStylesheet=null,this.virtualKeyboardStylesheet=null}setOptions(e){var i,n;let r="";if(this._element){const a=this._element.querySelector("div.keyboard-layer.is-visible");a&&(r=(i=a.getAttribute("data-layer"))!==null&&i!==void 0?i:""),this._element.remove(),this._element=void 0}if(this.options=e,this.visible){this.buildAndAttachElement(e.virtualKeyboardTheme);const a=this.element.querySelector(`.keyboard-layer[data-layer="${r}"]`);a&&((n=this.element.querySelector(".keyboard-layer.is-visible"))===null||n===void 0||n.classList.remove("is-visible"),a.classList.add("is-visible")),this.element.classList.add("is-visible")}}get element(){return this._element}set element(e){var i;this._element!==e&&((i=this._element)===null||i===void 0||i.remove(),this._element=e)}get visible(){return this._visible}set visible(e){this._visible=e}get height(){var e,i;return(i=(e=this.element)===null||e===void 0?void 0:e.offsetHeight)!==null&&i!==void 0?i:0}buildAndAttachElement(e){var i;this.element=function(n,r){var a,o,l,s;kt();let u=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

    <symbol id="svg-delete-backward" viewBox="0 0 576 512">
      <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
    </symbol>

    <symbol id="svg-shift" viewBox="0 0 384 512">
      <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
    </symbol>

    <symbol id="svg-commit" viewBox="0 0 512 512">
      <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
    </symbol>

    <symbol id="svg-command" viewBox="0 0 640 512">
      <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
    </symbol>

    <symbol id="svg-undo" viewBox="0 0 512 512">
      <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
    </symbol>
    <symbol id="svg-redo" viewBox="0 0 512 512">
      <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
    </symbol>
    <symbol id="svg-arrow-left" viewBox="0 0 320 512">
      <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 320 512">
      <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
    </symbol>
    <symbol id="svg-tab" viewBox="0 0 448 512">
      <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
    </symbol>
    <symbol id="svg-copy" viewBox="0 0 448 512">
      <path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/>
    </symbol>
    <symbol id="svg-angle-double-right" viewBox="0 0 320 512">
      <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/>
    </symbol>
    <symbol id="svg-angle-double-left" viewBox="0 0 320 512">
      <path d="M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/>
    </symbol>
    <symbol id="svg-trash" viewBox="0 0 448 512">
      <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
    </symbol>
</svg>
        `;n.create(),Cn["foreground-color"]=[];for(const M of Object.keys(Pr))Cn["foreground-color"].push({class:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+Pr[M]+'"></span>',command:["applyStyle",{color:M}]});Cn["background-color"]=[];for(const M of Object.keys(Or))Cn["background-color"].push({class:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; background:'+Or[M]+'"></span>',command:["applyStyle",{backgroundColor:M}]});be={...Cn};for(const M of Object.keys(be))be[M]=be[M].slice();for(let M=0;M<26;M++){const S="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[M];be[S]||(be[S]=[]),be[S].unshift({latex:"\\mathbb{"+S+"}",aside:"blackboard",insert:"\\mathbb{"+S+"}"}),be[S].unshift({latex:"\\mathbf{"+S+"}",aside:"bold",insert:"\\mathbf{"+S+"}"}),be[S].unshift({latex:"\\mathsf{"+S+"}",aside:"sans",insert:"\\mathsf{"+S+"}"}),be[S].unshift({latex:"\\mathtt{"+S+"}",aside:"monospace",insert:"\\mathtt{"+S+"}"}),be[S].unshift({latex:"\\mathcal{"+S+"}",aside:"calligraphy",insert:"\\mathcal{"+S+"}"}),be[S].unshift({latex:"\\mathfrak{"+S+"}",aside:"fraktur",insert:"\\mathfrak{"+S+"}"})}for(let M=0;M<=26;M++){const S="abcdefghijklmnopqrstuvwxyz"[M];be[S]||(be[S]=[]),be[S].unshift({latex:"\\mathsf{"+S+"}",aside:"sans",insert:"\\mathsf{"+S+"}"}),be[S].unshift({latex:"\\mathbf{"+S+"}",aside:"bold",insert:"\\mathbf{"+S+"}"}),be[S].unshift({latex:"\\mathtt{"+S+"}",aside:"monospace",insert:"\\mathtt{"+S+"}"}),be[S].unshift({latex:"\\mathfrak{"+S+"}",aside:"fraktur",insert:"\\mathfrak{"+S+"}"})}for(let M=0;M<10;M++){const S="0123456789"[M];be[S]||(be[S]=[]),be[S].unshift({latex:"\\mathbf{"+S+"}",aside:"bold",insert:"\\mathbf{"+S+"}"}),be[S].unshift({latex:"\\mathsf{"+S+"}",aside:"sans",insert:"\\mathsf{"+S+"}"}),be[S].unshift({latex:"\\mathtt{"+S+"}",aside:"monospace",insert:"\\mathtt{"+S+"}"}),be[S].unshift({latex:"\\mathcal{"+S+"}",aside:"script",insert:"\\mathcal{"+S+"}"}),be[S].unshift({latex:"\\mathfrak{"+S+"}",aside:"fraktur",insert:"\\mathfrak{"+S+"}"})}let c=n.options.virtualKeyboards;c||(c="all"),c=c.replace(/\ball\b/i,"numeric functions symbols roman  greek");const d={...yc,...(a=n.options.customVirtualKeyboardLayers)!==null&&a!==void 0?a:{}},p={...ru,...(o=n.options.customVirtualKeyboards)!==null&&o!==void 0?o:{}},h=c.replace(/\s+/g," ").split(" ");for(const M of h){if(!p[M])continue;let S=(l=p[M].layers)!==null&&l!==void 0?l:[];p[M].layer&&S.push(p[M].layer),S=[...new Set(S)];for(const I of S){if(!d[I])break;if(typeof d[I]=="object"){const F=d[I];let R="";if(typeof F.styles=="string"?R+=`<style>${F.styles}</style>`:typeof F.styles=="object"&&(R+=`<style>${kc(F.styles)}</style>`),F.backdrop&&(R+=`<div class='${F.backdrop}'>`),F.container&&(R+=`<div class='${F.container}'>`),F.rows){R+="<div class='rows'>";for(const Q of F.rows){R+="<ul>";for(const z of Q){if(R+="<li",z.class){let O=z.class;z.layer&&!/layer-switch/.test(O)&&(O+=" layer-switch"),/separator/.test(O)||(O+=" keycap"),R+=` class="${O}"`}else R+=' class="keycap"';if(z.key&&(R+=` data-key="${z.key}"`),z.command&&(typeof z.command=="string"?R+=` data-command='"${z.command}"'`:(R+=" data-command='",R+=JSON.stringify(z.command),R+="'")),z.insert&&(R+=` data-insert="${z.insert}"`),z.latex&&(R+=` data-latex="${z.latex}"`),z.aside&&(R+=` data-aside="${z.aside}"`),z.variants){const O=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);be[O]=z.variants,R+=` data-alt-keys="${O}"`}z.shifted&&(R+=` data-shifted="${z.shifted}"`),z.shiftedCommand&&(R+=` data-shifted-command="${z.shiftedCommand}"`),z.layer&&(R+=` data-layer="${z.layer}"`),R+=`>${z.label?z.label:""}</li>`}R+="</ul>"}R+="</div>"}F.container&&(R+="</div>"),F.backdrop&&(R+="</div>"),d[I]=R}u+=`<div tabindex="-1" class='keyboard-layer' data-layer='${I}'>`,u+=vc(n.options,c,M);const D=d[I];typeof D=="string"&&(u+=xc(n.options,D)),u+="</div>"}}const f=document.createElement("div");f.className="ML__keyboard",r?f.classList.add(r):n.options.virtualKeyboardTheme&&f.classList.add(n.options.virtualKeyboardTheme);const g=document.createElement("div");g.className="ML__keyboard--plate",g.innerHTML=n.options.createHTML(u),f.appendChild(g);const w=f.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton");for(const M of w)M.id="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);au(n,[...w]);const k=f.querySelectorAll(".layer-switch");for(const M of k)M.classList.contains("shift")?qi(S=>n.executeCommand(S),M,{pressed:"shiftKeyboardLayer",default:["switchKeyboardLayer",M.getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):qi(S=>n.executeCommand(S),M,{default:["switchKeyboardLayer",M.getAttribute("data-layer")]});const _=f.querySelectorAll(".keyboard-layer");for(const M of _)M.addEventListener("mousedown",S=>{S.preventDefault(),S.stopPropagation()}),M.addEventListener("touchstart",S=>{S.preventDefault(),S.stopPropagation()},{passive:!1});return(s=_[0])===null||s===void 0||s.classList.add("is-visible"),f}(this,e!=null?e:""),Qe(this.element,"touchstart:passive mousedown",()=>this.focusMathfield()),(i=this.options.virtualKeyboardContainer)===null||i===void 0||i.appendChild(this.element)}handleEvent(e){if(this.element)switch(e.type){case"mouseup":case"blur":case"touchend":case"touchcancel":document.body.style.userSelect="",Zr(this)}}focusMathfield(){var e,i;(i=(e=this._mathfield)===null||e===void 0?void 0:e.focus)===null||i===void 0||i.call(e)}blurMathfield(){var e,i;(i=(e=this._mathfield)===null||e===void 0?void 0:e.blur)===null||i===void 0||i.call(e)}stateChanged(){var e,i;(i=(e=this._mathfield)===null||e===void 0?void 0:e.element)===null||i===void 0||i.dispatchEvent(new Event("virtual-keyboard-toggle",{bubbles:!0,cancelable:!1,composed:!0}))}executeCommand(e){var i,n,r;let a,o=[];return Ze(e)?(a=e[0],o=e.slice(1)):a=e,a=a.replace(/-\w/g,l=>l[1].toUpperCase()),((i=yi[a])===null||i===void 0?void 0:i.target)==="virtual-keyboard"?yi[a].fn(this,...o):(r=(n=this._mathfield)===null||n===void 0?void 0:n.executeCommand(e))!==null&&r!==void 0&&r}create(){this.virtualKeyboardStylesheet||(Pa||(Pa=ni(As).toString(36)),this.virtualKeyboardStylesheet=ii(null,As,Pa)),this.coreStylesheet||(this.coreStylesheet=ii(null,Wt,ni(Wt).toString(36))),Wo(this.options.fontsDirectory)}enable(){me()&&(window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this))}disable(){me()&&(window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("touchend",this),window.removeEventListener("touchcancel",this))}dispose(){}}const ru={numeric:{tooltip:"keyboard.tooltip.numeric",layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"&alpha;&beta;&gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"<i>f</i>&thinsp;()",classes:"tex",layers:["functions"]},symbols:{tooltip:"keyboard.tooltip.symbols",layer:"symbols",label:"&infin;\u2260\u2208",classes:"tex",layers:["symbols"]},latex:{tooltip:"keyboard.tooltip.command",command:["switchMode","latex"],label:`<svg class="svg-glyph"><use xlink:href='#svg-command' /></svg>`,layers:["latex-lower","latex-upper","latex-symbols"]},style:{tooltip:"keyboard.tooltip.style",layer:"style",label:"<b>b</b><i>i</i>\u{1D539}"}},$a={"\\varphi ":["&Phi;","\\Phi "],"\\varsigma ":["&Sigma;","\\Sigma "],"\\epsilon ":["&#x0190;",'\\char"0190'],"\\rho ":["&#x3A1",'\\char"3A1'],"\\tau ":["&#x3A4;",'\\char"3A4'],"\\upsilon ":["&Upsilon;","\\Upsilon "],"\\theta ":["&Theta;","\\Theta "],"\\iota ":["&Iota;",'\\char"399'],"\\omicron ":["&#x039F;",'\\char"39F'],"\\pi ":["&Pi;","\\Pi "],"\\alpha ":["&Alpha;",'\\char"391'],"\\sigma ":["&Sigma;","\\Sigma "],"\\delta ":["&Delta;","\\Delta "],"\\phi ":["&#x03a6;","\\Phi "],"\\gamma ":["&Gamma;","\\Gamma "],"\\eta ":["&Eta;",'\\char"397'],"\\xi ":["&Xi;","\\Xi "],"\\kappa ":["&Kappa;",'\\char"39A'],"\\lambda ":["&Lambda;","\\Lambda "],"\\zeta ":["&Zeta;",'\\char"396'],"\\chi ":["&Chi;",'\\char"3A7'],"\\psi ":["&Psi;","\\Psi "],"\\omega ":["&Omega;","\\Omega "],"\\beta ":["&Beta;",'\\char"392'],"\\nu ":["&Nu;",'\\char"39D'],"\\mu ":["&Mu;",'\\char"39C']},Cn={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[".",",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop=0}^{\\infty}",class:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop=0}^{\\infty}",class:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div","\\%"],"(":["\\left( #0\\right)","\\left[ #0\\right]","\\left\\{ #0\\right\\}","\\left\\langle #0\\right\\rangle","\\lfloor","\\llcorner","(","\\lbrack","\\lvert","\\lVert","\\lgroup","\\langle","\\lceil","\\ulcorner","\\lmoustache","\\lbrace"],")":["\\rfloor","\\lrcorner",")","\\rbrack","\\rvert","\\rVert","\\rgroup","\\rangle","\\rceil","\\urcorner","\\rmoustache","\\rbrace"],"=":["\\cong","\\asymp","\\equiv","\\differencedelta","\\varpropto","\\thickapprox","\\approxeq","\\thicksim","\\backsim","\\eqsim","\\simeq","\\Bumpeq","\\bumpeq","\\doteq","\\Doteq","\\fallingdotseq","\\risingdotseq","\\coloneq","\\eqcirc","\\circeq","\\triangleq","\\between"],"!=":["\\neq","\\ncong","","\\nsim"],"<":["\\leq","\\leqq","\\lneqq","\\ll","\\lessgtr","\\nless","\\nleq","\\lesssim","\\precsim","\\prec","\\nprec","\\preccurlyeq","\\lessdot"],">":["\\geq","\\geqq","\\gneqq","\\gg","\\gtrless","\\ngtr","\\ngeq","\\gtrsim","\\succsim","\\succ","\\nsucc","\\succcurlyeq","\\gtrdot"],in:["\\owns"],"!in":["\\backepsilon"],subset:["\\subseteq","\\nsubset","\\nsubseteq"],superset:["\\supseteq","\\nsupset","\\nsupseteq"],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":["\\prod","\\theta","\\rho","\\sin","\\cos","\\tan"],ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:["\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"],underline:["\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"],overline:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}"],xleftarrows:["\\xlongequal{}","\\xleftrightarrow{}","\\xLeftrightarrow{}","\\xleftrightharpoons{}","\\xLeftarrow{}","\\xleftharpoonup{}","\\xleftharpoondown{}","\\xtwoheadleftarrow{}","\\xhookleftarrow{}","\\xtofrom{}","\\xleftequilibrium{}","\\xrightleftarrows{}"],xrightarrows:["\\xlongequal{}","\\xleftrightarrow{}","\\xLeftrightarrow{}","\\xleftrightharpoons{}","\\xRightarrow{}","\\xrightharpoonup{}","\\xrightharpoondown{}","\\xtwoheadrightarrow{}","\\xrightleftharpoons{}","\\xhookrightarrow{}","\\xmapsto{}","\\xrightequilibrium{}","\\xrightleftarrows{}"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn\u2019t"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"}],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":["i","j","p","k","a","u"],ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn\u2019t"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":["\\in","\\notin","\\ni","\\owns","\\subset","\\supset","\\subseteq","\\supseteq","\\subsetneq","\\supsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>\u207B\xB3\u29F8\u2081\u2088 em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space<br>\xB3\u29F8\u2081\u2088 em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space<br>\u2074\u29F8\u2081\u2088 em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space<br>\u2075\u29F8\u2081\u2088 em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:"\u2153 em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',insert:"\\enspace",aside:"\xBD em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>',command:"deleteAll"}],"->|":[]};let be={};const yc={math:`
        <div class='rows'>
            <ul>
                <li class='keycap tex' data-alt-keys='x-var'><i>x</i></li>
                <li class='keycap tex' data-alt-keys='n-var'><i>n</i></li>
                <li class='separator w5'></li>
                <row name='numpad-1'/>
                <li class='separator w5'></li>
                <li class='keycap tex' data-latex='\\exponentialE' data-alt-keys='ee'>e</li>
                <li class='keycap tex' data-latex='\\imaginaryI' data-alt-keys='ii'>i</li>
                <li class='keycap tex' data-latex='\\pi' data-alt-keys='numeric-pi'></li>
            </ul>
            <ul>
                <li class='keycap tex' data-key='<' data-alt-keys='<'>&lt;</li>
                <li class='keycap tex' data-key='>' data-alt-keys='>'>&gt;</li>
                <li class='separator w5'></li>
                <row name='numpad-2'/>
                <li class='separator w5'></li>
                <li class='keycap tex' data-latex='#@^{2}' data-latex='x^2'></li>
                <li class='keycap tex' data-alt-keys='^' data-insert='#@^{#?}' data-latex='x^\\placeholder'></li>
                <li class='keycap tex small' data-insert='\\sqrt{#0}' data-latex='\\sqrt{#0}'></li>
            </ul>
            <ul>
                <li class='keycap tex' data-alt-keys='(' >(</li>
                <li class='keycap tex' data-alt-keys=')' >)</li>
                <li class='separator w5'></li>
                <row name='numpad-3'/>
                <li class='separator w5'></li>
                <li class='keycap small' data-alt-keys='int' data-latex='\\int_0^\\infty'></li>
                <li class='keycap' data-latex='\\forall' data-alt-keys='logic' ></li>
                <li class='action font-glyph bottom right' data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li></ul>
            </ul>
            <ul>
                <li class='keycap' data-alt-keys='foreground-color' data-command='["applyStyle",{"color":"red"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'></span></li>
                <li class='keycap' data-alt-keys='background-color' data-command='["applyStyle",{"backgroundColor":"yellow"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span></li>
                <li class='separator w5'></li>
                <row name='numpad-4'/>
                <li class='separator w5'></li>
                <arrows/>
            </ul>
        </div>
    `,"lower-roman":`
        <div class='rows'>
            <ul>
                <row name='numpad-1' class='if-wide'/>
                <row name='lower-1' shift-layer='upper-roman'/>
            </ul>
            <ul>
                <row name='numpad-2' class='if-wide'/>
                <row name='lower-2'  shift-layer='upper-roman''/>
            </ul>
            <ul>
                <row name='numpad-3' class='if-wide'/>
                <row name='lower-3'  shift-layer='upper-roman''/>
            </ul>
            <ul>
                <row name='numpad-4' class='if-wide'/>
                <li class='keycap' >;</li>
                <li class='keycap' >,</li>
                <li class='keycap w50' data-key=' ' data-alt-keys='space'>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,"upper-roman":`
        <div class='rows'>
            <ul>
                <row name='numpad-1' class='if-wide'/>
                <row name='upper-1'  shift-layer='lower-roman'/>
            </ul>
            <ul>
                <row name='numpad-2' class='if-wide'/>
                <row name='upper-2' shift-layer='lower-roman'/>
            </ul>
            <ul>
                <row name='numpad-3' class='if-wide'/>
                <row name='upper-3' shift-layer='lower-roman'/>
            </ul>
            <ul>
                <row name='numpad-4' class='if-wide'/>
                <li class='keycap' >;</li>
                <li class='keycap' data-alt-keys='.'>;</li>
                <li class='keycap w50' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,symbols:`
        <div class='rows'>
            <ul>
                <row name='numpad-1' class='if-wide'/>
                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrace '>{</li>
                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrace '>}</li>
                <li class='separator w5'></li>
                <li class='keycap tex' data-alt-keys='in' data-insert='\\in '>&#x2208;</li>
                <li class='keycap tex' data-alt-keys='!in' data-insert='\\notin '>&#x2209;</li>
                <li class='keycap tex' data-insert='\\Re '>&#x211c;<aside>Real</aside></li>
                <li class='keycap tex' data-insert='\\Im '>&#x2111;<aside>Imaginary</aside></li>
                <li class='keycap w15' data-insert='\\ulcorner#0\\urcorner '><span><sup>&#x250c;</sup><span><span style='color:#ddd'>o</span><sup>&#x2510;</sup></span><aside>ceil</aside></li>
                <li class='keycap tex' data-alt-keys='nabla' data-insert='\\nabla '>&#x2207;<aside>nabla</aside></li>
                <li class='keycap tex' data-alt-keys='infinity' data-insert='\\infty '>&#x221e;</li>

            </ul>
            <ul>
                <row name='numpad-2' class='if-wide'/>
                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrack '>[</li>
                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrack '>]</li>
                <li class='separator w5'></li>
                <li class='keycap tex' data-alt-keys='subset' data-insert='\\subset '>&#x2282;</li>
                <li class='keycap tex' data-alt-keys='superset' data-insert='\\supset '>&#x2283;</li>
                <li class='keycap tex' data-key='!' data-alt-keys='!'>!<aside>factorial</aside></li>
                <li class='keycap' data-latex='^{\\prime} '><span><sup><span><span style='color:#ddd'>o</span>&#x2032</sup></span><aside>prime</aside></li>
                <li class='keycap w15' data-insert='\\llcorner#0\\lrcorner '><span><sub>&#x2514;</sub><span style='color:#ddd'>o</span><sub>&#x2518;</sub></span><aside>floor</aside></li>
                <li class='keycap tex' data-insert='\\partial '>&#x2202;<aside>partial<br>derivative</aside></li>
                <li class='keycap tex' data-insert='\\emptyset '>&#x2205;<aside>empty set</aside></li>

            </ul>
            <ul>
                <row name='numpad-3' class='if-wide'/>
                <li class='keycap tex' data-alt-keys='(' data-insert='\\langle '>&#x27e8;</li>
                <li class='keycap tex' data-alt-keys=')' data-insert='\\rangle '>&#x27e9;</li>
                <li class='separator w5'></li>
                <li class='keycap tex' data-alt-keys='overline' data-latex='\\overline{#@}' data-aside='overline'></li>
                <li class='keycap tex' data-alt-keys='underline' data-latex='\\underline{#@}' data-aside='underline'></li>
                <li class='keycap tex' data-alt-keys='accents' data-insert='\\vec{#@}' data-latex='\\vec{#?}' data-aside='vector'></li>
                <li class='keycap tex small' data-alt-keys='xleftarrows' data-latex='\\xleftarrow{}' ></li>
                <li class='keycap tex small' data-alt-keys='xrightarrows' data-latex='\\xrightarrow{}' ></li>
                <li class='keycap tex' data-alt-keys='absnorm' data-insert='\\left| #0 \\right|' data-latex='\\left| #? \\right|' data-aside='abs'></li>

                <li class='action font-glyph bottom right w15'
                    data-shifted='<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>'
                    data-shifted-command='"deleteAll"'
                    data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'
                ><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li>
            </ul>
            <ul>
                <row name='numpad-4' class='if-wide'/>
                <li class='keycap tex' data-insert=','>,</li>
                <li class='keycap tex' data-insert='\\cdot '>&#x22c5;<aside>centered dot</aside></li>
                <li class='keycap tex' data-insert='\\colon '>:<aside>colon</aside></li>
                <li class='keycap tex' data-insert='\\circ '>&#x2218;<aside>circle</aside></li>
                <li class='keycap tex' data-insert='\\approx '>&#x2248;<aside>approx.</aside></li>
                <li class='keycap tex' data-insert='\\ne '>&#x2260;</li>
                <li class='keycap tex' data-insert='\\pm '>&#x00b1;</li>
                <arrows/>
            </ul>
        </div>`,"lower-greek":`
        <div class='rows'>
            <ul><li class='keycap tex' data-insert='\\varphi '><i>&#x03c6;</i><aside>phi var.</aside></li>
                <li class='keycap tex' data-insert='\\varsigma '><i>&#x03c2;</i><aside>sigma var.</aside></li>
                <li class='keycap tex' data-insert='\\epsilon '><i>&#x03f5;</i></li>
                <li class='keycap tex' data-insert='\\rho '><i>&rho;</i></li>
                <li class='keycap tex' data-insert='\\tau '><i>&tau;</i></li>
                <li class='keycap tex' data-insert='\\upsilon '><i>&upsilon;</i></li>
                <li class='keycap tex' data-insert='\\theta '><i>&theta;</i></li>
                <li class='keycap tex' data-insert='\\iota '><i>&iota;</i></li>
                <li class='keycap tex' data-insert='\\omicron '>&omicron;</i></li>
                <li class='keycap tex' data-insert='\\pi '><i>&pi;</i></li>
            </ul>
            <ul><li class='keycap tex' data-insert='\\alpha ' data-shifted='&Alpha;' data-shifted-command='["insert","\\\\char\\"391"]'><i>&alpha;</i></li>
                <li class='keycap tex' data-insert='\\sigma '><i>&sigma;</i></li>
                <li class='keycap tex' data-insert='\\delta '><i>&delta;</i></li>
                <li class='keycap tex' data-insert='\\phi '><i>&#x03d5;</i></i></li>
                <li class='keycap tex' data-insert='\\gamma '><i>&gamma;</i></li>
                <li class='keycap tex' data-insert='\\eta '><i>&eta;</i></li>
                <li class='keycap tex' data-insert='\\xi '><i>&xi;</i></li>
                <li class='keycap tex' data-insert='\\kappa '><i>&kappa;</i></li>
                <li class='keycap tex' data-insert='\\lambda '><i>&lambda;</i></li>
            </ul>
            <ul><li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='upper-greek'><svg class="svg-glyph"><use xlink:href="#svg-shift" /></svg></li>
                <li class='keycap tex' data-insert='\\zeta '><i>&zeta;</i></li>
                <li class='keycap tex' data-insert='\\chi '><i>&chi;</i></li>
                <li class='keycap tex' data-insert='\\psi '><i>&psi;</i></li>
                <li class='keycap tex' data-insert='\\omega '><i>&omega;</i></li>
                <li class='keycap tex' data-insert='\\beta '><i>&beta;</i></li>
                <li class='keycap tex' data-insert='\\nu '><i>&nu;</i></li>
                <li class='keycap tex' data-insert='\\mu '><i>&mu;</i></li>
                <li class='action font-glyph bottom right w15'
                    data-shifted='<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>'
                    data-shifted-command='"deleteAll"'
                    data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'
                ><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li>
            </ul>
            <ul>
                <li class='keycap ' data-key=' '>&nbsp;</li>
                <li class='keycap'>,</li>
                <li class='keycap tex' data-insert='\\varepsilon '><i>&#x03b5;</i><aside>epsilon var.</aside></li>
                <li class='keycap tex' data-insert='\\vartheta '><i>&#x03d1;</i><aside>theta var.</aside></li>
                <li class='keycap tex' data-insert='\\varkappa '><i>&#x3f0;</i><aside>kappa var.</aside></li>
                <li class='keycap tex' data-insert='\\varpi '><i>&#x03d6;<aside>pi var.</aside></i></li>
                <li class='keycap tex' data-insert='\\varrho '><i>&#x03f1;</i><aside>rho var.</aside></li>
                <arrows/>
            </ul>
        </div>`,"upper-greek":`
        <div class='rows'>
            <ul><li class='keycap tex' data-insert='\\Phi '>&Phi;<aside>phi</aside></li>
                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>
                <li class='keycap tex' data-insert='\\char"0190'>&#x0190;<aside>epsilon</aside></li>
                <li class='keycap tex' data-insert='\\char"3A1'>&#x3A1;<aside>rho</aside></li>
                <li class='keycap tex' data-insert='\\char"3A4'>&#x3A4;<aside>tau</aside></li>
                <li class='keycap tex' data-insert='\\Upsilon '>&Upsilon;<aside>upsilon</aside></li>
                <li class='keycap tex' data-insert='\\Theta '>&Theta;<aside>theta</aside></li>
                <li class='keycap tex' data-insert='\\char"399'>&Iota;<aside>iota</aside></li>
                <li class='keycap tex' data-insert='\\char"39F'>&#x039F;<aside>omicron</aside></li>
                <li class='keycap tex' data-insert='\\Pi '>&Pi;<aside>pi</aside></li></ul>
            <ul><li class='keycap tex' data-insert='\\char"391'>&#x391;<aside>alpha</aside></li>
                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>
                <li class='keycap tex' data-insert='\\Delta '>&Delta;<aside>delta</aside></li>
                <li class='keycap tex' data-insert='\\Phi '>&#x03a6;<aside>phi</aside></li>
                <li class='keycap tex' data-insert='\\Gamma '>&Gamma;<aside>gamma</aside></li>
                <li class='keycap tex' data-insert='\\char"397'>&Eta;<aside>eta</aside></li>
                <li class='keycap tex' data-insert='\\Xi '>&Xi;<aside>xi</aside></li>
                <li class='keycap tex' data-insert='\\char"39A'>&Kappa;<aside>kappa</aside></li>
                <li class='keycap tex' data-insert='\\Lambda '>&Lambda;<aside>lambda</aside></li></ul>
            <ul><li class='shift modifier font-glyph bottom left selected w15 layer-switch' data-layer='lower-greek'><svg class="svg-glyph"><use xlink:href="#svg-shift" /></svg></li>
                <li class='keycap tex' data-insert='\\char"396'>&Zeta;<aside>zeta</aside></li>
                <li class='keycap tex' data-insert='\\char"3A7'>&Chi;<aside>chi</aside></li>
                <li class='keycap tex' data-insert='\\Psi '>&Psi;<aside>psi</aside></li>
                <li class='keycap tex' data-insert='\\Omega '>&Omega;<aside>omega</aside></li>
                <li class='keycap tex' data-insert='\\char"392'>&Beta;<aside>beta</aside></li>
                <li class='keycap tex' data-insert='\\char"39D'>&Nu;<aside>nu</aside></li>
                <li class='keycap tex' data-insert='\\char"39C'>&Mu;<aside>mu</aside></li>
                <li class='action font-glyph bottom right w15' data-command='["performWithFeedback","deleteBackward"]'><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li></ul>
            <ul>
                <li class='separator w10'>&nbsp;</li>
                <li class='keycap'>.</li>
                <li class='keycap w50' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,"latex-lower":`
        <div class='rows'>
            <ul><row name='lower-1' class='tt' shift-layer='latex-upper'/></ul>
            <ul><row name='lower-2' class='tt' shift-layer='latex-upper'/></ul>
            <ul><row name='lower-3' class='tt' shift-layer='latex-upper'/></ul>
            <ul>
                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-symbols'>01#</li>
                <li class='keycap tt' data-shifted='[' data-shifted-command='["insertAndUnshiftKeyboardLayer", "["]'>{</li>
                <li class='keycap tt' data-shifted=']' data-shifted-command='["insertAndUnshiftKeyboardLayer", "]"]'>}</li>
                <li class='keycap tt' data-shifted='(' data-shifted-command='["insertAndUnshiftKeyboardLayer", "("]'>^</li>
                <li class='keycap tt' data-shifted=')' data-shifted-command='["insertAndUnshiftKeyboardLayer", ")"]'>_</li>
                <li class='keycap w20' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,"latex-upper":`
        <div class='rows'>
            <ul><row name='upper-1' class='tt' shift-layer='latex-lower'/></ul>
            <ul><row name='upper-2' class='tt' shift-layer='latex-lower'/></ul>
            <ul><row name='upper-3' class='tt' shift-layer='latex-lower'/></ul>
            <ul>
                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-symbols'01#</li>
                <li class='keycap tt'>[</li>
                <li class='keycap tt'>]</li>
                <li class='keycap tt'>(</li>
                <li class='keycap tt'>)</li>
                <li class='keycap w20' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,"latex-symbols":`
        <div class='rows'>
            <ul><li class='keycap tt'>1</li><li class='keycap tt'>2</li><li class='keycap tt'>3</li><li class='keycap tt'>4</li><li class='keycap tt'>5</li><li class='keycap tt'>6</li><li class='keycap tt'>7</li><li class='keycap tt'>8</li><li class='keycap tt'>9</li><li class='keycap tt'>0</li></ul>
            <ul><li class='keycap tt'>!</li><li class='keycap tt'>@</li><li class='keycap tt'>#</li><li class='keycap tt'>$</li><li class='keycap tt'>%</li><li class='keycap tt'>^</li><li class='keycap tt'>&</li><li class='keycap tt'>*</li><li class='keycap tt'>+</li><li class='keycap tt'>=</li></ul>
            <ul>
                <li class='keycap tt'>\\</li>
                <li class='keycap tt'>|</li>
                <li class='keycap tt'>/</li>
                <li class='keycap tt'>\`</li>
                <li class='keycap tt'>;</li>
                <li class='keycap tt'>:</li>
                <li class='keycap tt'>?</li>
                <li class='keycap tt'>'</li>
                <li class='keycap tt'>"</li>
                <li class='action font-glyph bottom right'
                    data-shifted='<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>'
                    data-shifted-command='"deleteAll"'
                    data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'
                ><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li>
            </ul>
            <ul>
                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-lower'>abc</li>
                <li class='keycap tt'>&lt;</li>
                <li class='keycap tt'>&gt;</li>
                <li class='keycap tt'>~</li>
                <li class='keycap tt'>,</li>
                <li class='keycap tt'>.</li>
                <li class='keycap' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,functions:`
        <div class='rows'>
            <ul><li class='separator'></li>
                <li class='fnbutton' data-insert='\\sin'></li>
                <li class='fnbutton' data-insert='\\sin^{-1}'></li>
                <li class='fnbutton' data-insert='\\ln'></li>
                <li class='fnbutton' data-insert='\\exponentialE^{#?}'></li>
                <li class='bigfnbutton' data-insert='\\operatorname{lcm}(#?)' data-latex='\\operatorname{lcm}()'></li>
                <li class='bigfnbutton' data-insert='\\operatorname{ceil}(#?)' data-latex='\\operatorname{ceil}()'></li>
                <li class='bigfnbutton' data-insert='\\lim_{n\\to\\infty}'></li>
                <li class='bigfnbutton' data-insert='\\int'></li>
                <li class='bigfnbutton' data-insert='\\operatorname{abs}(#?)' data-latex='\\operatorname{abs}()'></li>
            </ul>
            <ul><li class='separator'></li>
                <li class='fnbutton' data-latex='\\cos'></li>
                <li class='fnbutton' data-latex='\\cos^{-1}'></li>
                <li class='fnbutton' data-latex='\\ln_{10}'></li>
                <li class='fnbutton' data-latex='10^{#?}'></li>
                <li class='bigfnbutton' data-latex='\\operatorname{gcd}(#?)' data-latex='\\operatorname{gcd}()'></li>
                <li class='bigfnbutton' data-latex='\\operatorname{floor}(#?)' data-latex='\\operatorname{floor}()'></li>
                <li class='bigfnbutton' data-latex='\\sum_{n\\mathop=0}^{\\infty}'></li>
                <li class='bigfnbutton' data-latex='\\int_{0}^{\\infty}'></li>
                <li class='bigfnbutton' data-latex='\\operatorname{sign}(#?)' data-latex='\\operatorname{sign}()'></li>
            </ul>
            <ul><li class='separator'></li>
                <li class='fnbutton' data-latex='\\tan'></li>
                <li class='fnbutton' data-latex='\\tan^{-1}'></li>
                <li class='fnbutton' data-latex='\\log_{#?}'></li>
                <li class='fnbutton' data-latex='\\sqrt[#?]{#0}'></li>
                <li class='bigfnbutton' data-insert='#0 \\mod' data-latex='\\mod'></li>
                <li class='bigfnbutton' data-insert='\\operatorname{round}(#?) ' data-latex='\\operatorname{round}()'></li>
                <li class='bigfnbutton' data-insert='\\prod_{n\\mathop=0}^{\\infty}' data-latex='{\\scriptstyle \\prod_{n=0}^{\\infty}}'></li>
                <li class='bigfnbutton' data-insert='\\frac{\\differentialD #0}{\\differentialD x}'></li>
                <li class='action font-glyph bottom right' data-command='["performWithFeedback","deleteBackward"]'><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li></ul>
            <ul><li class='separator'></li>
                <li class='fnbutton'>(</li>
                <li class='fnbutton'>)</li>
                <li class='fnbutton' data-insert='^{#?}' data-latex='x^{#?}'></li>
                <li class='fnbutton' data-insert='_{#?}' data-latex='x_{#?}'></li>
                <li class='keycap w20 ' data-key=' '>&nbsp;</li>
                <arrows/>
            </ul>
        </div>`,style:`
        <div class='rows'>
            <ul>
                <li class='keycap' data-alt-keys='foreground-color' data-command='["applyStyle",{"color":"red"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'></span></li>
                <li class='keycap' data-alt-keys='background-color' data-command='["applyStyle",{"backgroundColor":"yellow"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590'></span></li>
                <li class='separator w5'></li>
                <li class='keycap' data-command='["applyStyle",{"size":"3"}]' data-latex='\\scriptsize\\text{small}'></li>
                <li class='keycap' data-command='["applyStyle",{"size":"5"}]' data-latex='\\scriptsize\\text{normal}'></li>
                <li class='keycap' data-command='["applyStyle",{"size":"9"}]' data-latex='\\huge\\text{big}'></li>
                <li class='separator w5'></li>
                <li class='keycap' data-latex='\\langle' data-command='["insert", "\\\\langle", {"smartFence":true}]'></li>
            </ul>
            <ul>
                <li class='keycap' data-command='["applyStyle",{"series":"l"}]' data-latex='\\fontseries{l}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"m"}]' data-latex='\\fontseries{m}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"b"}]' data-latex='\\fontseries{b}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"bx"}]' data-latex='\\fontseries{bx}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"sb"}]' data-latex='\\fontseries{sb}\\text{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"series":"c"}]' data-latex='\\fontseries{c}\\text{Ab}'></li>
            </ul>
            <ul>
                <li class='keycap' data-command='["applyStyle",{"shape":"up"}]' data-latex='\\textup{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"shape":"it"}]' data-latex='\\textit{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"shape":"sl"}]' data-latex='\\textsl{Ab}'></li>
                <li class='keycap' data-command='["applyStyle",{"shape":"sc"}]' data-latex='\\textsc{Ab}'></li>
                <li class='separator w5'></li>
                <li class='keycap' data-insert='\\emph{#@} ' data-latex='\\text{\\emph{emph}}'></li>
            </ul>
            <ul>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"cmr"}]' data-latex='\\textrm{Az}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"cmtt"}]' data-latex='\\texttt{Az}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"cmss"}]' data-latex='\\textsf{Az}'></li>

                <li class='keycap' data-command='["applyStyle",{"fontFamily":"bb"}]'  data-latex='\\mathbb{AZ}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"scr"}]'  data-latex='\\mathscr{AZ}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"cal"}]' data-latex='\\mathcal{A1}'></li>
                <li class='keycap' data-command='["applyStyle",{"fontFamily":"frak"}]' data-latex='\\mathfrak{Az}'></li>
            </ul>
        </div>`};function qs(t,e){t=t.replace(/(^|[^\\])#@/g,"$1#?");const i=Pi(),n=new V("root",i);return n.body=mt(t,i,{parseMode:"math",args:e}),bn(Ho(aa(new W(n.render(new se({registers:i.registers},{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function vc(t,e,i){var n,r,a;let o="<div class='left'>";const l=e.replace(/\s+/g," ").split(" ");if(l.length>1){const c={...ru,...(n=t.customVirtualKeyboards)!==null&&n!==void 0?n:{}};for(const d of l){if(!c[d])break;o+="<div class='",d===i?o+="selected ":c[d].command?o+="action ":o+="layer-switch ",o+=((r=c[d].classes)!==null&&r!==void 0?r:"")+"'",c[d].tooltip&&(o+="data-tooltip='"+((a=$n(c[d].tooltip))!==null&&a!==void 0?a:c[d].tooltip)+"' "),d!==i&&(typeof c[d].command=="string"?o+=`data-command='"${c[d].command}"'`:Array.isArray(c[d].command)&&(o+=`data-command='"${c[d].command.join("")}"'`),c[d].layer&&(o+="data-layer='"+c[d].layer+"'")),o+=">"+c[d].label+"</div>"}}o+="</div>";const s=t.virtualKeyboardToolbar==="default"?["copyToClipboard","undo","redo"]:[],u={copyToClipboard:`
            <div class='action'
                data-command='"copyToClipboard"'
                data-tooltip='${$n("tooltip.copy to clipboard")}'>
                <svg><use xlink:href='#svg-copy' /></svg>
            </div>
        `,undo:`
            <div class='action disabled'
                data-command='"undo"'
                data-tooltip='${$n("tooltip.undo")}'>
                <svg><use xlink:href='#svg-undo' /></svg>
            </div>
        `,redo:`
            <div class='action disabled'
                data-command='"redo"'
                data-tooltip='${$n("tooltip.redo")}'>
                <svg><use xlink:href='#svg-redo' /></svg>
            </div>
        `};return s.length>0&&(o+=`
            <div class='right'>
                ${s.map(c=>u[c]).join("")}
            </div>
        `),"<div class='keyboard-toolbar' role='toolbar'>"+o+"</div>"}function au(t,e,i){var n,r;for(const a of e){let o;a.getAttribute("data-latex")?o=qs(a.getAttribute("data-latex").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):a.getAttribute("data-insert")&&a.innerHTML===""?o=qs(a.getAttribute("data-insert").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):a.getAttribute("data-content")&&(o=a.getAttribute("data-content").replace(/&quot;/g,'"')),a.getAttribute("data-aside")&&(o=(o!=null?o:"")+"<aside>"+a.getAttribute("data-aside").replace(/&quot;/g,'"')+"</aside>"),o!==void 0&&(a.innerHTML=t.options.createHTML(o)),a.getAttribute("data-classes")&&a.classList.add(a.getAttribute("data-classes"));const l=(n=a.getAttribute("data-insert"))===null||n===void 0?void 0:n.replace(/&quot;/g,'"');let s;l&&$a[l]&&(a.dataset.shifted=$a[l][0],a.dataset.shiftedCommand=JSON.stringify(["insertAndUnshiftKeyboardLayer",$a[l][1]]));const u=a.getAttribute("data-command");if(u)if(/^[a-zA-Z]+$/.test(u))s=u;else try{s=JSON.parse(u)}catch{}else s=a.getAttribute("data-insert")?["insert",a.getAttribute("data-insert"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:a.getAttribute("data-latex")?["insert",a.getAttribute("data-latex"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:["typedText",(r=a.getAttribute("data-key"))!==null&&r!==void 0?r:a.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}];if(s){i&&(s=[i,s]);let c=s;const d=a.getAttribute("data-alt-keys");d&&be[d]&&(c={default:s,pressAndHoldStart:["showAlternateKeys",d],pressAndHoldEnd:"hideAlternateKeys"}),qi(p=>t.executeCommand(p),a,c)}}}function xc(t,e){var i,n,r,a;const o={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.=+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~","upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}};let l=t.virtualKeyboardLayout;if(l==="auto"){const p=er();p&&(l=p.virtualLayout),l&&l!=="auto"||(l=(i={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[we.locale.slice(0,2)])!==null&&i!==void 0?i:"qwerty")}const s=(n=o[l])!==null&&n!==void 0?n:o.qwerty;let u,c=e;c=c.replace(/<arrows\/>/g,`
        <li class='action' data-command='["performWithFeedback","moveToPreviousChar"]'
            data-shifted='<svg class="svg-glyph"><use xlink:href="#svg-angle-double-left" /></svg>'
            data-shifted-command='["performWithFeedback","extendToPreviousChar"]'>
            <svg class="svg-glyph"><use xlink:href='#svg-arrow-left' /></svg>
        </li>
        <li class='action' data-command='["performWithFeedback","moveToNextChar"]'
            data-shifted='<svg class="svg-glyph"><use xlink:href="#svg-angle-double-right" /></svg>'
            data-shifted-command='["performWithFeedback","extendToNextChar"]'>
            <svg class="svg-glyph"><use xlink:href='#svg-arrow-right' /></svg>
        </li>
        <li class='action' data-command='["performWithFeedback","commit"]'>
        <svg class="svg-glyph"><use xlink:href='#svg-commit' /></svg></li>`);let d=c.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);for(;d;){u="";const p=d[2].match(/[a-zA-Z][a-zA-Z\d-]*=(['"])(.*?)\1/g),h={};if(p)for(const g of p){const w=g.match(/([a-zA-Z][a-zA-Z\d-]*)=(['"])(.*?)\2/);w&&(h[w[1]]=w[3])}let f=s[h.name];if(f||(f=o.qwerty[h.name]),f)for(const g of f){let w=(r=h.class)!==null&&r!==void 0?r:"";w&&(w=` ${w}`),g==="~"?(u+="<li class='action font-glyph bottom right ",u+=f.length-(f.match(/ /g)||[]).length/2==10?"w10":"w15",u+=`' data-shifted='<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>'
                        data-shifted-command='"deleteAll"'
                        data-alt-keys='delete' data-command='["performWithFeedback","deleteBackward"]'
                        ><svg class="svg-glyph"><use xlink:href="#svg-delete-backward" /></svg></li>`):g===" "?u+="<li class='separator w5'></li>":g==="^"?u+="<li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='"+h["shift-layer"]+`'><svg class="svg-glyph"><use xlink:href="#svg-shift" /></svg></li>`:g==="/"?u+="<li class='keycap"+w+"' data-alt-keys='/' data-insert='\\frac{#@}{#?}'>&divide;</li>":g==="*"?u+="<li class='keycap"+w+"' data-alt-keys='*' data-insert='\\times '>&times;</li>":g==="-"?u+="<li class='keycap"+w+"' data-alt-keys='-' data-key='-'>&#x2212;</li>":g==="."?u+="<li class='keycap"+w+`' data-alt-keys='.' data-command='"insertDecimalSeparator"'>`+((a=t.decimalSeparator)!==null&&a!==void 0?a:".")+"</li>":w.includes("tt")?u+=`<li class='keycap${w}' data-alt-keys='${g}' data-command='["typedText","${g}",{"mode":"command", "focus":true, "feedback":true}]'>${g}</li>`:u+="<li class='keycap"+w+"' data-alt-keys='"+g+"'>"+g+"</li>"}c=c.replace(new RegExp(d[1]+d[2]+d[3]),u),d=c.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return c}function Zr(t){nr();const e=t.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(e)for(const i of e){const n=i.getAttribute("data-unshifted-content");n&&(i.innerHTML=t.options.createHTML(n),i.dataset.unshiftedContent="");const r=i.getAttribute("data-unshifted-command");r&&(i.dataset.command=r,i.dataset.unshiftedCommand="")}return!1}function kc(t){return Object.keys(t).map(e=>`${e} {${function(i){return typeof i=="string"?i:Object.entries(i).map(([n,r])=>`${n}:${r} !important`).join(";")}(t[e])}}`).join("")}function Is(t,e){e!=="lower-command"&&e!=="upper-command"&&e!=="symbols-command"&&t.executeCommand("complete"),Bn(t),nr(),Zr(t);const i=t==null?void 0:t.element.querySelectorAll(".keyboard-layer");let n=!1;for(const r of i)if(r.dataset.layer===e){n=!0;break}if(n)for(const r of i)r.dataset.layer===e?r.classList.add("is-visible"):r.classList.remove("is-visible");return t.focusMathfield(),!0}function Bn(t,e=""){var i,n;const r=t.options.virtualKeyboardContainer;if(!r)return!1;if(t.element?t.element.classList.add("is-visible"):t.buildAndAttachElement(e),!t.visible){!((i=window.mathlive)===null||i===void 0)&&i.visibleVirtualKeyboard&&xo((n=window.mathlive)===null||n===void 0?void 0:n.visibleVirtualKeyboard),window.mathlive||(window.mathlive={}),window.mathlive.visibleVirtualKeyboard=t;const a=r.style.paddingBottom;t.originalContainerBottomPadding=a,r.style.paddingBottom=a?`calc(${a} + var(--keyboard-height, 276px) - 1px)`:"calc(var(--keyboard-height, 276px) - 1px)"}return setTimeout(()=>{var a;(a=t.element)===null||a===void 0||a.classList.add("is-visible"),t.focusMathfield()},1),t.visible=!0,t.stateChanged(),!1}function xo(t){var e,i,n;const r=t.options.virtualKeyboardContainer;return!!r&&(t.element&&(window.mathlive||(window.mathlive={}),window.mathlive.visibleVirtualKeyboard=void 0,t.disable(),nr(),t.visible=!1,(e=t.coreStylesheet)===null||e===void 0||e.release(),t.coreStylesheet=null,(i=t.virtualKeyboardStylesheet)===null||i===void 0||i.release(),t.virtualKeyboardStylesheet=null,(n=t._element)===null||n===void 0||n.remove(),t._element=void 0,t.originalContainerBottomPadding!==null&&(r.style.paddingBottom=t.originalContainerBottomPadding)),t.visible=!1,t.stateChanged(),!1)}ht({showAlternateKeys:function(t,e){var i;kt();const n=be[e],r=document.createElement("div");r.setAttribute("aria-hidden","true"),r.className="ML__keyboard alternate-keys"+(t.element.classList.contains("material")?" material":""),r.id="mathlive-alternate-keys-panel",n.length>=14?r.style.width="236px":n.length>=7?r.style.width="286px":n.length===4||n.length===2?r.style.width="146px":n.length===1?r.style.width="86px":r.style.width="146px",r.style.height="auto";let a="";for(const s of n)a+="<li",typeof s=="string"?a+=' data-latex="'+s.replace(/"/g,"&quot;")+'"':(s.latex&&(a+=' data-latex="'+s.latex.replace(/"/g,"&quot;")+'"'),s.content&&(a+=' data-content="'+s.content.replace(/"/g,"&quot;")+'"'),s.insert&&(a+=' data-insert="'+s.insert.replace(/"/g,"&quot;")+'"'),s.command&&(typeof s.command=="string"?a+=` data-command="${s.command.replace(/"/g,"&quot;")}"`:a+=" data-command='"+JSON.stringify(s.command).replace(/"/g,"&quot;")+"'"),s.aside&&(a+=` data-aside="${s.aside.replace(/"/g,"&quot;")}"`),s.class&&(a+=` data-classes="${s.class}"`)),a+=">",a+=typeof s=="string"?s:(i=s.label)!==null&&i!==void 0?i:"",a+="</li>";a="<ul>"+a+"</ul>",r.innerHTML=t.options.createHTML(a),au(t,[...r.querySelectorAll("li")],"performAlternateKeys"),rn.scrim||(rn.scrim=new rn),rn.scrim.open({root:t.options.virtualKeyboardContainer,child:r});const o=t==null?void 0:t.element.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys="'+e+'"]'),l=o==null?void 0:o.getBoundingClientRect();if(l){l.top-r.clientHeight<0&&(r.style.width="auto",n.length<=6?r.style.height="56px":n.length<=12?r.style.height="108px":n.length<=18?r.style.height="205px":r.classList.add("compact"));const s=(l.top-r.clientHeight+5).toString()+"px",u=Math.max(0,Math.min(window.innerWidth-r.offsetWidth,(l.left+l.right-r.offsetWidth)/2))+"px";r.style.transform="translate("+u+","+s+")",r.classList.add("is-visible")}return!1}},{target:"virtual-keyboard"}),ht({shiftKeyboardLayer:function(t){const e=t==null?void 0:t.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(e)for(const i of e){if(i.dataset.unshiftedContent)return!1;let n=i.getAttribute("data-shifted");if(n||/^[a-z]$/.test(i.innerHTML)){i.dataset.unshiftedContent=i.innerHTML,n||(n=i.innerHTML.toUpperCase()),i.innerHTML=t.options.createHTML(n);const r=i.getAttribute("data-command");if(r){i.dataset.unshiftedCommand=r;const a=i.getAttribute("data-shifted-command");if(a)i.dataset.command=a;else{const o=JSON.parse(r);Ze(o)&&(o[1]=o[1].toUpperCase()),i.dataset.command=JSON.stringify(o)}}}}return!1}},{target:"virtual-keyboard"}),ht({hideAlternateKeys:()=>nr(),performAlternateKeys:function(t,e){return nr(),t.executeCommand(e)},switchKeyboardLayer:(t,e)=>Is(t,e),unshiftKeyboardLayer:t=>Zr(t),insertAndUnshiftKeyboardLayer:function(t,e){return t.executeCommand(["insert",e]),Zr(t),!0}},{target:"virtual-keyboard"}),ht({toggleVirtualKeyboardAlt:function(t){let e=!1;return t!=null&&t.element&&(e=t==null?void 0:t.element.classList.contains("material"),t.disable()),Bn(t,e?"":"material"),!1},toggleVirtualKeyboardShift:function(t){var e,i;t.options.virtualKeyboardLayout={qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[t.options.virtualKeyboardLayout];const n=(i=(e=t==null?void 0:t.element.querySelector("div.keyboard-layer.is-visible"))===null||e===void 0?void 0:e.id)!==null&&i!==void 0?i:"";return t&&t.disable(),Bn(t),n&&Is(t,n),!1}},{target:"virtual-keyboard"}),ht({toggleVirtualKeyboard:(t,e)=>function(i,n){return i.visible?xo(i):Bn(i,n),!1}(t,e),hideVirtualKeyboard:t=>xo(t),showVirtualKeyboard:(t,e)=>Bn(t,e),onUndoStateChanged:(t,e,i)=>function(n,r,a){var o;const l=(o=n.element)===null||o===void 0?void 0:o.querySelector(".keyboard-toolbar");if(!l)return!1;const s=l.querySelector(`[data-command='"undo"']`),u=l.querySelector(`[data-command='"redo"']`);return u&&(a?u.classList.remove("disabled"):u.classList.add("disabled")),s&&(r?s.classList.remove("disabled"):s.classList.add("disabled")),!1}(t,e,i)},{target:"virtual-keyboard"});const Ur="mathlive#remote-virtual-keyboard-message";class _c{constructor(e){var i,n,r;this.targetOrigin=(n=(i=e.targetOrigin)!==null&&i!==void 0?i:window.origin)!==null&&n!==void 0?n:"*",this.originValidator=(r=e.originValidator)!==null&&r!==void 0?r:"same-origin",this._mathfield=e.mathfield}get visible(){var e,i,n;return(n=(i=(e=window.mathlive)===null||e===void 0?void 0:e.sharedVirtualKeyboard)===null||i===void 0?void 0:i.visible)!==null&&n!==void 0&&n}set visible(e){window.mathlive.sharedVirtualKeyboard.visible=e}setOptions(e){this.sendMessage("setOptions",{options:JSON.stringify(Gn(e))})}create(){}dispose(){this.disable()}enable(){this.enabled||(this.enabled=!0,window.addEventListener("message",this))}disable(){this.enabled&&(window.removeEventListener("message",this),this.enabled=!1)}executeCommand(e){var i,n,r;return ir(e)==="virtual-keyboard"?(this._mathfield&&(this.setOptions(Gn(this._mathfield.getOptions())),(e==="showVirtualKeyboard"||e==="toggleVirtualKeyboard"&&this.visible===!1)&&((n=(i=this._mathfield).focus)===null||n===void 0||n.call(i))),this.sendMessage("executeCommand",{command:e}),!1):(r=this._mathfield)===null||r===void 0?void 0:r.executeCommand(e)}focusMathfield(){}blurMathfield(){}stateChanged(){}handleEvent(e){var i,n,r,a;if(e.type==="message"&&e.data&&e.data.type===Ur){if(!Ql(e.origin,this.originValidator))throw new Error(`Message from unknown origin (${e.origin}) cannot be handled`);const{action:o}=e.data;if(o==="executeCommand"){if(ir(e.data.command)==="virtual-keyboard"&&window===window.parent)return;this.executeCommand(e.data.command)}else o==="updateState"?(this.visible=e.data.state.visible,this.height=e.data.state.height):o==="focus"?(n=(i=this._mathfield)===null||i===void 0?void 0:i.focus)===null||n===void 0||n.call(i):o==="blur"&&((a=(r=this._mathfield)===null||r===void 0?void 0:r.blur)===null||a===void 0||a.call(r))}}sendMessage(e,i={}){return!!window.parent&&(window.parent.postMessage({type:Ur,action:e,...i},this.targetOrigin),!0)}}class Yo extends nu{constructor(e){const i={...Yo.defaultOptions,...Gn(e)};e!=null&&e.createHTML&&(i.createHTML=e.createHTML),e!=null&&e.virtualKeyboardContainer&&(i.virtualKeyboardContainer=e.virtualKeyboardContainer),super(i),this.listeners=new Set,window.addEventListener("message",this),document.body.addEventListener("focusin",n=>{var r;const a=n.target;if((a==null?void 0:a.isConnected)&&((r=a.tagName)===null||r===void 0?void 0:r.toLowerCase())==="math-field"){const o=a;o.virtualKeyboardMode==="onfocus"&&o.virtualKeyboardState==="hidden"&&(o.virtualKeyboardState="visible")}}),document.addEventListener("focusout",n=>{var r;const a=n.target;(a==null?void 0:a.isConnected)&&((r=a.tagName)===null||r===void 0?void 0:r.toLowerCase())==="math-field"&&setTimeout(()=>{var o,l;if(((l=(o=document.activeElement)===null||o===void 0?void 0:o.tagName)===null||l===void 0?void 0:l.toLowerCase())!=="math-field"){const s=document.querySelector("math-field");s&&(s.virtualKeyboardState="hidden")}},300)})}static get defaultOptions(){var e,i;return{createHTML:n=>n,fontsDirectory:"./fonts",soundsDirectory:"./sounds",targetOrigin:window.origin,originValidator:"same-origin",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},customVirtualKeyboards:{},virtualKeyboardTheme:/macos|ios/.test(gn())?"apple":"material",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",virtualKeyboardContainer:(i=(e=globalThis.document)===null||e===void 0?void 0:e.body)!==null&&i!==void 0?i:null}}addEventListener(e,i,n){if(e!=="virtual-keyboard-toggle")throw new TypeError("Unexpected event type");this.listeners.has(i)||this.listeners.add(i)}dispatchEvent(e){if(e.type!=="virtual-keyboard-toggle")throw new TypeError("Unexpected event type");return this.listeners.size!==0&&(this.listeners.forEach(i=>{typeof i=="function"?i(e):i==null||i.handleEvent(e)}),!0)}removeEventListener(e,i,n){if(e!=="virtual-keyboard-toggle")throw new TypeError("Unexpected event type");this.listeners.delete(i)}handleEvent(e){if(e.type==="message"&&e.data&&e.data.type===Ur){if(!Ql(e.origin,this.options.originValidator))throw new Error(`Can not handle message from unknown origin (${e.origin}).`);const{action:i}=e.data;if(i==="executeCommand"){const{command:n}=e.data;if(this.sourceFrame=e.source,ir(n)!=="virtual-keyboard"&&window===window.parent)return;this.executeCommand(n)}else if(i==="setOptions"&&JSON.stringify(Gn(this.options))!==e.data.options){const n=Gn(JSON.parse(e.data.options));n.createHTML=this.options.createHTML,n.virtualKeyboardContainer=this.options.virtualKeyboardContainer,this.setOptions(n)}}}stateChanged(){var e,i;this.dispatchEvent(new Event("virtual-keyboard-toggle")),this.sendMessage("stateChanged",{state:{visible:this.visible,height:(i=(e=this.element)===null||e===void 0?void 0:e.offsetHeight)!==null&&i!==void 0?i:0}})}executeCommand(e){return ir(e)==="virtual-keyboard"?super.executeCommand(e):(this.sendMessage("executeCommand",{command:e}),!1)}focus(){this.sendMessage("focus")}blur(){this.sendMessage("blur")}canUndo(){return this.canUndoState}canRedo(){return this.canRedoState}dispose(){window.removeEventListener("message",this)}sendMessage(e,i={}){var n;(n=this.sourceFrame)===null||n===void 0||n.postMessage({type:Ur,action:e,...i},this.options.targetOrigin)}}function Gn(t){if(typeof t!="object")return{};const e={};return t.fontsDirectory&&(e.fontsDirectory=t.fontsDirectory),t.soundsDirectory&&(e.soundsDirectory=t.soundsDirectory),t.virtualKeyboards&&(e.virtualKeyboards=t.virtualKeyboards),t.virtualKeyboardLayout&&(e.virtualKeyboardLayout=t.virtualKeyboardLayout),t.customVirtualKeyboardLayers&&(e.customVirtualKeyboardLayers=t.customVirtualKeyboardLayers),t.customVirtualKeyboards&&(e.customVirtualKeyboards=t.customVirtualKeyboards),t.virtualKeyboardTheme&&(e.virtualKeyboardTheme=t.virtualKeyboardTheme),t.keypressVibration&&(e.keypressVibration=t.keypressVibration),t.keypressSound&&(e.keypressSound=t.keypressSound),t.plonkSound&&(e.plonkSound=t.plonkSound),t.virtualKeyboardToolbar&&(e.virtualKeyboardToolbar=t.virtualKeyboardToolbar),t.targetOrigin&&(e.targetOrigin=t.targetOrigin),t.originValidator&&(e.originValidator=t.originValidator),e}function Hi(t,e,i){return e+hn(i,{...t,textToSpeechMarkup:"",textToSpeechRulesOptions:{...t.textToSpeechRulesOptions,markup:"none"}})}function wc(t,e){var i,n;if(!e&&me()&&"mathlive"in window&&(e=window.mathlive.config),(e=e!=null?e:{}).speechEngine&&e.speechEngine!=="local")if(e.speechEngine==="amazon"){if(me()&&"AWS"in window){const r=new window.AWS.Polly({apiVersion:"2016-06-10"}),a={OutputFormat:"mp3",VoiceId:(i=e.speechEngineVoice)!==null&&i!==void 0?i:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((n=e.speechEngineVoice)!==null&&n!==void 0?n:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};r.synthesizeSpeech(a,(o,l)=>{if(!o){if(l!=null&&l.AudioStream){const s=new Uint8Array(l.AudioStream),u=new Blob([s.buffer],{type:"audio/mpeg"}),c=URL.createObjectURL(u);new Audio(c).play().catch(d=>{})}}})}}else e.speechEngine;else if(me()){const r=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(r)}}function ou(t){if(t.classList.remove("ML__highlight"),t.children)for(const e of t.children)ou(e)}function ko(t,e){var i;e&&((i=t.dataset)===null||i===void 0?void 0:i.atomId)!==e?(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&ko(n,e)})):(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&ko(n)}))}function Sc(t,e,i){var n,r;if(!me())return;if(!i&&window.mathlive&&(i=window.mathlive.config),i.speechEngine!=="amazon")return void(i.speakHook&&i.speakHook(e,i));if(!window.AWS)return;const a=new window.AWS.Polly({apiVersion:"2016-06-10"}),o={OutputFormat:"json",VoiceId:(n=i.speechEngineVoice)!==null&&n!==void 0?n:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};window.mathlive=(r=window.mathlive)!==null&&r!==void 0?r:{},window.mathlive.readAloudElement=t,a.synthesizeSpeech(o,(l,s)=>{if(l||!s||!s.AudioStream)return;const u=new TextDecoder("utf-8").decode(new Uint8Array(s.AudioStream));window.mathlive.readAloudMarks=u.split(`
`).map(c=>c?JSON.parse(c):{}),window.mathlive.readAloudTokens=[];for(const c of window.mathlive.readAloudMarks)c.value&&window.mathlive.readAloudTokens.push(c.value);window.mathlive.readAloudCurrentMark="",o.OutputFormat="mp3",o.SpeechMarkTypes=[],a.synthesizeSpeech(o,(c,d)=>{if(c||!d||!d.AudioStream)return;const p=new Uint8Array(d.AudioStream),h=new Blob([p.buffer],{type:"audio/mpeg"}),f=URL.createObjectURL(h);window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudAudio=new Audio,window.mathlive.readAloudAudio.addEventListener("ended",()=>{const g=window.mathlive.readAloudMathField;window.mathlive.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),g?(Ti(g),window.mathlive.readAloudElement=null,window.mathlive.readAloudMathField=null,window.mathlive.readAloudTokens=[],window.mathlive.readAloudMarks=[],window.mathlive.readAloudCurrentMark=""):ou(window.mathlive.readAloudElement)}),window.mathlive.readAloudAudio.addEventListener("timeupdate",()=>{let g="";const w=1e3*window.mathlive.readAloudAudio.currentTime+100;for(const k of window.mathlive.readAloudMarks)k.time<w&&(g=k.value);window.mathlive.readAloudCurrentMark!==g&&(window.mathlive.readAloudCurrentToken=g,g&&g===window.mathlive.readAloudFinalToken?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudCurrentMark=g,ko(window.mathlive.readAloudElement,window.mathlive.readAloudCurrentMark)))})),window.mathlive.readAloudAudio.src=f,window.mathlive.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),window.mathlive.readAloudAudio.play()})})}function Wi(t,e){if(e==null||e==="none"||e==="null")return null;if(e instanceof HTMLAudioElement)return e.load(),e;if(typeof e=="string"){if((e=e.trim()).length===0)return null;const i=new Audio;return i.src=Il((t===void 0||t.length===0?"./sounds":t)+"/"+e),i.volume=.5,i.load(),i}return null}function En(t){t instanceof HTMLAudioElement&&(t.pause(),t.removeAttribute("src"),t.load())}function _o(t,e){var i,n,r,a,o;const l=(n=(i=e.soundsDirectory)!==null&&i!==void 0?i:t.soundsDirectory)!==null&&n!==void 0?n:"./sounds",s=pn(t,Object.keys(t));for(const u of Object.keys(e))switch(u){case"scriptDepth":if(Ze(e.scriptDepth))s.scriptDepth=[e.scriptDepth[0],e.scriptDepth[1]];else{if(typeof e.scriptDepth!="number")throw new TypeError("Unexpected value for scriptDepth");s.scriptDepth=[e.scriptDepth,e.scriptDepth]}break;case"locale":e.locale==="auto"?s.locale=me()?navigator.language.slice(0,5):"en":s.locale=e.locale,we.locale=s.locale;break;case"strings":we.merge(e.strings),s.strings=we.strings;break;case"virtualKeyboardLayout":s.virtualKeyboardLayout=e.virtualKeyboardLayout;break;case"virtualKeyboardMode":const c=e.virtualKeyboardMode.toLowerCase();s.virtualKeyboardMode=c==="auto"?oo()?"onfocus":"off":c;break;case"customVirtualKeyboardLayers":s.customVirtualKeyboardLayers={...s.customVirtualKeyboardLayers,...e.customVirtualKeyboardLayers};break;case"customVirtualKeyboards":s.customVirtualKeyboards={...s.customVirtualKeyboards,...e.customVirtualKeyboards};break;case"letterShapeStyle":e.letterShapeStyle==="auto"?we.locale.startsWith("fr")?s.letterShapeStyle="french":s.letterShapeStyle="tex":s.letterShapeStyle=e.letterShapeStyle;break;case"plonkSound":s.plonkSound instanceof HTMLAudioElement&&En(s.plonkSound),s.plonkSound=Wi(l,e.plonkSound);break;case"keypressSound":if(typeof s.keypressSound=="object"&&s.keypressSound!==null&&"default"in s.keypressSound&&(En(s.keypressSound.default),En(s.keypressSound.delete),En(s.keypressSound.return),En(s.keypressSound.spacebar)),e.keypressSound===null)s.keypressSound={default:null,delete:null,return:null,spacebar:null};else if(typeof e.keypressSound=="string"){const d=Wi(l,e.keypressSound);s.keypressSound={delete:d,return:d,spacebar:d,default:d}}else e.keypressSound instanceof HTMLAudioElement?s.keypressSound={delete:e.keypressSound,return:e.keypressSound,spacebar:e.keypressSound,default:e.keypressSound}:typeof e.keypressSound=="object"&&"default"in e.keypressSound&&(s.keypressSound={...e.keypressSound},s.keypressSound.default=Wi(l,s.keypressSound.default),s.keypressSound.delete=(r=Wi(l,s.keypressSound.delete))!==null&&r!==void 0?r:e.keypressSound.default,s.keypressSound.return=(a=Wi(l,s.keypressSound.return))!==null&&a!==void 0?a:e.keypressSound.default,s.keypressSound.spacebar=(o=Wi(l,s.keypressSound.spacebar))!==null&&o!==void 0?o:e.keypressSound.default);break;case"virtualKeyboardContainer":s.virtualKeyboardContainer=e.virtualKeyboardContainer;break;case"macros":s.macros=uo(e.macros);break;default:Ze(e[u])?s[u]=[...e[u]]:typeof e[u]=="object"?s[u]={...e[u]}:s[u]=e[u]}return s}function pn(t,e){let i;i=typeof e=="string"?[e]:e===void 0?Object.keys(t):e;const n={};for(const r of i)Ze(t[r])?n[r]=[...t[r]]:t[r]instanceof HTMLElement?n[r]=t[r]:t[r]===null?n[r]=null:typeof t[r]=="object"?n[r]={...t[r]}:n[r]=t[r];return typeof e=="string"?n[e]:n}ht({speak:(t,e,i)=>function(n,r,a){var o,l;a=a!=null?a:{withHighlighting:!1};const{model:s}=n,u=function(p){let h=null;switch(p){case"all":default:h=s.root;break;case"selection":h=s.getAtoms(s.selection);break;case"left":h=s.getAtoms(s.offsetOf(s.at(s.position).leftSibling),s.position);break;case"right":h=s.getAtoms(s.position,s.offsetOf(s.at(s.position).rightSibling));break;case"group":h=s.getAtoms(s.getSiblingsRange(s.position));break;case"parent":{const{parent:f}=s.at(s.position);h=f&&f.type!=="root"?f:s.root;break}}return h}(r);if(u===null)return(l=(o=n.options).speakHook)===null||l===void 0||l.call(o,function(p){let h="";switch(p){case"all":case"group":default:break;case"selection":h="no selection";break;case"left":h="at start";break;case"right":h="at end";break;case"parent":h="no parent"}return h}(r),n.options),!1;const c={...n.options};(a.withHighlighting||c.speechEngine==="amazon")&&(c.textToSpeechMarkup=me()&&window.sre&&c.textToSpeechRules==="sre"?"ssml_step":"ssml");const d=hn(u,c);return me()&&a.withHighlighting?(window.mathlive.readAloudMathField=n,Ti(n,{forHighlighting:!0}),n.options.readAloudHook&&n.options.readAloudHook(n.field,d,n.options)):n.options.speakHook&&n.options.speakHook(d,c),!1}(t,e,i)},{target:"mathfield",category:"speech"});const su='<span style="width: 21px; margin-top: 4px;"><svg style="width: 21px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg></span>';function wo(){var t,e,i;return{readOnly:!1,createHTML:n=>n,fontsDirectory:"./fonts",soundsDirectory:"./sounds",defaultMode:"math",macros:Nl(),registers:{},colorMap:ra,backgroundColorMap:jo,horizontalSpacingScale:1,letterShapeStyle:we.locale.startsWith("fr")?"french":"tex",smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,mathModeSpace:"",decimalSeparator:".",fractionNavigationOrder:"numerator-denominator",placeholderSymbol:"\u25A2",locale:we.locale,strings:we.strings,keybindings:Bl,inlineShortcuts:Fl,inlineShortcutTimeout:0,virtualKeyboardToggleGlyph:su,virtualKeyboardMode:"auto",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},customVirtualKeyboards:{},virtualKeyboardTheme:me()&&/android|cros/i.test(navigator.userAgent)?"material":"apple",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",virtualKeyboardContainer:(e=(t=globalThis.document)===null||t===void 0?void 0:t.body)!==null&&e!==void 0?e:null,useSharedVirtualKeyboard:!1,sharedVirtualKeyboardTargetOrigin:(i=globalThis.window)===null||i===void 0?void 0:i.origin,originValidator:"same-origin",textToSpeechRules:"mathlive",textToSpeechMarkup:"",textToSpeechRulesOptions:{},speechEngine:"local",speechEngineVoice:"Joanna",speechEngineRate:"100%",speakHook:wc,readAloudHook:Sc,onInlineShortcut:()=>"",onExport:bc,value:""}}function Ba(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}function Fs(t){return!("kind"in t)||t.kind==="symbol"}function Ka(t){return"kind"in t&&t.kind==="matchfix"}function Va(t){return"kind"in t&&t.kind==="infix"}function Os(t){return"kind"in t&&t.kind==="prefix"}function Ps(t){return"kind"in t&&t.kind==="postfix"}function Mc(t){return"kind"in t&&t.kind==="environment"}var Ra,Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e={exports:{}};Ra=_e,function(t){var e,i,n,r,a=9e15,o=1e9,l="0123456789abcdef",s="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",u="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",c={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-a,maxE:a,crypto:!1},d=!0,p="[DecimalError] ",h=p+"Invalid argument: ",f=p+"Precision limit exceeded",g=p+"crypto unavailable",w="[object Decimal]",k=Math.floor,_=Math.pow,M=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,S=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,I=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,D=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,F=1e7,R=s.length-1,Q=u.length-1,z={toStringTag:w};function O(m){var b,y,x,N=m.length-1,v="",L=m[0];if(N>0){for(v+=L,b=1;b<N;b++)(y=7-(x=m[b]+"").length)&&(v+=it(y)),v+=x;(y=7-(x=(L=m[b])+"").length)&&(v+=it(y))}else if(L===0)return"0";for(;L%10==0;)L/=10;return v+L}function ie(m,b,y){if(m!==~~m||m<b||m>y)throw Error(h+m)}function qe(m,b,y,x){var N,v,L,C;for(v=m[0];v>=10;v/=10)--b;return--b<0?(b+=7,N=0):(N=Math.ceil((b+1)/7),b%=7),v=_(10,7-b),C=m[N]%v|0,x==null?b<3?(b==0?C=C/100|0:b==1&&(C=C/10|0),L=y<4&&C==99999||y>3&&C==49999||C==5e4||C==0):L=(y<4&&C+1==v||y>3&&C+1==v/2)&&(m[N+1]/v/100|0)==_(10,b-2)-1||(C==v/2||C==0)&&(m[N+1]/v/100|0)==0:b<4?(b==0?C=C/1e3|0:b==1?C=C/100|0:b==2&&(C=C/10|0),L=(x||y<4)&&C==9999||!x&&y>3&&C==4999):L=((x||y<4)&&C+1==v||!x&&y>3&&C+1==v/2)&&(m[N+1]/v/1e3|0)==_(10,b-3)-1,L}function ge(m,b,y){for(var x,N,v=[0],L=0,C=m.length;L<C;){for(N=v.length;N--;)v[N]*=b;for(v[0]+=l.indexOf(m.charAt(L++)),x=0;x<v.length;x++)v[x]>y-1&&(v[x+1]===void 0&&(v[x+1]=0),v[x+1]+=v[x]/y|0,v[x]%=y)}return v.reverse()}z.absoluteValue=z.abs=function(){var m=new this.constructor(this);return m.s<0&&(m.s=1),Z(m)},z.ceil=function(){return Z(new this.constructor(this),this.e+1,2)},z.clampedTo=z.clamp=function(m,b){var y=this,x=y.constructor;if(m=new x(m),b=new x(b),!m.s||!b.s)return new x(NaN);if(m.gt(b))throw Error(h+b);return y.cmp(m)<0?m:y.cmp(b)>0?b:new x(y)},z.comparedTo=z.cmp=function(m){var b,y,x,N,v=this,L=v.d,C=(m=new v.constructor(m)).d,E=v.s,q=m.s;if(!L||!C)return E&&q?E!==q?E:L===C?0:!L^E<0?1:-1:NaN;if(!L[0]||!C[0])return L[0]?E:C[0]?-q:0;if(E!==q)return E;if(v.e!==m.e)return v.e>m.e^E<0?1:-1;for(b=0,y=(x=L.length)<(N=C.length)?x:N;b<y;++b)if(L[b]!==C[b])return L[b]>C[b]^E<0?1:-1;return x===N?0:x>N^E<0?1:-1},z.cosine=z.cos=function(){var m,b,y=this,x=y.constructor;return y.d?y.d[0]?(m=x.precision,b=x.rounding,x.precision=m+Math.max(y.e,y.sd())+7,x.rounding=1,y=function(N,v){var L,C,E;if(v.isZero())return v;(C=v.d.length)<32?E=""+1/oi(4,L=Math.ceil(C/3)):(L=16,E="2.3283064365386962890625e-10"),N.precision+=L,v=ai(N,1,v.times(E),new N(1));for(var q=L;q--;){var T=v.times(v);v=T.times(T).minus(T).times(8).plus(1)}return N.precision-=L,v}(x,Ut(x,y)),x.precision=m,x.rounding=b,Z(r==2||r==3?y.neg():y,m,b,!0)):new x(1):new x(NaN)},z.cubeRoot=z.cbrt=function(){var m,b,y,x,N,v,L,C,E,q,T=this,P=T.constructor;if(!T.isFinite()||T.isZero())return new P(T);for(d=!1,(v=T.s*_(T.s*T,1/3))&&Math.abs(v)!=1/0?x=new P(v.toString()):(y=O(T.d),(v=((m=T.e)-y.length+1)%3)&&(y+=v==1||v==-2?"0":"00"),v=_(y,1/3),m=k((m+1)/3)-(m%3==(m<0?-1:2)),(x=new P(y=v==1/0?"5e"+m:(y=v.toExponential()).slice(0,y.indexOf("e")+1)+m)).s=T.s),L=(m=P.precision)+3;;)if(q=(E=(C=x).times(C).times(C)).plus(T),x=ee(q.plus(T).times(C),q.plus(E),L+2,1),O(C.d).slice(0,L)===(y=O(x.d)).slice(0,L)){if((y=y.slice(L-3,L+1))!="9999"&&(N||y!="4999")){+y&&(+y.slice(1)||y.charAt(0)!="5")||(Z(x,m+1,1),b=!x.times(x).times(x).eq(T));break}if(!N&&(Z(C,m+1,0),C.times(C).times(C).eq(T))){x=C;break}L+=4,N=1}return d=!0,Z(x,m,P.rounding,b)},z.decimalPlaces=z.dp=function(){var m,b=this.d,y=NaN;if(b){if(y=7*((m=b.length-1)-k(this.e/7)),m=b[m])for(;m%10==0;m/=10)y--;y<0&&(y=0)}return y},z.dividedBy=z.div=function(m){return ee(this,new this.constructor(m))},z.dividedToIntegerBy=z.divToInt=function(m){var b=this.constructor;return Z(ee(this,new b(m),0,1,1),b.precision,b.rounding)},z.equals=z.eq=function(m){return this.cmp(m)===0},z.floor=function(){return Z(new this.constructor(this),this.e+1,3)},z.greaterThan=z.gt=function(m){return this.cmp(m)>0},z.greaterThanOrEqualTo=z.gte=function(m){var b=this.cmp(m);return b==1||b===0},z.hyperbolicCosine=z.cosh=function(){var m,b,y,x,N,v=this,L=v.constructor,C=new L(1);if(!v.isFinite())return new L(v.s?1/0:NaN);if(v.isZero())return C;y=L.precision,x=L.rounding,L.precision=y+Math.max(v.e,v.sd())+4,L.rounding=1,(N=v.d.length)<32?b=""+1/oi(4,m=Math.ceil(N/3)):(m=16,b="2.3283064365386962890625e-10"),v=ai(L,1,v.times(b),new L(1),!0);for(var E,q=m,T=new L(8);q--;)E=v.times(v),v=C.minus(E.times(T.minus(E.times(T))));return Z(v,L.precision=y,L.rounding=x,!0)},z.hyperbolicSine=z.sinh=function(){var m,b,y,x,N=this,v=N.constructor;if(!N.isFinite()||N.isZero())return new v(N);if(b=v.precision,y=v.rounding,v.precision=b+Math.max(N.e,N.sd())+4,v.rounding=1,(x=N.d.length)<3)N=ai(v,2,N,N,!0);else{m=(m=1.4*Math.sqrt(x))>16?16:0|m,N=ai(v,2,N=N.times(1/oi(5,m)),N,!0);for(var L,C=new v(5),E=new v(16),q=new v(20);m--;)L=N.times(N),N=N.times(C.plus(L.times(E.times(L).plus(q))))}return v.precision=b,v.rounding=y,Z(N,b,y,!0)},z.hyperbolicTangent=z.tanh=function(){var m,b,y=this,x=y.constructor;return y.isFinite()?y.isZero()?new x(y):(m=x.precision,b=x.rounding,x.precision=m+7,x.rounding=1,ee(y.sinh(),y.cosh(),x.precision=m,x.rounding=b)):new x(y.s)},z.inverseCosine=z.acos=function(){var m,b=this,y=b.constructor,x=b.abs().cmp(1),N=y.precision,v=y.rounding;return x!==-1?x===0?b.isNeg()?ze(y,N,v):new y(0):new y(NaN):b.isZero()?ze(y,N+4,v).times(.5):(y.precision=N+6,y.rounding=1,b=b.asin(),m=ze(y,N+4,v).times(.5),y.precision=N,y.rounding=v,m.minus(b))},z.inverseHyperbolicCosine=z.acosh=function(){var m,b,y=this,x=y.constructor;return y.lte(1)?new x(y.eq(1)?0:NaN):y.isFinite()?(m=x.precision,b=x.rounding,x.precision=m+Math.max(Math.abs(y.e),y.sd())+4,x.rounding=1,d=!1,y=y.times(y).minus(1).sqrt().plus(y),d=!0,x.precision=m,x.rounding=b,y.ln()):new x(y)},z.inverseHyperbolicSine=z.asinh=function(){var m,b,y=this,x=y.constructor;return!y.isFinite()||y.isZero()?new x(y):(m=x.precision,b=x.rounding,x.precision=m+2*Math.max(Math.abs(y.e),y.sd())+6,x.rounding=1,d=!1,y=y.times(y).plus(1).sqrt().plus(y),d=!0,x.precision=m,x.rounding=b,y.ln())},z.inverseHyperbolicTangent=z.atanh=function(){var m,b,y,x,N=this,v=N.constructor;return N.isFinite()?N.e>=0?new v(N.abs().eq(1)?N.s/0:N.isZero()?N:NaN):(m=v.precision,b=v.rounding,x=N.sd(),Math.max(x,m)<2*-N.e-1?Z(new v(N),m,b,!0):(v.precision=y=x-N.e,N=ee(N.plus(1),new v(1).minus(N),y+m,1),v.precision=m+4,v.rounding=1,N=N.ln(),v.precision=m,v.rounding=b,N.times(.5))):new v(NaN)},z.inverseSine=z.asin=function(){var m,b,y,x,N=this,v=N.constructor;return N.isZero()?new v(N):(b=N.abs().cmp(1),y=v.precision,x=v.rounding,b!==-1?b===0?((m=ze(v,y+4,x).times(.5)).s=N.s,m):new v(NaN):(v.precision=y+6,v.rounding=1,N=N.div(new v(1).minus(N.times(N)).sqrt().plus(1)).atan(),v.precision=y,v.rounding=x,N.times(2)))},z.inverseTangent=z.atan=function(){var m,b,y,x,N,v,L,C,E,q=this,T=q.constructor,P=T.precision,K=T.rounding;if(q.isFinite()){if(q.isZero())return new T(q);if(q.abs().eq(1)&&P+4<=Q)return(L=ze(T,P+4,K).times(.25)).s=q.s,L}else{if(!q.s)return new T(NaN);if(P+4<=Q)return(L=ze(T,P+4,K).times(.5)).s=q.s,L}for(T.precision=C=P+10,T.rounding=1,m=y=Math.min(28,C/7+2|0);m;--m)q=q.div(q.times(q).plus(1).sqrt().plus(1));for(d=!1,b=Math.ceil(C/7),x=1,E=q.times(q),L=new T(q),N=q;m!==-1;)if(N=N.times(E),v=L.minus(N.div(x+=2)),N=N.times(E),(L=v.plus(N.div(x+=2))).d[b]!==void 0)for(m=b;L.d[m]===v.d[m]&&m--;);return y&&(L=L.times(2<<y-1)),d=!0,Z(L,T.precision=P,T.rounding=K,!0)},z.isFinite=function(){return!!this.d},z.isInteger=z.isInt=function(){return!!this.d&&k(this.e/7)>this.d.length-2},z.isNaN=function(){return!this.s},z.isNegative=z.isNeg=function(){return this.s<0},z.isPositive=z.isPos=function(){return this.s>0},z.isZero=function(){return!!this.d&&this.d[0]===0},z.lessThan=z.lt=function(m){return this.cmp(m)<0},z.lessThanOrEqualTo=z.lte=function(m){return this.cmp(m)<1},z.logarithm=z.log=function(m){var b,y,x,N,v,L,C,E,q=this,T=q.constructor,P=T.precision,K=T.rounding;if(m==null)m=new T(10),b=!0;else{if(y=(m=new T(m)).d,m.s<0||!y||!y[0]||m.eq(1))return new T(NaN);b=m.eq(10)}if(y=q.d,q.s<0||!y||!y[0]||q.eq(1))return new T(y&&!y[0]?-1/0:q.s!=1?NaN:y?0:1/0);if(b)if(y.length>1)v=!0;else{for(N=y[0];N%10==0;)N/=10;v=N!==1}if(d=!1,L=pt(q,C=P+5),x=b?Pe(T,C+10):pt(m,C),qe((E=ee(L,x,C,1)).d,N=P,K))do if(L=pt(q,C+=10),x=b?Pe(T,C+10):pt(m,C),E=ee(L,x,C,1),!v){+O(E.d).slice(N+1,N+15)+1==1e14&&(E=Z(E,P+1,0));break}while(qe(E.d,N+=10,K));return d=!0,Z(E,P,K)},z.minus=z.sub=function(m){var b,y,x,N,v,L,C,E,q,T,P,K,G=this,J=G.constructor;if(m=new J(m),!G.d||!m.d)return G.s&&m.s?G.d?m.s=-m.s:m=new J(m.d||G.s!==m.s?G:NaN):m=new J(NaN),m;if(G.s!=m.s)return m.s=-m.s,G.plus(m);if(q=G.d,K=m.d,C=J.precision,E=J.rounding,!q[0]||!K[0]){if(K[0])m.s=-m.s;else{if(!q[0])return new J(E===3?-0:0);m=new J(G)}return d?Z(m,C,E):m}if(y=k(m.e/7),T=k(G.e/7),q=q.slice(),v=T-y){for((P=v<0)?(b=q,v=-v,L=K.length):(b=K,y=T,L=q.length),v>(x=Math.max(Math.ceil(C/7),L)+2)&&(v=x,b.length=1),b.reverse(),x=v;x--;)b.push(0);b.reverse()}else{for((P=(x=q.length)<(L=K.length))&&(L=x),x=0;x<L;x++)if(q[x]!=K[x]){P=q[x]<K[x];break}v=0}for(P&&(b=q,q=K,K=b,m.s=-m.s),L=q.length,x=K.length-L;x>0;--x)q[L++]=0;for(x=K.length;x>v;){if(q[--x]<K[x]){for(N=x;N&&q[--N]===0;)q[N]=F-1;--q[N],q[x]+=F}q[x]-=K[x]}for(;q[--L]===0;)q.pop();for(;q[0]===0;q.shift())--y;return q[0]?(m.d=q,m.e=pe(q,y),d?Z(m,C,E):m):new J(E===3?-0:0)},z.modulo=z.mod=function(m){var b,y=this,x=y.constructor;return m=new x(m),!y.d||!m.s||m.d&&!m.d[0]?new x(NaN):!m.d||y.d&&!y.d[0]?Z(new x(y),x.precision,x.rounding):(d=!1,x.modulo==9?(b=ee(y,m.abs(),0,3,1)).s*=m.s:b=ee(y,m,0,x.modulo,1),b=b.times(m),d=!0,y.minus(b))},z.naturalExponential=z.exp=function(){return $i(this)},z.naturalLogarithm=z.ln=function(){return pt(this)},z.negated=z.neg=function(){var m=new this.constructor(this);return m.s=-m.s,Z(m)},z.plus=z.add=function(m){var b,y,x,N,v,L,C,E,q,T,P=this,K=P.constructor;if(m=new K(m),!P.d||!m.d)return P.s&&m.s?P.d||(m=new K(m.d||P.s===m.s?P:NaN)):m=new K(NaN),m;if(P.s!=m.s)return m.s=-m.s,P.minus(m);if(q=P.d,T=m.d,C=K.precision,E=K.rounding,!q[0]||!T[0])return T[0]||(m=new K(P)),d?Z(m,C,E):m;if(v=k(P.e/7),x=k(m.e/7),q=q.slice(),N=v-x){for(N<0?(y=q,N=-N,L=T.length):(y=T,x=v,L=q.length),N>(L=(v=Math.ceil(C/7))>L?v+1:L+1)&&(N=L,y.length=1),y.reverse();N--;)y.push(0);y.reverse()}for((L=q.length)-(N=T.length)<0&&(N=L,y=T,T=q,q=y),b=0;N;)b=(q[--N]=q[N]+T[N]+b)/F|0,q[N]%=F;for(b&&(q.unshift(b),++x),L=q.length;q[--L]==0;)q.pop();return m.d=q,m.e=pe(q,x),d?Z(m,C,E):m},z.precision=z.sd=function(m){var b,y=this;if(m!==void 0&&m!==!!m&&m!==1&&m!==0)throw Error(h+m);return y.d?(b=zt(y.d),m&&y.e+1>b&&(b=y.e+1)):b=NaN,b},z.round=function(){var m=this,b=m.constructor;return Z(new b(m),m.e+1,b.rounding)},z.sine=z.sin=function(){var m,b,y=this,x=y.constructor;return y.isFinite()?y.isZero()?new x(y):(m=x.precision,b=x.rounding,x.precision=m+Math.max(y.e,y.sd())+7,x.rounding=1,y=function(N,v){var L,C=v.d.length;if(C<3)return v.isZero()?v:ai(N,2,v,v);L=(L=1.4*Math.sqrt(C))>16?16:0|L,v=ai(N,2,v=v.times(1/oi(5,L)),v);for(var E,q=new N(5),T=new N(16),P=new N(20);L--;)E=v.times(v),v=v.times(q.plus(E.times(T.times(E).minus(P))));return v}(x,Ut(x,y)),x.precision=m,x.rounding=b,Z(r>2?y.neg():y,m,b,!0)):new x(NaN)},z.squareRoot=z.sqrt=function(){var m,b,y,x,N,v,L=this,C=L.d,E=L.e,q=L.s,T=L.constructor;if(q!==1||!C||!C[0])return new T(!q||q<0&&(!C||C[0])?NaN:C?L:1/0);for(d=!1,(q=Math.sqrt(+L))==0||q==1/0?(((b=O(C)).length+E)%2==0&&(b+="0"),q=Math.sqrt(b),E=k((E+1)/2)-(E<0||E%2),x=new T(b=q==1/0?"5e"+E:(b=q.toExponential()).slice(0,b.indexOf("e")+1)+E)):x=new T(q.toString()),y=(E=T.precision)+3;;)if(x=(v=x).plus(ee(L,v,y+2,1)).times(.5),O(v.d).slice(0,y)===(b=O(x.d)).slice(0,y)){if((b=b.slice(y-3,y+1))!="9999"&&(N||b!="4999")){+b&&(+b.slice(1)||b.charAt(0)!="5")||(Z(x,E+1,1),m=!x.times(x).eq(L));break}if(!N&&(Z(v,E+1,0),v.times(v).eq(L))){x=v;break}y+=4,N=1}return d=!0,Z(x,E,T.rounding,m)},z.tangent=z.tan=function(){var m,b,y=this,x=y.constructor;return y.isFinite()?y.isZero()?new x(y):(m=x.precision,b=x.rounding,x.precision=m+10,x.rounding=1,(y=y.sin()).s=1,y=ee(y,new x(1).minus(y.times(y)).sqrt(),m+10,0),x.precision=m,x.rounding=b,Z(r==2||r==4?y.neg():y,m,b,!0)):new x(NaN)},z.times=z.mul=function(m){var b,y,x,N,v,L,C,E,q,T=this,P=T.constructor,K=T.d,G=(m=new P(m)).d;if(m.s*=T.s,!(K&&K[0]&&G&&G[0]))return new P(!m.s||K&&!K[0]&&!G||G&&!G[0]&&!K?NaN:K&&G?0*m.s:m.s/0);for(y=k(T.e/7)+k(m.e/7),(E=K.length)<(q=G.length)&&(v=K,K=G,G=v,L=E,E=q,q=L),v=[],x=L=E+q;x--;)v.push(0);for(x=q;--x>=0;){for(b=0,N=E+x;N>x;)C=v[N]+G[x]*K[N-x-1]+b,v[N--]=C%F|0,b=C/F|0;v[N]=(v[N]+b)%F|0}for(;!v[--L];)v.pop();return b?++y:v.shift(),m.d=v,m.e=pe(v,y),d?Z(m,P.precision,P.rounding):m},z.toBinary=function(m,b){return Sn(this,2,m,b)},z.toDecimalPlaces=z.toDP=function(m,b){var y=this,x=y.constructor;return y=new x(y),m===void 0?y:(ie(m,0,o),b===void 0?b=x.rounding:ie(b,0,8),Z(y,m+y.e+1,b))},z.toExponential=function(m,b){var y,x=this,N=x.constructor;return m===void 0?y=de(x,!0):(ie(m,0,o),b===void 0?b=N.rounding:ie(b,0,8),y=de(x=Z(new N(x),m+1,b),!0,m+1)),x.isNeg()&&!x.isZero()?"-"+y:y},z.toFixed=function(m,b){var y,x,N=this,v=N.constructor;return m===void 0?y=de(N):(ie(m,0,o),b===void 0?b=v.rounding:ie(b,0,8),y=de(x=Z(new v(N),m+N.e+1,b),!1,m+x.e+1)),N.isNeg()&&!N.isZero()?"-"+y:y},z.toFraction=function(m){var b,y,x,N,v,L,C,E,q,T,P,K,G=this,J=G.d,Me=G.constructor;if(!J)return new Me(G);if(q=y=new Me(1),x=E=new Me(0),L=(v=(b=new Me(x)).e=zt(J)-G.e-1)%7,b.d[0]=_(10,L<0?7+L:L),m==null)m=v>0?b:q;else{if(!(C=new Me(m)).isInt()||C.lt(q))throw Error(h+C);m=C.gt(b)?v>0?b:q:C}for(d=!1,C=new Me(O(J)),T=Me.precision,Me.precision=v=7*J.length*2;P=ee(C,b,0,1,1),(N=y.plus(P.times(x))).cmp(m)!=1;)y=x,x=N,N=q,q=E.plus(P.times(N)),E=N,N=b,b=C.minus(P.times(N)),C=N;return N=ee(m.minus(y),x,0,1,1),E=E.plus(N.times(q)),y=y.plus(N.times(x)),E.s=q.s=G.s,K=ee(q,x,v,1).minus(G).abs().cmp(ee(E,y,v,1).minus(G).abs())<1?[q,x]:[E,y],Me.precision=T,d=!0,K},z.toHexadecimal=z.toHex=function(m,b){return Sn(this,16,m,b)},z.toNearest=function(m,b){var y=this,x=y.constructor;if(y=new x(y),m==null){if(!y.d)return y;m=new x(1),b=x.rounding}else{if(m=new x(m),b===void 0?b=x.rounding:ie(b,0,8),!y.d)return m.s?y:m;if(!m.d)return m.s&&(m.s=y.s),m}return m.d[0]?(d=!1,y=ee(y,m,0,b,1).times(m),d=!0,Z(y)):(m.s=y.s,y=m),y},z.toNumber=function(){return+this},z.toOctal=function(m,b){return Sn(this,8,m,b)},z.toPower=z.pow=function(m){var b,y,x,N,v,L,C=this,E=C.constructor,q=+(m=new E(m));if(!(C.d&&m.d&&C.d[0]&&m.d[0]))return new E(_(+C,q));if((C=new E(C)).eq(1))return C;if(x=E.precision,v=E.rounding,m.eq(1))return Z(C,x,v);if((b=k(m.e/7))>=m.d.length-1&&(y=q<0?-q:q)<=9007199254740991)return N=wi(E,C,y,x),m.s<0?new E(1).div(N):Z(N,x,v);if((L=C.s)<0){if(b<m.d.length-1)return new E(NaN);if((1&m.d[b])==0&&(L=1),C.e==0&&C.d[0]==1&&C.d.length==1)return C.s=L,C}return(b=(y=_(+C,q))!=0&&isFinite(y)?new E(y+"").e:k(q*(Math.log("0."+O(C.d))/Math.LN10+C.e+1)))>E.maxE+1||b<E.minE-1?new E(b>0?L/0:0):(d=!1,E.rounding=C.s=1,y=Math.min(12,(b+"").length),(N=$i(m.times(pt(C,x+y)),x)).d&&qe((N=Z(N,x+5,1)).d,x,v)&&(b=x+10,+O((N=Z($i(m.times(pt(C,b+y)),b),b+5,1)).d).slice(x+1,x+15)+1==1e14&&(N=Z(N,x+1,0))),N.s=L,d=!0,E.rounding=v,Z(N,x,v))},z.toPrecision=function(m,b){var y,x=this,N=x.constructor;return m===void 0?y=de(x,x.e<=N.toExpNeg||x.e>=N.toExpPos):(ie(m,1,o),b===void 0?b=N.rounding:ie(b,0,8),y=de(x=Z(new N(x),m,b),m<=x.e||x.e<=N.toExpNeg,m)),x.isNeg()&&!x.isZero()?"-"+y:y},z.toSignificantDigits=z.toSD=function(m,b){var y=this.constructor;return m===void 0?(m=y.precision,b=y.rounding):(ie(m,1,o),b===void 0?b=y.rounding:ie(b,0,8)),Z(new y(this),m,b)},z.toString=function(){var m=this,b=m.constructor,y=de(m,m.e<=b.toExpNeg||m.e>=b.toExpPos);return m.isNeg()&&!m.isZero()?"-"+y:y},z.truncated=z.trunc=function(){return Z(new this.constructor(this),this.e+1,1)},z.valueOf=z.toJSON=function(){var m=this,b=m.constructor,y=de(m,m.e<=b.toExpNeg||m.e>=b.toExpPos);return m.isNeg()?"-"+y:y};var ee=function(){function m(x,N,v){var L,C=0,E=x.length;for(x=x.slice();E--;)L=x[E]*N+C,x[E]=L%v|0,C=L/v|0;return C&&x.unshift(C),x}function b(x,N,v,L){var C,E;if(v!=L)E=v>L?1:-1;else for(C=E=0;C<v;C++)if(x[C]!=N[C]){E=x[C]>N[C]?1:-1;break}return E}function y(x,N,v,L){for(var C=0;v--;)x[v]-=C,C=x[v]<N[v]?1:0,x[v]=C*L+x[v]-N[v];for(;!x[0]&&x.length>1;)x.shift()}return function(x,N,v,L,C,E){var q,T,P,K,G,J,Me,Re,Pt,st,Xe,ft,cr,li,wa,dr,Mn,Sa,qt,Ma,hr=x.constructor,Na=x.s==N.s?1:-1,at=x.d,Ne=N.d;if(!(at&&at[0]&&Ne&&Ne[0]))return new hr(x.s&&N.s&&(at?!Ne||at[0]!=Ne[0]:Ne)?at&&at[0]==0||!Ne?0*Na:Na/0:NaN);for(E?(G=1,T=x.e-N.e):(E=F,G=7,T=k(x.e/G)-k(N.e/G)),qt=Ne.length,Mn=at.length,st=(Pt=new hr(Na)).d=[],P=0;Ne[P]==(at[P]||0);P++);if(Ne[P]>(at[P]||0)&&T--,v==null?(li=v=hr.precision,L=hr.rounding):li=C?v+(x.e-N.e)+1:v,li<0)st.push(1),J=!0;else{if(li=li/G+2|0,P=0,qt==1){for(K=0,Ne=Ne[0],li++;(P<Mn||K)&&li--;P++)wa=K*E+(at[P]||0),st[P]=wa/Ne|0,K=wa%Ne|0;J=K||P<Mn}else{for((K=E/(Ne[0]+1)|0)>1&&(Ne=m(Ne,K,E),at=m(at,K,E),qt=Ne.length,Mn=at.length),dr=qt,ft=(Xe=at.slice(0,qt)).length;ft<qt;)Xe[ft++]=0;(Ma=Ne.slice()).unshift(0),Sa=Ne[0],Ne[1]>=E/2&&++Sa;do K=0,(q=b(Ne,Xe,qt,ft))<0?(cr=Xe[0],qt!=ft&&(cr=cr*E+(Xe[1]||0)),(K=cr/Sa|0)>1?(K>=E&&(K=E-1),(q=b(Me=m(Ne,K,E),Xe,Re=Me.length,ft=Xe.length))==1&&(K--,y(Me,qt<Re?Ma:Ne,Re,E))):(K==0&&(q=K=1),Me=Ne.slice()),(Re=Me.length)<ft&&Me.unshift(0),y(Xe,Me,ft,E),q==-1&&(q=b(Ne,Xe,qt,ft=Xe.length))<1&&(K++,y(Xe,qt<ft?Ma:Ne,ft,E)),ft=Xe.length):q===0&&(K++,Xe=[0]),st[P++]=K,q&&Xe[0]?Xe[ft++]=at[dr]||0:(Xe=[at[dr]],ft=1);while((dr++<Mn||Xe[0]!==void 0)&&li--);J=Xe[0]!==void 0}st[0]||st.shift()}if(G==1)Pt.e=T,i=J;else{for(P=1,K=st[0];K>=10;K/=10)P++;Pt.e=P+T*G-1,Z(Pt,C?v+Pt.e+1:v,L,J)}return Pt}}();function Z(m,b,y,x){var N,v,L,C,E,q,T,P,K,G=m.constructor;e:if(b!=null){if(!(P=m.d))return m;for(N=1,C=P[0];C>=10;C/=10)N++;if((v=b-N)<0)v+=7,L=b,E=(T=P[K=0])/_(10,N-L-1)%10|0;else if((K=Math.ceil((v+1)/7))>=(C=P.length)){if(!x)break e;for(;C++<=K;)P.push(0);T=E=0,N=1,L=(v%=7)-7+1}else{for(T=C=P[K],N=1;C>=10;C/=10)N++;E=(L=(v%=7)-7+N)<0?0:T/_(10,N-L-1)%10|0}if(x=x||b<0||P[K+1]!==void 0||(L<0?T:T%_(10,N-L-1)),q=y<4?(E||x)&&(y==0||y==(m.s<0?3:2)):E>5||E==5&&(y==4||x||y==6&&(v>0?L>0?T/_(10,N-L):0:P[K-1])%10&1||y==(m.s<0?8:7)),b<1||!P[0])return P.length=0,q?(b-=m.e+1,P[0]=_(10,(7-b%7)%7),m.e=-b||0):P[0]=m.e=0,m;if(v==0?(P.length=K,C=1,K--):(P.length=K+1,C=_(10,7-v),P[K]=L>0?(T/_(10,N-L)%_(10,L)|0)*C:0),q)for(;;){if(K==0){for(v=1,L=P[0];L>=10;L/=10)v++;for(L=P[0]+=C,C=1;L>=10;L/=10)C++;v!=C&&(m.e++,P[0]==F&&(P[0]=1));break}if(P[K]+=C,P[K]!=F)break;P[K--]=0,C=1}for(v=P.length;P[--v]===0;)P.pop()}return d&&(m.e>G.maxE?(m.d=null,m.e=NaN):m.e<G.minE&&(m.e=0,m.d=[0])),m}function de(m,b,y){if(!m.isFinite())return ur(m);var x,N=m.e,v=O(m.d),L=v.length;return b?(y&&(x=y-L)>0?v=v.charAt(0)+"."+v.slice(1)+it(x):L>1&&(v=v.charAt(0)+"."+v.slice(1)),v=v+(m.e<0?"e":"e+")+m.e):N<0?(v="0."+it(-N-1)+v,y&&(x=y-L)>0&&(v+=it(x))):N>=L?(v+=it(N+1-L),y&&(x=y-N-1)>0&&(v=v+"."+it(x))):((x=N+1)<L&&(v=v.slice(0,x)+"."+v.slice(x)),y&&(x=y-L)>0&&(N+1===L&&(v+="."),v+=it(x))),v}function pe(m,b){var y=m[0];for(b*=7;y>=10;y/=10)b++;return b}function Pe(m,b,y){if(b>R)throw d=!0,y&&(m.precision=y),Error(f);return Z(new m(s),b,1,!0)}function ze(m,b,y){if(b>Q)throw Error(f);return Z(new m(u),b,y,!0)}function zt(m){var b=m.length-1,y=7*b+1;if(b=m[b]){for(;b%10==0;b/=10)y--;for(b=m[0];b>=10;b/=10)y++}return y}function it(m){for(var b="";m--;)b+="0";return b}function wi(m,b,y,x){var N,v=new m(1),L=Math.ceil(x/7+4);for(d=!1;;){if(y%2&&si((v=v.times(b)).d,L)&&(N=!0),(y=k(y/2))===0){y=v.d.length-1,N&&v.d[y]===0&&++v.d[y];break}si((b=b.times(b)).d,L)}return d=!0,v}function ri(m){return 1&m.d[m.d.length-1]}function lr(m,b,y){for(var x,N=new m(b[0]),v=0;++v<b.length;){if(!(x=new m(b[v])).s){N=x;break}N[y](x)&&(N=x)}return N}function $i(m,b){var y,x,N,v,L,C,E,q=0,T=0,P=0,K=m.constructor,G=K.rounding,J=K.precision;if(!m.d||!m.d[0]||m.e>17)return new K(m.d?m.d[0]?m.s<0?0:1/0:1:m.s?m.s<0?0:m:NaN);for(b==null?(d=!1,E=J):E=b,C=new K(.03125);m.e>-2;)m=m.times(C),P+=5;for(E+=x=Math.log(_(2,P))/Math.LN10*2+5|0,y=v=L=new K(1),K.precision=E;;){if(v=Z(v.times(m),E,1),y=y.times(++T),O((C=L.plus(ee(v,y,E,1))).d).slice(0,E)===O(L.d).slice(0,E)){for(N=P;N--;)L=Z(L.times(L),E,1);if(b!=null)return K.precision=J,L;if(!(q<3&&qe(L.d,E-x,G,q)))return Z(L,K.precision=J,G,d=!0);K.precision=E+=10,y=v=C=new K(1),T=0,q++}L=C}}function pt(m,b){var y,x,N,v,L,C,E,q,T,P,K,G=1,J=m,Me=J.d,Re=J.constructor,Pt=Re.rounding,st=Re.precision;if(J.s<0||!Me||!Me[0]||!J.e&&Me[0]==1&&Me.length==1)return new Re(Me&&!Me[0]?-1/0:J.s!=1?NaN:Me?0:J);if(b==null?(d=!1,T=st):T=b,Re.precision=T+=10,x=(y=O(Me)).charAt(0),!(Math.abs(v=J.e)<15e14))return q=Pe(Re,T+2,st).times(v+""),J=pt(new Re(x+"."+y.slice(1)),T-10).plus(q),Re.precision=st,b==null?Z(J,st,Pt,d=!0):J;for(;x<7&&x!=1||x==1&&y.charAt(1)>3;)x=(y=O((J=J.times(m)).d)).charAt(0),G++;for(v=J.e,x>1?(J=new Re("0."+y),v++):J=new Re(x+"."+y.slice(1)),P=J,E=L=J=ee(J.minus(1),J.plus(1),T,1),K=Z(J.times(J),T,1),N=3;;){if(L=Z(L.times(K),T,1),O((q=E.plus(ee(L,new Re(N),T,1))).d).slice(0,T)===O(E.d).slice(0,T)){if(E=E.times(2),v!==0&&(E=E.plus(Pe(Re,T+2,st).times(v+""))),E=ee(E,new Re(G),T,1),b!=null)return Re.precision=st,E;if(!qe(E.d,T-10,Pt,C))return Z(E,Re.precision=st,Pt,d=!0);Re.precision=T+=10,q=L=J=ee(P.minus(1),P.plus(1),T,1),K=Z(J.times(J),T,1),N=C=1}E=q,N+=2}}function ur(m){return m.s*m.s/0+""}function Zt(m,b){var y,x,N;for((y=b.indexOf("."))>-1&&(b=b.replace(".","")),(x=b.search(/e/i))>0?(y<0&&(y=x),y+=+b.slice(x+1),b=b.substring(0,x)):y<0&&(y=b.length),x=0;b.charCodeAt(x)===48;x++);for(N=b.length;b.charCodeAt(N-1)===48;--N);if(b=b.slice(x,N)){if(N-=x,m.e=y=y-x-1,m.d=[],x=(y+1)%7,y<0&&(x+=7),x<N){for(x&&m.d.push(+b.slice(0,x)),N-=7;x<N;)m.d.push(+b.slice(x,x+=7));x=7-(b=b.slice(x)).length}else x-=N;for(;x--;)b+="0";m.d.push(+b),d&&(m.e>m.constructor.maxE?(m.d=null,m.e=NaN):m.e<m.constructor.minE&&(m.e=0,m.d=[0]))}else m.e=0,m.d=[0];return m}function va(m,b){var y,x,N,v,L,C,E,q,T;if(b.indexOf("_")>-1){if(b=b.replace(/(\d)_(?=\d)/g,"$1"),D.test(b))return Zt(m,b)}else if(b==="Infinity"||b==="NaN")return+b||(m.s=NaN),m.e=NaN,m.d=null,m;if(S.test(b))y=16,b=b.toLowerCase();else if(M.test(b))y=2;else{if(!I.test(b))throw Error(h+b);y=8}for((v=b.search(/p/i))>0?(E=+b.slice(v+1),b=b.substring(2,v)):b=b.slice(2),L=(v=b.indexOf("."))>=0,x=m.constructor,L&&(v=(C=(b=b.replace(".","")).length)-v,N=wi(x,new x(y),v,2*v)),v=T=(q=ge(b,y,F)).length-1;q[v]===0;--v)q.pop();return v<0?new x(0*m.s):(m.e=pe(q,T),m.d=q,d=!1,L&&(m=ee(m,N,4*C)),E&&(m=m.times(Math.abs(E)<54?_(2,E):e.pow(2,E))),d=!0,m)}function ai(m,b,y,x,N){var v,L,C,E,q=m.precision,T=Math.ceil(q/7);for(d=!1,E=y.times(y),C=new m(x);;){if(L=ee(C.times(E),new m(b++*b++),q,1),C=N?x.plus(L):x.minus(L),x=ee(L.times(E),new m(b++*b++),q,1),(L=C.plus(x)).d[T]!==void 0){for(v=T;L.d[v]===C.d[v]&&v--;);if(v==-1)break}v=C,C=x,x=L,L=v}return d=!0,L.d.length=T+1,L}function oi(m,b){for(var y=m;--b;)y*=m;return y}function Ut(m,b){var y,x=b.s<0,N=ze(m,m.precision,1),v=N.times(.5);if((b=b.abs()).lte(v))return r=x?4:1,b;if((y=b.divToInt(N)).isZero())r=x?3:2;else{if((b=b.minus(y.times(N))).lte(v))return r=ri(y)?x?2:3:x?4:1,b;r=ri(y)?x?1:4:x?3:2}return b.minus(N).abs()}function Sn(m,b,y,x){var N,v,L,C,E,q,T,P,K,G=m.constructor,J=y!==void 0;if(J?(ie(y,1,o),x===void 0?x=G.rounding:ie(x,0,8)):(y=G.precision,x=G.rounding),m.isFinite()){for(J?(N=2,b==16?y=4*y-3:b==8&&(y=3*y-2)):N=b,(L=(T=de(m)).indexOf("."))>=0&&(T=T.replace(".",""),(K=new G(1)).e=T.length-L,K.d=ge(de(K),10,N),K.e=K.d.length),v=E=(P=ge(T,10,N)).length;P[--E]==0;)P.pop();if(P[0]){if(L<0?v--:((m=new G(m)).d=P,m.e=v,P=(m=ee(m,K,y,x,0,N)).d,v=m.e,q=i),L=P[y],C=N/2,q=q||P[y+1]!==void 0,q=x<4?(L!==void 0||q)&&(x===0||x===(m.s<0?3:2)):L>C||L===C&&(x===4||q||x===6&&1&P[y-1]||x===(m.s<0?8:7)),P.length=y,q)for(;++P[--y]>N-1;)P[y]=0,y||(++v,P.unshift(1));for(E=P.length;!P[E-1];--E);for(L=0,T="";L<E;L++)T+=l.charAt(P[L]);if(J){if(E>1)if(b==16||b==8){for(L=b==16?4:3,--E;E%L;E++)T+="0";for(E=(P=ge(T,N,b)).length;!P[E-1];--E);for(L=1,T="1.";L<E;L++)T+=l.charAt(P[L])}else T=T.charAt(0)+"."+T.slice(1);T=T+(v<0?"p":"p+")+v}else if(v<0){for(;++v;)T="0"+T;T="0."+T}else if(++v>E)for(v-=E;v--;)T+="0";else v<E&&(T=T.slice(0,v)+"."+T.slice(v))}else T=J?"0p+0":"0";T=(b==16?"0x":b==2?"0b":b==8?"0o":"")+T}else T=ur(m);return m.s<0?"-"+T:T}function si(m,b){if(m.length>b)return m.length=b,!0}function xa(m){return new this(m).abs()}function ka(m){return new this(m).acos()}function _a(m){return new this(m).acosh()}function Ru(m,b){return new this(m).plus(b)}function ju(m){return new this(m).asin()}function Hu(m){return new this(m).asinh()}function Wu(m){return new this(m).atan()}function Zu(m){return new this(m).atanh()}function Uu(m,b){m=new this(m),b=new this(b);var y,x=this.precision,N=this.rounding,v=x+4;return m.s&&b.s?m.d||b.d?!b.d||m.isZero()?(y=b.s<0?ze(this,x,N):new this(0)).s=m.s:!m.d||b.isZero()?(y=ze(this,v,1).times(.5)).s=m.s:b.s<0?(this.precision=v,this.rounding=1,y=this.atan(ee(m,b,v,1)),b=ze(this,v,1),this.precision=x,this.rounding=N,y=m.s<0?y.minus(b):y.plus(b)):y=this.atan(ee(m,b,v,1)):(y=ze(this,v,1).times(b.s>0?.25:.75)).s=m.s:y=new this(NaN),y}function Gu(m){return new this(m).cbrt()}function Ju(m){return Z(m=new this(m),m.e+1,2)}function Xu(m,b,y){return new this(m).clamp(b,y)}function Yu(m){if(!m||typeof m!="object")throw Error(p+"Object expected");var b,y,x,N=m.defaults===!0,v=["precision",1,o,"rounding",0,8,"toExpNeg",-a,0,"toExpPos",0,a,"maxE",0,a,"minE",-a,0,"modulo",0,9];for(b=0;b<v.length;b+=3)if(y=v[b],N&&(this[y]=c[y]),(x=m[y])!==void 0){if(!(k(x)===x&&x>=v[b+1]&&x<=v[b+2]))throw Error(h+y+": "+x);this[y]=x}if(y="crypto",N&&(this[y]=c[y]),(x=m[y])!==void 0){if(x!==!0&&x!==!1&&x!==0&&x!==1)throw Error(h+y+": "+x);if(x){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(g);this[y]=!0}else this[y]=!1}return this}function Qu(m){return new this(m).cos()}function e0(m){return new this(m).cosh()}function t0(m,b){return new this(m).div(b)}function i0(m){return new this(m).exp()}function n0(m){return Z(m=new this(m),m.e+1,3)}function r0(){var m,b,y=new this(0);for(d=!1,m=0;m<arguments.length;)if((b=new this(arguments[m++])).d)y.d&&(y=y.plus(b.times(b)));else{if(b.s)return d=!0,new this(1/0);y=b}return d=!0,y.sqrt()}function ss(m){return m instanceof e||m&&m.toStringTag===w||!1}function a0(m){return new this(m).ln()}function o0(m,b){return new this(m).log(b)}function s0(m){return new this(m).log(2)}function l0(m){return new this(m).log(10)}function u0(){return lr(this,arguments,"lt")}function c0(){return lr(this,arguments,"gt")}function d0(m,b){return new this(m).mod(b)}function h0(m,b){return new this(m).mul(b)}function m0(m,b){return new this(m).pow(b)}function p0(m){var b,y,x,N,v=0,L=new this(1),C=[];if(m===void 0?m=this.precision:ie(m,1,o),x=Math.ceil(m/7),this.crypto)if(crypto.getRandomValues)for(b=crypto.getRandomValues(new Uint32Array(x));v<x;)(N=b[v])>=429e7?b[v]=crypto.getRandomValues(new Uint32Array(1))[0]:C[v++]=N%1e7;else{if(!crypto.randomBytes)throw Error(g);for(b=crypto.randomBytes(x*=4);v<x;)(N=b[v]+(b[v+1]<<8)+(b[v+2]<<16)+((127&b[v+3])<<24))>=214e7?crypto.randomBytes(4).copy(b,v):(C.push(N%1e7),v+=4);v=x/4}else for(;v<x;)C[v++]=1e7*Math.random()|0;for(m%=7,(x=C[--v])&&m&&(N=_(10,7-m),C[v]=(x/N|0)*N);C[v]===0;v--)C.pop();if(v<0)y=0,C=[0];else{for(y=-1;C[0]===0;y-=7)C.shift();for(x=1,N=C[0];N>=10;N/=10)x++;x<7&&(y-=7-x)}return L.e=y,L.d=C,L}function f0(m){return Z(m=new this(m),m.e+1,this.rounding)}function g0(m){return(m=new this(m)).d?m.d[0]?m.s:0*m.s:m.s||NaN}function b0(m){return new this(m).sin()}function y0(m){return new this(m).sinh()}function v0(m){return new this(m).sqrt()}function x0(m,b){return new this(m).sub(b)}function k0(){var m=0,b=arguments,y=new this(b[m]);for(d=!1;y.s&&++m<b.length;)y=y.plus(b[m]);return d=!0,Z(y,this.precision,this.rounding)}function _0(m){return new this(m).tan()}function w0(m){return new this(m).tanh()}function S0(m){return Z(m=new this(m),m.e+1,1)}(e=function m(b){var y,x,N;function v(L){var C,E,q,T=this;if(!(T instanceof v))return new v(L);if(T.constructor=v,ss(L))return T.s=L.s,void(d?!L.d||L.e>v.maxE?(T.e=NaN,T.d=null):L.e<v.minE?(T.e=0,T.d=[0]):(T.e=L.e,T.d=L.d.slice()):(T.e=L.e,T.d=L.d?L.d.slice():L.d));if((q=typeof L)=="number"){if(L===0)return T.s=1/L<0?-1:1,T.e=0,void(T.d=[0]);if(L<0?(L=-L,T.s=-1):T.s=1,L===~~L&&L<1e7){for(C=0,E=L;E>=10;E/=10)C++;return void(d?C>v.maxE?(T.e=NaN,T.d=null):C<v.minE?(T.e=0,T.d=[0]):(T.e=C,T.d=[L]):(T.e=C,T.d=[L]))}return 0*L!=0?(L||(T.s=NaN),T.e=NaN,void(T.d=null)):Zt(T,L.toString())}if(q!=="string")throw Error(h+L);return(E=L.charCodeAt(0))===45?(L=L.slice(1),T.s=-1):(E===43&&(L=L.slice(1)),T.s=1),D.test(L)?Zt(T,L):va(T,L)}if(v.prototype=z,v.ROUND_UP=0,v.ROUND_DOWN=1,v.ROUND_CEIL=2,v.ROUND_FLOOR=3,v.ROUND_HALF_UP=4,v.ROUND_HALF_DOWN=5,v.ROUND_HALF_EVEN=6,v.ROUND_HALF_CEIL=7,v.ROUND_HALF_FLOOR=8,v.EUCLID=9,v.config=v.set=Yu,v.clone=m,v.isDecimal=ss,v.abs=xa,v.acos=ka,v.acosh=_a,v.add=Ru,v.asin=ju,v.asinh=Hu,v.atan=Wu,v.atanh=Zu,v.atan2=Uu,v.cbrt=Gu,v.ceil=Ju,v.clamp=Xu,v.cos=Qu,v.cosh=e0,v.div=t0,v.exp=i0,v.floor=n0,v.hypot=r0,v.ln=a0,v.log=o0,v.log10=l0,v.log2=s0,v.max=u0,v.min=c0,v.mod=d0,v.mul=h0,v.pow=m0,v.random=p0,v.round=f0,v.sign=g0,v.sin=b0,v.sinh=y0,v.sqrt=v0,v.sub=x0,v.sum=k0,v.tan=_0,v.tanh=w0,v.trunc=S0,b===void 0&&(b={}),b&&b.defaults!==!0)for(N=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],y=0;y<N.length;)b.hasOwnProperty(x=N[y++])||(b[x]=this[x]);return v.config(b),v}(c)).prototype.constructor=e,e.default=e.Decimal=e,s=new e(s),u=new e(u),Ra.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(z[Symbol.for("nodejs.util.inspect.custom")]=z.toString,z[Symbol.toStringTag]="Decimal"),Ra.exports=e):(t||(t=typeof self<"u"&&self&&self.self==self?self:window),n=t.Decimal,e.noConflict=function(){return t.Decimal=n,e},t.Decimal=e)}(Nc);var Lc=_e.exports,ve={exports:{}};function $s(t){return t===8205||t===65038||t===65039||t>=127995&&t<=128e3||t>=129456&&t<=129460||t>=917536&&t<=917632}function Ac(t){return t>=127462&&t<=127487}(function(t,e){(function(i){var n=function(s){return .5*(Math.exp(s)+Math.exp(-s))},r=function(s){return .5*(Math.exp(s)-Math.exp(-s))},a=function(){throw SyntaxError("Invalid Param")};function o(s,u){var c=Math.abs(s),d=Math.abs(u);return s===0?Math.log(d):u===0?Math.log(c):c<3e3&&d<3e3?.5*Math.log(s*s+u*u):.5*Math.log((s/=2)*s+(u/=2)*u)+Math.LN2}function l(s,u){if(!(this instanceof l))return new l(s,u);var c=function(d,p){var h={re:0,im:0};if(d==null)h.re=h.im=0;else if(p!==void 0)h.re=d,h.im=p;else switch(typeof d){case"object":if("im"in d&&"re"in d)h.re=d.re,h.im=d.im;else if("abs"in d&&"arg"in d){if(!Number.isFinite(d.abs)&&Number.isFinite(d.arg))return l.INFINITY;h.re=d.abs*Math.cos(d.arg),h.im=d.abs*Math.sin(d.arg)}else if("r"in d&&"phi"in d){if(!Number.isFinite(d.r)&&Number.isFinite(d.phi))return l.INFINITY;h.re=d.r*Math.cos(d.phi),h.im=d.r*Math.sin(d.phi)}else d.length===2?(h.re=d[0],h.im=d[1]):a();break;case"string":h.im=h.re=0;var f=d.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),g=1,w=0;f===null&&a();for(var k=0;k<f.length;k++){var _=f[k];_===" "||_==="	"||_===`
`||(_==="+"?g++:_==="-"?w++:_==="i"||_==="I"?(g+w===0&&a(),f[k+1]===" "||isNaN(f[k+1])?h.im+=parseFloat((w%2?"-":"")+"1"):(h.im+=parseFloat((w%2?"-":"")+f[k+1]),k++),g=w=0):((g+w===0||isNaN(_))&&a(),f[k+1]==="i"||f[k+1]==="I"?(h.im+=parseFloat((w%2?"-":"")+_),k++):h.re+=parseFloat((w%2?"-":"")+_),g=w=0))}g+w>0&&a();break;case"number":h.im=0,h.re=d;break;default:a()}return isNaN(h.re)||h.im,h}(s,u);this.re=c.re,this.im=c.im}l.prototype={re:0,im:0,sign:function(){var s=this.abs();return new l(this.re/s,this.im/s)},add:function(s,u){var c=new l(s,u);return this.isInfinite()&&c.isInfinite()?l.NAN:this.isInfinite()||c.isInfinite()?l.INFINITY:new l(this.re+c.re,this.im+c.im)},sub:function(s,u){var c=new l(s,u);return this.isInfinite()&&c.isInfinite()?l.NAN:this.isInfinite()||c.isInfinite()?l.INFINITY:new l(this.re-c.re,this.im-c.im)},mul:function(s,u){var c=new l(s,u);return this.isInfinite()&&c.isZero()||this.isZero()&&c.isInfinite()?l.NAN:this.isInfinite()||c.isInfinite()?l.INFINITY:c.im===0&&this.im===0?new l(this.re*c.re,0):new l(this.re*c.re-this.im*c.im,this.re*c.im+this.im*c.re)},div:function(s,u){var c=new l(s,u);if(this.isZero()&&c.isZero()||this.isInfinite()&&c.isInfinite())return l.NAN;if(this.isInfinite()||c.isZero())return l.INFINITY;if(this.isZero()||c.isInfinite())return l.ZERO;s=this.re,u=this.im;var d,p,h=c.re,f=c.im;return f===0?new l(s/h,u/h):Math.abs(h)<Math.abs(f)?new l((s*(p=h/f)+u)/(d=h*p+f),(u*p-s)/d):new l((s+u*(p=f/h))/(d=f*p+h),(u-s*p)/d)},pow:function(s,u){var c=new l(s,u);if(s=this.re,u=this.im,c.isZero())return l.ONE;if(c.im===0){if(u===0&&s>0)return new l(Math.pow(s,c.re),0);if(s===0)switch((c.re%4+4)%4){case 0:return new l(Math.pow(u,c.re),0);case 1:return new l(0,Math.pow(u,c.re));case 2:return new l(-Math.pow(u,c.re),0);case 3:return new l(0,-Math.pow(u,c.re))}}if(s===0&&u===0&&c.re>0&&c.im>=0)return l.ZERO;var d=Math.atan2(u,s),p=o(s,u);return s=Math.exp(c.re*p-c.im*d),u=c.im*p+c.re*d,new l(s*Math.cos(u),s*Math.sin(u))},sqrt:function(){var s,u,c=this.re,d=this.im,p=this.abs();if(c>=0){if(d===0)return new l(Math.sqrt(c),0);s=.5*Math.sqrt(2*(p+c))}else s=Math.abs(d)/Math.sqrt(2*(p-c));return u=c<=0?.5*Math.sqrt(2*(p-c)):Math.abs(d)/Math.sqrt(2*(p+c)),new l(s,d<0?-u:u)},exp:function(){var s=Math.exp(this.re);return this.im,new l(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,u=this.im;return new l(Math.expm1(s)*Math.cos(u)+function(c){var d=Math.PI/4;if(-d>c||c>d)return Math.cos(c)-1;var p=c*c;return p*(p*(p*(p*(p*(p*(p*(p/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(u),Math.exp(s)*Math.sin(u))},log:function(){var s=this.re,u=this.im;return new l(o(s,u),Math.atan2(u,s))},abs:function(){return s=this.re,u=this.im,c=Math.abs(s),d=Math.abs(u),c<3e3&&d<3e3?Math.sqrt(c*c+d*d):(c<d?(c=d,d=s/u):d=u/s,c*Math.sqrt(1+d*d));var s,u,c,d},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,u=this.im;return new l(Math.sin(s)*n(u),Math.cos(s)*r(u))},cos:function(){var s=this.re,u=this.im;return new l(Math.cos(s)*n(u),-Math.sin(s)*r(u))},tan:function(){var s=2*this.re,u=2*this.im,c=Math.cos(s)+n(u);return new l(Math.sin(s)/c,r(u)/c)},cot:function(){var s=2*this.re,u=2*this.im,c=Math.cos(s)-n(u);return new l(-Math.sin(s)/c,r(u)/c)},sec:function(){var s=this.re,u=this.im,c=.5*n(2*u)+.5*Math.cos(2*s);return new l(Math.cos(s)*n(u)/c,Math.sin(s)*r(u)/c)},csc:function(){var s=this.re,u=this.im,c=.5*n(2*u)-.5*Math.cos(2*s);return new l(Math.sin(s)*n(u)/c,-Math.cos(s)*r(u)/c)},asin:function(){var s=this.re,u=this.im,c=new l(u*u-s*s+1,-2*s*u).sqrt(),d=new l(c.re-u,c.im+s).log();return new l(d.im,-d.re)},acos:function(){var s=this.re,u=this.im,c=new l(u*u-s*s+1,-2*s*u).sqrt(),d=new l(c.re-u,c.im+s).log();return new l(Math.PI/2-d.im,d.re)},atan:function(){var s=this.re,u=this.im;if(s===0){if(u===1)return new l(0,1/0);if(u===-1)return new l(0,-1/0)}var c=s*s+(1-u)*(1-u),d=new l((1-u*u-s*s)/c,-2*s/c).log();return new l(-.5*d.im,.5*d.re)},acot:function(){var s=this.re,u=this.im;if(u===0)return new l(Math.atan2(1,s),0);var c=s*s+u*u;return c!==0?new l(s/c,-u/c).atan():new l(s!==0?s/0:0,u!==0?-u/0:0).atan()},asec:function(){var s=this.re,u=this.im;if(s===0&&u===0)return new l(0,1/0);var c=s*s+u*u;return c!==0?new l(s/c,-u/c).acos():new l(s!==0?s/0:0,u!==0?-u/0:0).acos()},acsc:function(){var s=this.re,u=this.im;if(s===0&&u===0)return new l(Math.PI/2,1/0);var c=s*s+u*u;return c!==0?new l(s/c,-u/c).asin():new l(s!==0?s/0:0,u!==0?-u/0:0).asin()},sinh:function(){var s=this.re,u=this.im;return new l(r(s)*Math.cos(u),n(s)*Math.sin(u))},cosh:function(){var s=this.re,u=this.im;return new l(n(s)*Math.cos(u),r(s)*Math.sin(u))},tanh:function(){var s=2*this.re,u=2*this.im,c=n(s)+Math.cos(u);return new l(r(s)/c,Math.sin(u)/c)},coth:function(){var s=2*this.re,u=2*this.im,c=n(s)-Math.cos(u);return new l(r(s)/c,-Math.sin(u)/c)},csch:function(){var s=this.re,u=this.im,c=Math.cos(2*u)-n(2*s);return new l(-2*r(s)*Math.cos(u)/c,2*n(s)*Math.sin(u)/c)},sech:function(){var s=this.re,u=this.im,c=Math.cos(2*u)+n(2*s);return new l(2*n(s)*Math.cos(u)/c,-2*r(s)*Math.sin(u)/c)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var u=this.asin();return this.re=-this.im,this.im=s,s=u.re,u.re=-u.im,u.im=s,u},acosh:function(){var s=this.acos();if(s.im<=0){var u=s.re;s.re=-s.im,s.im=u}else u=s.im,s.im=-s.re,s.re=u;return s},atanh:function(){var s=this.re,u=this.im,c=s>1&&u===0,d=1-s,p=1+s,h=d*d+u*u,f=h!==0?new l((p*d-u*u)/h,(u*d+p*u)/h):new l(s!==-1?s/0:0,u!==0?u/0:0),g=f.re;return f.re=o(f.re,f.im)/2,f.im=Math.atan2(f.im,g)/2,c&&(f.im=-f.im),f},acoth:function(){var s=this.re,u=this.im;if(s===0&&u===0)return new l(0,Math.PI/2);var c=s*s+u*u;return c!==0?new l(s/c,-u/c).atanh():new l(s!==0?s/0:0,u!==0?-u/0:0).atanh()},acsch:function(){var s=this.re,u=this.im;if(u===0)return new l(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var c=s*s+u*u;return c!==0?new l(s/c,-u/c).asinh():new l(s!==0?s/0:0,u!==0?-u/0:0).asinh()},asech:function(){var s=this.re,u=this.im;if(this.isZero())return l.INFINITY;var c=s*s+u*u;return c!==0?new l(s/c,-u/c).acosh():new l(s!==0?s/0:0,u!==0?-u/0:0).acosh()},inverse:function(){if(this.isZero())return l.INFINITY;if(this.isInfinite())return l.ZERO;var s=this.re,u=this.im,c=s*s+u*u;return new l(s/c,-u/c)},conjugate:function(){return new l(this.re,-this.im)},neg:function(){return new l(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new l(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new l(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new l(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,u){var c=new l(s,u);return Math.abs(c.re-this.re)<=l.EPSILON&&Math.abs(c.im-this.im)<=l.EPSILON},clone:function(){return new l(this.re,this.im)},toString:function(){var s=this.re,u=this.im,c="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<l.EPSILON&&(s=0),Math.abs(u)<l.EPSILON&&(u=0),u===0?c+s:(s!==0?(c+=s,c+=" ",u<0?(u=-u,c+="-"):c+="+",c+=" "):u<0&&(u=-u,c+="-"),u!==1&&(c+=u),c+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},l.ZERO=new l(0,0),l.ONE=new l(1,0),l.I=new l(0,1),l.PI=new l(Math.PI,0),l.E=new l(Math.E,0),l.INFINITY=new l(1/0,1/0),l.NAN=new l(NaN,NaN),l.EPSILON=1e-15,Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Complex=l,t.exports=l})()})(ve);class Cc{constructor(e){this.obeyspaces=!1,this.s=function(i){if(/^[\u0020-\u00FF]*$/.test(i))return i;const n=[],r=function(o){const l=[];for(let s=0;s<o.length;s++){let u=o.charCodeAt(s);if(u>=55296&&u<=56319){const c=o.charCodeAt(s+1);c>=56320&&c<=57343&&(u=65536+1024*(u-55296)+(c-56320),s++)}l.push(u)}return l}(i);let a=0;for(;a<r.length;){const o=r[a++],l=r[a];if(l===8205){const s=a-1;for(a+=2;r[a]===8205;)a+=2;n.push(String.fromCodePoint(...r.slice(s,2*a-s+1)))}else if($s(l)){const s=a-1;for(;$s(r[a]);)a+=r[a]===8205?2:1;n.push(String.fromCodePoint(...r.slice(s,2*a-s-1)))}else Ac(o)?(a+=1,n.push(String.fromCodePoint(...r.slice(a-2,2)))):n.push(String.fromCodePoint(o))}return n}(e),this.pos=0}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){let i;return i=typeof this.s=="string"?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join("")),i!=null&&i[0]?(this.pos+=i[0].length,i[0]):null}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]/))return"<space>";const e=this.get();if(e==="\\"){if(!this.end()){let i=this.match(/^[a-zA-Z*]+/);if(i)this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]*/);else if(i=this.get(),i===" ")return"<space>";return"\\"+i}}else{if(e==="{")return"<{>";if(e==="}")return"<}>";if(e==="^"){if(this.peek()==="^"){this.get();const i=this.match(/^(\^(\^(\^(\^[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f][0-9a-f]/);if(i)return String.fromCodePoint(parseInt(i.slice(i.lastIndexOf("^")+1),16))}return e}if(e==="#"){if(!this.end()){let i=!1;if(/[0-9?]/.test(this.peek())&&(i=!0,this.pos+1<this.s.length)){const n=this.s[this.pos+1];i=/[^0-9A-Za-z]/.test(n)}return i?"#"+this.get():"#"}}else if(e==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return e}}function Ec(t,e){var i,n,r,a;let o=[],l=t.next();if(l&&l!=="\\relax"){if(l==="\\noexpand")l=t.next(),l&&o.push(l);else if(l==="\\obeyspaces")t.obeyspaces=!0;else if(l==="\\space"||l==="~")o.push("<space>");else if(l==="\\bgroup")o.push("<{>");else if(l==="\\egroup")o.push("<}>");else if(l==="\\string")l=t.next(),l&&(l[0]==="\\"?Array.from(l).forEach(s=>o.push(s==="\\"?"\\backslash":s)):l==="<{>"?o.push("\\{"):l==="<space>"?o.push("~"):l==="<}>"&&o.push("\\}"));else if(l==="\\csname"){for(;t.peek()==="<space>";)t.next();let s="",u=!1,c=[];do c.length===0&&(/^#[0-9?]$/.test(t.peek())?(c=Gr((n=(i=e==null?void 0:e[t.get().slice(1)])!==null&&i!==void 0?i:e==null?void 0:e["?"])!==null&&n!==void 0?n:"\\placeholder{}",e),l=c[0]):(l=t.next(),c=l?[l]:[])),u=c.length===0,u||l!=="\\endcsname"||(u=!0,c.shift()),u||(u=l==="<$>"||l==="<$$>"||l==="<{>"||l==="<}>"||!!l&&l.length>1&&l[0]==="\\"),u||(s+=c.shift());while(!u);s&&o.push("\\"+s),o=o.concat(c)}else if(l!=="\\endcsname")if(l.length>1&&l[0]==="#"){const s=l.slice(1);o=o.concat(Gr((a=(r=e==null?void 0:e[s])!==null&&r!==void 0?r:e==null?void 0:e["?"])!==null&&a!==void 0?a:"\\placeholder{}",e))}else o.push(l)}return o}function Gr(t,e){const i=t.toString().split(/\r?\n/);let n="",r="";for(const l of i){n+=r,r=" ";const s=l.match(/((?:\\%)|[^%])*/);s!==null&&(n+=s[0])}const a=new Cc(n),o=[];do o.push(...Ec(a,e));while(!a.end());return o}function Ce(t){let e="",i="";for(const n of t)n&&(/[a-zA-Z*]/.test(n[0])&&(i+=e),e=/\\[a-zA-Z]+\*?$/.test(n)?" ":"",i+=n);return i}function Rt(t){let e=[];if(Array.isArray(t))for(const i of t)Array.isArray(i)?e=[...e,...i]:e.push(i);else e=[t];return Ce(e.map(i=>{var n;return(n={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[i])!==null&&n!==void 0?n:i}))}function Jr(t){return t!==null&&typeof t=="object"&&"num"in t}function Qo(t){return t!==null&&typeof t=="object"&&"sym"in t}function wn(t){return t!==null&&typeof t=="object"&&"fn"in t}function xn(t){return t===null?null:typeof t=="object"&&"str"in t?t.str:typeof t!="string"||t.length<2||t[0]!=="'"||t[t.length-1]!=="'"?null:t.substring(1,t.length-1)}function ae(t){return t===null?null:Array.isArray(t)?t[0]:wn(t)?t.fn[0]:null}function Bs(t){const e=ae(t);return typeof e=="string"?e:""}function H(t,e){var i,n;return t===null?null:Array.isArray(t)?(i=t[e])!==null&&i!==void 0?i:null:wn(t)&&(n=t.fn[e])!==null&&n!==void 0?n:null}function Ot(t){return Array.isArray(t)?Math.max(0,t.length-1):wn(t)?Math.max(0,t.fn.length-1):0}function Ii(t){if(t===null)return null;const e=Qo(t)?t.sym:t;return typeof e!="string"||e.length>=2&&e[0]==="'"&&e[e.length-1]==="'"?null:e}function Kn(t){if(t===null)return null;const e=Qo(t)?t.sym:t;return typeof e!="string"||e.length<2||e[0]!=="'"||e[e.length-1]!=="'"?null:e.slice(1,-1)}function Ks(t){var e;const i=ae(t);if(i==="KeyValuePair"||i==="Tuple"||i==="Pair"){const n=Kn(H(t,1));return n?[n,(e=H(t,2))!==null&&e!==void 0?e:"Nothing"]:null}return null}function lu(t){if(t===null)return null;if(typeof t=="object"&&"dict"in t)return t.dict;const e=Ks(t);if(e)return{[e[0]]:e[1]};const i=ae(t);if(i==="List"||i==="Dictionary"){const n={};for(let r=1;r<Ot(t);r++){const a=Ks(H(t,r));a&&(n[a[0]]=a[1])}return n}return null}function xe(t){if(t===null)return null;if(typeof t=="number")return t;if(Jr(t))return parseFloat(t.num);const e=Ii(t);return e==="NaN"?NaN:e==="+Infinity"?1/0:e==="-Infinity"?-1/0:null}function So(t){var e,i,n,r,a,o,l,s,u,c,d;if(function(g){return g===null||!Array.isArray(g)&&(typeof g!="object"||!("fn"in g||"dic"in g))}(t))return[null,null];const p=ae(t);if(!p)return[null,null];let h=null,f=null;if(p==="Negate"&&([h,f]=So((e=H(t,1))!==null&&e!==void 0?e:"Missing"),h!==null&&f!==null))return[-h,f];if(p==="Rational")return[(n=xe((i=H(t,1))!==null&&i!==void 0?i:NaN))!==null&&n!==void 0?n:NaN,(a=xe((r=H(t,2))!==null&&r!==void 0?r:NaN))!==null&&a!==void 0?a:NaN];if(p==="Power"){const g=xe(H(t,2));g===1?(h=(o=xe(H(t,1)))!==null&&o!==void 0?o:null,f=1):g===-1&&(h=1,f=(l=xe(H(t,1)))!==null&&l!==void 0?l:null)}return p==="Divide"&&(h=(s=xe(H(t,1)))!==null&&s!==void 0?s:null,f=(u=xe(H(t,2)))!==null&&u!==void 0?u:null),p==="Multiply"&&ae(H(t,2))==="Power"&&xe(H(H(t,2),2))===-1&&(h=(c=xe(H(t,1)))!==null&&c!==void 0?c:null,f=(d=xe(H(H(t,2),1)))!==null&&d!==void 0?d:null),h===null||f===null?[null,null]:Number.isInteger(h)&&Number.isInteger(f)?[h,f]:[null,null]}function We(t){return Array.isArray(t)?t.slice(1):wn(t)?t.fn.slice(1):[]}function uu(t,e){let i=null;if(Array.isArray(t)&&(i=t),wn(t)&&(i=t.fn),i===null)return[];let n=1;const r=[];for(;n<i.length;)r.push(e(i[n])),n+=1;return r}function Xr(t,e,i,n="both"){var r,a,o,l,s,u;if(n==="non")return[t,e,i];const c=ae(e),d=ae(i);return n==="left"?c===t?[t,...(r=We(e))!==null&&r!==void 0?r:[],i]:[t,e,i]:n==="right"?d===t?[t,e,...(a=We(i))!==null&&a!==void 0?a:[]]:[t,e,i]:c===t&&d===t?[t,...(o=We(e))!==null&&o!==void 0?o:[],...(l=We(i))!==null&&l!==void 0?l:[]]:c===t?[t,...(s=We(e))!==null&&s!==void 0?s:[],i]:d===t?[t,e,...(u=We(i))!==null&&u!==void 0?u:[]]:[t,e,i]}function Mo(t){var e,i;const n=ae(t);return t===null?null:(n==="Delimiter"&&(t=(e=H(t,1))!==null&&e!==void 0?e:null),t===null?null:n==="Sequence"?(i=We(t))!==null&&i!==void 0?i:[]:null)}function an(t,e){return e>2?"solidus":"radical"}function cu(t,e){return e>3?"inline-solidus":"quotient"}function Vn(t,e,i,n){return i===null?"\\sqrt{}":(n=n!=null?n:2,e==="solidus"?t.wrapShort(i)+"^{1\\/"+t.serialize(n)+"}":e==="quotient"?t.wrapShort(i)+"^{\\frac{1}{"+t.serialize(n)+"}}":xe(n)===2?"\\sqrt{"+t.serialize(i)+"}":"\\sqrt["+t.serialize(n)+"]{"+t.serialize(i)+"}")}function Vs(t,e){var i,n;if(e===null)return"";const r=(i=H(e,1))!==null&&i!==void 0?i:"Missing",a=(n=H(e,2))!==null&&n!==void 0?n:"Missing";if(Ot(e)===1)return t.serialize(r);const o=cu(0,t.level);if(o==="inline-solidus"||o==="nice-solidus"){const l=t.wrapShort(r),s=t.wrapShort(a);return o==="inline-solidus"?`${l}\\/${s}`:`^{${l}}\\!\\!/\\!_{${s}}`}return o==="reciprocal"?t.wrap(r)+t.wrap(a)+"^{-1}":o==="factor"?"\\frac{1}{"+t.serialize(a)+"}"+t.wrap(r):`\\frac{${t.serialize(r)}}{${t.serialize(a)}}`}function ja(t,e){var i,n,r;const a=ae(e),o=(i=H(e,1))!==null&&i!==void 0?i:"Missing",l=(n=H(e,2))!==null&&n!==void 0?n:"Missing";if(a==="Sqrt")return Vn(t,an(0,t.level),o,2);if(a==="Root")return Vn(t,an(0,t.level),o,l);const s=(r=xe(l))!==null&&r!==void 0?r:1;if(s===-1)return t.serialize(["Divide","1",o]);if(s<0)return t.serialize(["Divide","1",["Power",o,-s]]);if(ae(l)==="Divide"||ae(l)==="Rational"){if(xe(H(l,1))===1)return Vn(t,an(0,t.level),o,H(l,2))}else if(ae(l)==="Power"&&xe(H(l,2))===-1)return Vn(t,an(0,t.level),o,H(l,1));return t.wrapShort(o)+"^{"+t.serialize(l)+"}"}const Dc=[{name:"CatalanConstant",serialize:"G"},{name:"GoldenRatio",serialize:"\\varphi"},{name:"EulerGamma",serialize:"\\gamma"},{name:"Degrees",serialize:"\\frac{\\pi}{180}"},{trigger:["\\infty"],parse:{num:"+Infinity"}},{name:"ComplexInfinity",trigger:["\\tilde","\\infty"],serialize:"\\tilde\\infty"},{trigger:["\\tilde","<{>","\\infty","<}>"],parse:"ComplexInfinity"},{name:"Pi",trigger:["\\pi"]},{trigger:["\u03C0"],parse:"Pi"},{name:"ExponentialE",trigger:["e"],serialize:"e"},{trigger:["\\mathrm","<{>","e","<}>"],parse:"ExponentialE"},{trigger:["\\exponentialE"],parse:"ExponentialE"},{name:"ImaginaryUnit",trigger:["\\imaginaryI"]},{trigger:["i"],parse:"ImaginaryUnit"},{trigger:["\\mathrm","<{>","i","<}>"],parse:"ImaginaryUnit"},{name:"Add",trigger:["+"],kind:"infix",associativity:"both",precedence:275,parse:(t,e,i)=>{if(275<e.minPrec)return null;const n=t.matchExpression({...e,minPrec:275});return n===null?null:Xr("Add",i,n)},serialize:function(t,e){var i,n;t.level-=1;const r=ae(e);let a="",o=H(e,1),l=!Number.isNaN((i=xe(o))!==null&&i!==void 0?i:NaN);if(r==="Negate")a="-"+t.wrap(o,276);else if(r==="Add"){a=t.serialize(o);const s=Ot(e)+1;for(let u=2;u<s;u++){o=H(e,u);const c=(n=xe(o))!==null&&n!==void 0?n:NaN,d=!Number.isNaN(c);let p=!1;if(o!==null&&l){const[h,f]=So(o);h!==null&&f!==null&&isFinite(h)&&isFinite(f)&&f!==1&&(a+=t.options.invisiblePlus+t.serialize(o),p=!0)}if(!p)if(c<0)a+=t.serialize(o);else if(ae(o)==="Negate")a+=t.wrap(o,275);else{const h=t.wrap(o,275);h[0]==="-"||h[0]==="+"?a+=h:a=a+"+"+h}l=d}}else if(r==="Subtract"){const s=H(e,2);a=s!==null?t.wrap(o,275)+"-"+t.wrap(s,275):t.wrap(o,275)}return t.level+=1,a}},{kind:"prefix",trigger:["+"],precedence:275,parse:(t,e)=>275<e.minPrec?null:t.matchExpression({...e,minPrec:400})},{name:"Complex",precedence:274,serialize:(t,e)=>{const i=xe(H(e,1)),n=xe(H(e,2));if(n===0)return t.serialize(H(e,1));const r=n===1?"\\imaginaryI":n===-1?"-\\imaginaryI":Ce([t.serialize(H(e,2)),"\\imaginaryI"]);return i===0?r:Ce(n!==null&&n<0?[t.serialize(H(e,1)),r]:[t.serialize(H(e,1)),"+",r])}},{name:"Divide",trigger:["\\frac"],requiredLatexArg:2,precedence:660,parse:function(t){var e,i,n,r;const a=(e=t.matchRequiredLatexArgument())!==null&&e!==void 0?e:"Missing",o=(i=t.matchRequiredLatexArgument())!==null&&i!==void 0?i:"Missing";if(ae(a)==="PartialDerivative"&&(ae(o)==="PartialDerivative"||ae(o)==="Multiply"&&ae(H(o,1))==="PartialDerivative")){const l=(n=H(a,3))!==null&&n!==void 0?n:"Missing";let s=H(a,1);s!==null&&s!=="Missing"||(s=(r=t.matchExpression())!==null&&r!==void 0?r:"Missing");let u=[];if(ae(o)==="Multiply"){for(const c of We(o))if(ae(c)==="PartialDerivative"){const d=H(c,2);d&&u.push(d)}}else{const c=H(o,2);c&&u.push(c)}return u.length>1&&(u=["List",...u]),["PartialDerivative",s,...u,l==="Missing"?1:l]}return["Divide",a,o]},serialize:Vs},{trigger:["\\/"],kind:"infix",associativity:"non",precedence:660,parse:"Divide"},{trigger:["/"],kind:"infix",associativity:"non",precedence:660,parse:"Divide"},{trigger:["\\div"],kind:"infix",associativity:"non",precedence:660,parse:"Divide"},{name:"Exp",serialize:(t,e)=>{var i;return Ce(["\\exponentialE^{",t.serialize((i=H(e,1))!==null&&i!==void 0?i:"Missing"),"}"])}},{name:"Factorial",trigger:["!"],kind:"postfix",precedence:810},{name:"Factorial2",trigger:["!","!"],kind:"postfix",precedence:810},{trigger:"\\operatorname{floor}",parse:t=>{const e=t.matchArguments("enclosure");return e===null?null:["Floor",...e]}},{name:"Gcd",trigger:"\\operatorname{gcd}",parse:t=>{const e=t.matchArguments("enclosure");return e===null?null:["Gcd",...e]},serialize:(t,e)=>Ce(["\\operatorname{gcd}","\\left(",t.serialize(e),"\\right)"])},{name:"Half",serialize:"\\frac12"},{name:"Lcm",trigger:"\\operatorname{lcm}"},{name:"MinusPlus",trigger:["\\mp"],kind:"infix",associativity:"both",precedence:270},{name:"Multiply",trigger:["\\times"],kind:"infix",associativity:"both",precedence:390,serialize:function t(e,i){var n,r;if(i===null)return"";e.level-=1;let a="";const[o,l]=function(p){var h,f,g,w,k;if(ae(p)!=="Multiply")return[[],[]];const _=[],M=[],S=We(p);for(const I of S)if(ae(I)==="Power")if(ae(H(I,2))==="Negate"){const D=(h=H(I,1))!==null&&h!==void 0?h:"Missing",F=(f=H(H(I,2),1))!==null&&f!==void 0?f:"Missing";M.push(["Power",D,F])}else{const D=(g=xe(H(I,2)))!==null&&g!==void 0?g:NaN;D===-1?M.push((w=H(I,1))!==null&&w!==void 0?w:"Missing"):D<0?M.push(["Power",(k=H(I,1))!==null&&k!==void 0?k:"Missing",-D]):_.push(I)}else _.push(I);return[_,M]}(i);if(l.length>0&&(a=l.length===1&&l[0]===1?o.length===0?"1":o.length===1?e.serialize(o[0]):t(e,["Multiply",...o]):e.serialize(["Divide",o.length===1?o[0]:["Multiply",...o],l.length===1?l[0]:["Multiply",...l]])),a)return e.level+=1,a;let s=!1,u=null;const c=Ot(i)+1;let d=!1;for(let p=1;p<c;p++){if(u=H(i,p),u===null)continue;let h;if(typeof u=="number"||Jr(u))h=e.serialize(u),h!=="-1"||a?(h[0]==="-"&&(h=h.slice(1),s=!s),a=a?Ce([a,e.options.multiply,h]):h):a="-",d=!0;else{if(ae(u)==="Power"){const[f,g]=So((n=H(u,2))!==null&&n!==void 0?n:NaN);if(f===1&&g!==null){a+=Vn(e,an(0,e.level),H(u,1),g),d=!1;continue}}if(ae(u)!=="Power"||isNaN((r=xe(H(u,1)))!==null&&r!==void 0?r:NaN)){if(ae(u)==="Negate"&&(u=H(u,1),s=!s),h=e.wrap(u,390),a){const f=ae(u);a=!d||f!=="Divide"&&f!=="Rational"?e.options.invisibleMultiply?Ce([a,e.options.invisibleMultiply,h]):Ce([a,h]):Ce([a,e.options.multiply,h])}else a=h;d=!1}else h=e.serialize(u),a=a?Ce([a,e.options.multiply,h]):h,d=!0}}return e.level+=1,s?"-"+a:a}},{trigger:["\\cdot"],kind:"infix",associativity:"both",precedence:390,parse:(t,e,i)=>{if(391<e.minPrec)return null;const n=t.matchExpression({...e,minPrec:392});return n===null?null:Xr("Multiply",i,n)}},{trigger:["*"],kind:"infix",associativity:"both",precedence:390,parse:(t,e,i)=>{if(391<e.minPrec)return null;const n=t.matchExpression({...e,minPrec:392});return n===null?null:["Multiply",i,n]}},{name:"Negate",trigger:["-"],kind:"prefix",parse:(t,e)=>{if(276<e.minPrec)return null;const i=t.matchExpression({...e,minPrec:400});return i===null?null:["Negate",i]},precedence:275},{name:"PlusMinus",trigger:["\\pm"],kind:"infix",associativity:"both",precedence:270},{name:"Power",trigger:["^"],kind:"infix",serialize:ja},{name:"Rational",precedence:660,serialize:Vs},{name:"Root",serialize:ja},{name:"Round",trigger:"\\operatorname{round}"},{name:"Square",precedence:720,serialize:(t,e)=>t.wrapShort(H(e,1))+"^2"},{name:"Sign",trigger:"\\operatorname{sgn}"},{name:"Sqrt",trigger:["\\sqrt"],optionalLatexArg:1,requiredLatexArg:1,parse:function(t){const e=t.matchOptionalLatexArgument(),i=t.matchRequiredLatexArgument();return i===null?e!==null?["Root","Missing",e]:["Sqrt","Missing"]:e!==null?["Root",i,e]:["Sqrt",i]},serialize:ja},{name:"Subtract",trigger:["-"],kind:"infix",associativity:"both",precedence:275,parse:(t,e,i)=>{if(276<e.minPrec)return null;const n=t.matchExpression({...e,minPrec:277});return n===null?null:["Subtract",i,n]}}];function Rs(t=""){return(e,i)=>We(i).map(n=>e.serialize(n)).join(t)}function Zi(t,e){if(e===null)return"";const i=ae(e);if(i==="LatexString")return hu(t,e);if(i==="LatexTokens")return du(t,e);const n=xn(e);if(n!==null)return`\\text{${n}}`;const r=xe(e);return r!==null?r.toString():`\\text{${JSON.stringify(e)}}`}const Tc=[{name:"Missing",trigger:["\\placeholder"],requiredLatexArg:1,serialize:t=>{var e;return(e=t.options.missingSymbol)!==null&&e!==void 0?e:"\\placeholder{}"}},{name:"BaseForm",serialize:(t,e)=>{var i,n;const r=(i=xe(H(e,2)))!==null&&i!==void 0?i:NaN;if(isFinite(r)&&r>=2&&r<=36){const a=(n=xe(H(e,1)))!==null&&n!==void 0?n:NaN;if(isFinite(a)){let o=Number(a).toString(r),l=0;if(r===2||r===10?l=4:r===16?l=2:r>16&&(l=4),l>0){const s=o;o="";for(let u=0;u<s.length;u++)u>0&&u%l==0&&(o="\\, "+o),o=s[s.length-u-1]+o}return`(\\text{${o}}_{${r}}`}}return"\\operatorname{BaseForm}("+t.serialize(H(e,1))+", "+t.serialize(H(e,2))+")"}},{name:"Delimiter",serialize:(t,e)=>{var i,n,r,a,o,l;const s=Ot(e);if(s===0)return"";if(s===1)return`\\left( ${t.serialize(H(e,1))} \\right)`;let u="",c="\\left(",d="\\left)";s===2?u=(i=Zi(t,H(e,2)))!==null&&i!==void 0?i:"":s===3?(c=(n=Zi(t,H(e,2)))!==null&&n!==void 0?n:"",d=(r=Zi(t,H(e,3)))!==null&&r!==void 0?r:""):(c=(a=Zi(t,H(e,2)))!==null&&a!==void 0?a:"",u=(o=Zi(t,H(e,3)))!==null&&o!==void 0?o:"",d=(l=Zi(t,H(e,4)))!==null&&l!==void 0?l:"");const p=H(e,1);return u&&ae(p)==="Sequence"?`${c} ${Rs(u)(t,p)} ${d}`:`${c} ${t.serialize(p)} ${d}`}},{name:"Error",serialize:(t,e)=>{const i=H(e,1),n=Ii(i)==="Nothing"?"":t.serialize(i);if(Ot(e)>=3){const r=H(e,3);if(r&&ae(r)==="LatexForm"){const a=js(xn(H(r,1)));if(a)return`${n!=null?n:""}\\texttt{\\textcolor{red}{${a}}}`}}return n!=null?n:""}},{name:"FromLatex",serialize:(t,e)=>`\\texttt{${js(xn(H(e,1)))}}`},{name:"LatexForm",serialize:hu},{name:"LatexTokens",serialize:du},{kind:"matchfix",openDelimiter:"(",closeDelimiter:")",parse:(t,e)=>e===null?null:ae(e)==="Sequence"?Ot(e)===0?["Delimiter","Nothing"]:["Delimiter",...We(e)]:["Delimiter",e]},{name:"Sequence",trigger:[","],kind:"infix",precedence:20,parse:(t,e,i)=>{if(e.minPrec>=20)return null;i==="Missing"&&(i="Nothing");const n=["Sequence",i];let r=!1;for(;!r;){for(r=!0,t.skipSpace();t.match(",");)n.push("Nothing"),t.skipSpace();if(t.atTerminator(e))n.push("Nothing");else{const a=t.matchExpression({...e,minPrec:20});n.push(a!=null?a:"Nothing"),r=a===null}r||(t.skipSpace(),r=!t.match(","))}return n},serialize:Rs()},{trigger:[";"],kind:"infix",precedence:19,parse:(t,e,i)=>{var n,r;if(e.minPrec>=19)return null;i==="Missing"&&(i="Nothing");const a=["Sequence",...(n=Mo(i))!==null&&n!==void 0?n:["Sequence",i]];for(;;){for(t.skipSpace();t.match(",");)a.push("Nothing"),t.skipSpace();if(t.atEnd){a.push("Nothing");break}const o=t.matchExpression({...e,minPrec:19});if(o===null){a.push("Nothing");break}if(a.push(...(r=Mo(o))!==null&&r!==void 0?r:["Sequence",o]),t.skipSpace(),!t.match(","))break}return a}},{name:"String",trigger:["\\text"],parse:t=>No(t),serialize:(t,e)=>{const i=We(e);return i===null||i.length===0?"\\text{}":Ce(["\\text{",i.map(n=>t.serialize(n)).join(""),"}"])}},{name:"Subscript",trigger:["_"],kind:"infix",serialize:(t,e)=>Ot(e)===2?t.serialize(H(e,1))+"_{"+t.serialize(H(e,2))+"}":"_{"+t.serialize(H(e,1))+"}"},{name:"Superplus",trigger:["^","+"],kind:"postfix"},{name:"Subplus",trigger:["_","+"],kind:"postfix"},{name:"Superminus",trigger:["^","-"],kind:"postfix"},{name:"Subminus",trigger:["_","-"],kind:"postfix"},{trigger:["^","*"],kind:"postfix",parse:(t,e)=>["Superstar",e]},{name:"Superstar",trigger:["^","\\star"],kind:"postfix"},{trigger:["_","*"],kind:"postfix",parse:(t,e)=>["Substar",e]},{name:"Substar",trigger:["_","\\star"],kind:"postfix"},{name:"Superdagger",trigger:["^","\\dagger"],kind:"postfix"},{trigger:["^","\\dag"],kind:"postfix",parse:(t,e)=>["Superdagger",e]},{name:"Prime",trigger:["^","\\prime"],kind:"postfix"},{trigger:["^","\\doubleprime"],kind:"postfix",parse:(t,e)=>["Prime",e!=null?e:"Nothing",2]},{name:"Derivative",serialize:(t,e)=>{var i;const n=(i=xe(H(e,1)))!==null&&i!==void 0?i:NaN;if(!isFinite(n))return"";const r=t.serialize(H(e,2));return n===1?r+"^{\\prime}":n===2?r+"^{\\doubleprime}":r+"^{("+Number(n).toString()+")}"}},{name:"Piecewise",trigger:"cases",kind:"environment",parse:t=>{var e;return["Piecewise",(e=t.matchTabular("cases"))!==null&&e!==void 0?e:"Nothing"]},serialize:(t,e)=>{if(ae(H(e,1))!=="List")return"";const i=We(H(e,1));let n="",r="";for(const a of i){n+=r;const o=H(a,1);if(o!==null){n+=t.serialize(o);const l=H(a,2);l!==null&&(n+="&"+t.serialize(l))}r="\\\\"}return"\\begin{cases}"+n+"\\end{cases}"}}];function No(t,e){var i,n,r;if(!t.match("<{>"))return"Nothing";const a=[];let o="",l=null;for(;!t.atEnd&&!t.match("<}>");)if(t.peek==="<{>")a.push(No(t));else if(t.match("\\textbf")&&t.match("<{>"))a.push(No(t,{"font-weight":"bold"}));else if(t.match("\\color")&&t.match("<{>")){const s=t.matchColor();s&&t.match("<}>")&&(l!==null&&o?a.push(["Style",o,{dict:l}]):o&&a.push(["String",o]),o="",l={color:s})}else if(t.match("<space>"))o+=" ";else if(t.match("<$>")){const s=t.index,u=(i=t.matchExpression())!==null&&i!==void 0?i:"Nothing";t.skipSpace(),t.match("<$>")?a.push(u):(o+="$",t.index=s)}else if(t.match("<$$>")){const s=t.index,u=(n=t.matchExpression())!==null&&n!==void 0?n:"Nothing";t.skipSpace(),t.match("<$$>")?a.push(u):(o+="$$",t.index=s)}else o+=(r=t.matchChar())!==null&&r!==void 0?r:"";return l!==null&&o?a.push(["Style",o,{dict:l}]):o&&a.push(["String",o]),e?["Style",["String",...a],{dict:e}]:["String",...a]}function du(t,e){return e===null?"":Ce(uu(e,i=>{const n=xn(i);return n===null?t.serialize(i):n==="<{>"?"{":n==="<}>"?"}":n==="<$>"?"$":n==="<$$>"?"$$":n==="<space>"?" ":n}))}function hu(t,e){return e===null?"":Ce(uu(e,i=>{var n;return(n=xn(i))!==null&&n!==void 0?n:t.serialize(i)}))}function js(t){return t===null?"":t.replace(/[{}\[\]\\:\-\$%]/g,e=>{var i;return(i={"{":"\\lbrace ","}":"\\rbrace ","[":"\\lbrack ","]":"\\rbrack ",":":"\\colon ","\\":"\\backslash "}[e])!==null&&i!==void 0?i:"\\"+e})}const zc=[{name:"Overscript",trigger:["\\overset"],kind:"infix",precedence:700},{name:"Underscript",trigger:["\\underset"],kind:"infix",precedence:700},{name:"Increment",trigger:["+","+"],kind:"postfix",precedence:880},{name:"Decrement",trigger:["-","-"],kind:"postfix",precedence:880},{name:"PreIncrement",trigger:["+","+"],kind:"prefix",precedence:880},{name:"PreDecrement",trigger:["-","-"],kind:"prefix",precedence:880},{name:"Ring",trigger:["\\circ"],kind:"infix",precedence:265},{name:"Transpose",trigger:["^","T"],kind:"infix"},{name:"ConjugateTranspose",trigger:["^","H"],kind:"infix"},{name:"StringJoin",trigger:["\\lt","\\gt"],kind:"infix",precedence:780},{name:"Starstar",trigger:["\\star","\\star"],kind:"infix",precedence:780},{name:"PartialDerivative",trigger:["\\partial"],kind:"prefix",parse:t=>{var e,i;let n=!1,r="Nothing",a="Nothing";for(;!n;)t.skipSpace(),t.match("_")?a=t.matchRequiredLatexArgument():t.match("^")?r=t.matchRequiredLatexArgument():n=!0;const o=Mo(a);if(o&&(a=["List",...o]),!a||!r)return null;let l=(e=t.matchRequiredLatexArgument())!==null&&e!==void 0?e:"Nothing";return l!=="Nothing"&&(l=[l,...(i=t.matchArguments("enclosure"))!==null&&i!==void 0?i:"Nothing"]),["PartialDerivative",l,a,r]},serialize:(t,e)=>{let i="\\partial";const n=H(e,1),r=H(e,2),a=H(e,3);return r!==null&&r!=="Nothing"&&(ae(r)==="List"?i+="_{"+t.serialize(["Sequence",...We(r)])+"}":i+="_{"+t.serialize(r)+"}"),a!==null&&a!=="Nothing"&&(i+="^{"+t.serialize(a)+"}"),n!==null&&n!=="Nothing"&&(i+=t.serialize(n)),i},precedence:740},{name:"OverBar",trigger:["\\overline"],requiredLatexArg:1},{name:"UnderBar",trigger:["\\underline"],requiredLatexArg:1},{name:"OverVector",trigger:["\\vec"],requiredLatexArg:1},{name:"OverTilde",trigger:["\\tilde"],requiredLatexArg:1},{name:"OverHat",trigger:["\\hat"],requiredLatexArg:1},{name:"OverRightArrow",trigger:["\\overrightarrow"],requiredLatexArg:1},{name:"OverLeftArrow",trigger:["\\overleftarrow"],requiredLatexArg:1},{name:"OverRightDoubleArrow",trigger:["\\Overrightarrow"],requiredLatexArg:1},{name:"OverLeftHarpoon",trigger:["\\overleftharpoon"],requiredLatexArg:1},{name:"OverRightHarpoon",trigger:["\\overrightharpoon"],requiredLatexArg:1},{name:"OverLeftRightArrow",trigger:["\\overleftrightarrow"],requiredLatexArg:1},{name:"OverBrace",trigger:["\\overbrace"],requiredLatexArg:1},{name:"OverLineSegment",trigger:["\\overlinesegment"],requiredLatexArg:1},{name:"OverGroup",trigger:["\\overgroup"],requiredLatexArg:1},{trigger:["\\displaystyle"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'display'","'block'"]]}},{trigger:["\\textstyle"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'display'","'inline'"]]}},{trigger:["\\scriptstyle"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'display'","'script'"]]}},{trigger:["\\scriptscriptstyle"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'display'","'scriptscript'"]]}},{trigger:["\\tiny"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",1]]}},{trigger:["\\scriptsize"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",2]]}},{trigger:["\\footnotesize"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",3]]}},{trigger:["\\small"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",4]]}},{trigger:["\\normalsize"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",5]]}},{trigger:["\\large"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",6]]}},{trigger:["\\Large"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",7]]}},{trigger:["\\LARGE"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",8]]}},{trigger:["\\huge"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",9]]}},{trigger:["\\Huge"],parse:t=>{const e=t.matchArguments("group");return e===null?null:["Style",...e,["KeyValuePair","'size'",10]]}},{name:"Style",serialize:(t,e)=>{let i=t.serialize(H(e,1));const n=lu(H(e,2));if(n===null)return i;Kn(n.display)==="block"?i=Ce(["{\\displaystyle",i,"}"]):Kn(n.display)==="inline"?i=Ce(["{\\textstyle",i,"}"]):Kn(n.display)==="script"?i=Ce(["{\\scriptstyle",i,"}"]):Kn(n.display)==="scriptscript"&&(i=Ce(["{\\scriptscriptstyle",i,"}"]));const r=xe(n.size);return r!==null&&r>=1&&r<=10&&(i=Ce(["{",{1:"\\tiny",2:"\\scriptsize",3:"\\footnotesize",4:"\\small",5:"\\normalsize",6:"\\large",7:"\\Large",8:"\\LARGE",9:"\\huge",10:"\\Huge"}[r],i,"}"])),i}},{trigger:["\\!"],parse:()=>["HorizontalSpacing","Nothing",-3]},{trigger:["\\ "],parse:()=>["HorizontalSpacing","Nothing",6]},{trigger:["\\:"],parse:()=>["HorizontalSpacing","Nothing",4]},{trigger:["\\enskip"],parse:()=>["HorizontalSpacing","Nothing",9]},{trigger:["\\quad"],parse:()=>["HorizontalSpacing","Nothing",18]},{trigger:["\\qquad"],parse:()=>["HorizontalSpacing","Nothing",36]},{trigger:["\\,"],parse:()=>["HorizontalSpacing","Nothing",3]},{trigger:["\\;"],parse:()=>["HorizontalSpacing","Nothing",5]},{trigger:["\\enspace"],parse:()=>["HorizontalSpacing","Nothing",9]},{name:"HorizontalSpacing",serialize:(t,e)=>{var i;if(Ii(H(e,1))==="Nothing"){const n=xe(H(e,2));return n===null?"":(i={"-3":"\\!",6:"\\ ",3:"\\,",4:"\\:",5:"\\;",9:"\\enspace",18:"\\quad",36:"\\qquad"}[n])!==null&&i!==void 0?i:""}return""}}];function fe(t){return e=>{var i,n;let r=!1,a=0;if(e.skipSpace(),e.match("^")){if(e.skipSpace(),e.match("<{>")){e.skipSpace(),e.match("-")&&e.match("1")&&(r=!0);do e.match("\\doubleprime")&&(a+=2),e.match("\\prime")&&(a+=1),e.match("'")&&(a+=1);while(!e.match("<}>")&&!e.atEnd)}let s=!1;for(;!s;)e.skipSpace(),e.match("\\doubleprime")?a+=2:e.match("\\prime")||e.match("'")?a+=1:s=!0}let o=(n=(i={"\\arcsin":"Arcsin","\\arccos":"Arccos","\\arctan":"Arctan","\\arctg":"Arctan","\\arcctg":"Arctan","\\arcsec":"Arcsec","\\arccsc":" Arccsc","\\arsinh":"Arsinh","\\arcosh":"Arcosh","\\artanh":"Artanh","\\arcsech":"Arcsech","\\arccsch":"Arcsch","\\ch":"Cosh","\\cos":"Cos","\\cosec":"Csc","\\cosh":"Csch","\\cot":"Cot","\\cotg":"Cot","\\coth":"Coth","\\csc":"Csc","\\ctg":"Cot","\\cth":"Coth","\\sec":"Sec","\\sin":"Sin","\\sinh":"Sinh","\\sh":"Sinh","\\tan":"Tan","\\tanh":"Tanh","\\tg":"Tan","\\th":"Tanh"}[t!=null?t:""])!==null&&i!==void 0?i:t)!==null&&n!==void 0?n:"";r&&(o=["InverseFunction",o]),a>=1&&(o=["Derivative",a,o]);const l=e.matchArguments("implicit");return l===null?[o,"Nothing"]:[o,...l]}}const qc=[{name:"Arcsin",trigger:["\\arcsin"],parse:fe("Arcsin")},{name:"Arccos",trigger:["\\arccos"],parse:fe("Arccos")},{name:"Arctan",trigger:["\\arctan"],parse:fe("Arctan")},{trigger:["\\arctg"],parse:fe("Arctan")},{name:"Arccot",trigger:["\\arcctg"],parse:fe("Arccot")},{name:"Arcsec",trigger:["\\arcsec"],parse:fe("Arcsec")},{name:"Arccsc",trigger:["\\arccsc"],parse:fe("Arccsc")},{name:"Arsinh",trigger:["\\arsinh"],parse:fe("Arsinh")},{name:"Arcosh",trigger:["\\arcosh"],parse:fe("Arcosh")},{name:"Artanh",trigger:["\\artanh"],parse:fe("Artanh")},{name:"Arsech",trigger:["\\arsech"],parse:fe("Arsech")},{name:"Arcsch",trigger:["\\arcsch"],parse:fe("Arcsch")},{trigger:["\\ch"],parse:fe("Cosh")},{name:"Cosec",trigger:["\\cosec"],parse:fe("Cosec")},{name:"Cosh",trigger:["\\cosh"],parse:fe("Cosh")},{name:"Cot",trigger:["\\cot"],parse:fe("Cot")},{trigger:["\\cotg"],parse:fe("Cot")},{name:"Coth",trigger:["\\coth"],parse:fe("Coth")},{name:"Csc",trigger:["\\csc"],parse:fe("Csc")},{trigger:["\\ctg"],parse:fe("Cot")},{trigger:["\\cth"],parse:fe("Cotanh")},{name:"Sec",trigger:["\\sec"],parse:fe("Sec")},{name:"Sinh",trigger:["\\sinh"],parse:fe("Sinh")},{trigger:["\\sh"],parse:fe("Sinh")},{name:"Tan",trigger:["\\tan"],parse:fe("Tan")},{trigger:["\\tg"],parse:fe("Tan")},{name:"Tanh",trigger:["\\tanh"],parse:fe("Tanh")},{trigger:["\\th"],parse:fe("Tanh")},{name:"Cos",trigger:["\\cos"],parse:fe("Cos")},{name:"Sin",trigger:["\\sin"],parse:fe("Sin")}],Ic=[{name:"AlgebraicNumber",trigger:"\\bar\\Q"},{name:"ComplexNumber",trigger:["\\C"]},{trigger:"\\mathbb{C}",parse:"ComplexNumber"},{name:"ImaginaryNumber",trigger:["\\imaginaryI\\R"]},{name:"ExtendedComplexNumber",trigger:["\\bar\\C"]},{name:"EmptySet",trigger:["\\emptyset"]},{trigger:["\\varnothing"],parse:"EmptySet"},{name:"Integer",trigger:["\\Z"]},{trigger:"\\mathbb{Z}",parse:"Integer"},{name:"RationalNumber",trigger:["\\Q"]},{name:"RealNumber",trigger:["\\R"]},{name:"ExtendedRealNumber",trigger:["\\bar\\R"]},{name:"TranscendentalNumber",trigger:"\\R-\\bar\\Q"},{trigger:"\\R\\backslash\\bar\\Q",parse:"TranscendentalNumber"},{name:"NegativeNumber",trigger:"\\R^-"},{trigger:"\\R^{-}",parse:"NegativeNumber"},{trigger:"\\R_-",parse:"NegativeNumber"},{trigger:"\\R_{-}",parse:"NegativeNumber"},{trigger:"\\R^{\\lt}",parse:"NegativeNumber"},{name:"PositiveNumber",trigger:"\\R^+"},{trigger:"\\R^{+}",parse:"PositiveNumber"},{trigger:"\\R_+",parse:"PositiveNumber"},{trigger:"\\R_{+}",parse:"PositiveNumber"},{trigger:"\\R^{\\gt}",parse:"PositiveNumber"},{name:"NonPositiveNumber",trigger:"\\R^{0-}"},{trigger:"\\R^{-0}",parse:"NonPositiveNumber"},{trigger:"\\R^{\\leq}",parse:"NonPositiveNumber"},{name:"NegativeInteger",trigger:"\\Z^-"},{trigger:"\\Z^-",parse:"NegativeInteger"},{trigger:"\\Z^{-}",parse:"NegativeInteger"},{trigger:"\\Z_-",parse:"NegativeInteger"},{trigger:"\\Z_{-}",parse:"NegativeInteger"},{trigger:"\\Z^{\\lt}",parse:"NegativeInteger"},{name:"PositiveInteger",trigger:"\\Z^+"},{trigger:"\\Z^{+}",parse:"PositiveInteger"},{trigger:"\\Z_+",parse:"PositiveInteger"},{trigger:"\\Z_{+}",parse:"PositiveInteger"},{trigger:"\\Z^{\\gt}",parse:"PositiveInteger"},{trigger:"\\Z^{\\gt0}",parse:"PositiveInteger"},{trigger:"\\N^+",parse:"PositiveInteger"},{trigger:"\\N^{+}",parse:"PositiveInteger"},{trigger:"\\N^*",parse:"PositiveInteger"},{trigger:"\\N^{*}",parse:"PositiveInteger"},{trigger:"\\N^\\star",parse:"PositiveInteger"},{trigger:"\\N^{\\star}",parse:"PositiveInteger"},{trigger:"\\N_1",parse:"PositiveInteger"},{trigger:"\\N_{1}",parse:"PositiveInteger"},{name:"NonNegativeInteger",trigger:["\\N"]},{trigger:"\\Z^{+0}",parse:"NonNegativeInteger"},{trigger:"\\Z^{\\geq}",parse:"NonNegativeInteger"},{trigger:"\\Z^{\\geq0}",parse:"NonNegativeInteger"},{trigger:"\\Z^{0+}",parse:"NonNegativeInteger"},{trigger:"\\mathbb{N}",parse:"NonNegativeInteger"},{trigger:"\\N_0",parse:"NonNegativeInteger"},{trigger:"\\N_{0}",parse:"NonNegativeInteger"},{name:"CartesianProduct",trigger:["\\times"],kind:"infix",associativity:"right",precedence:390,parse:(t,e,i)=>{if(390<e.minPrec)return null;const n=t.computeEngine;if(!n||!n.box(i).valueDomain.isSubdomainOf("Set"))return null;const r=t.index,a=t.matchExpression({...e,minPrec:390});return a===null||n.box(i).valueDomain.isSubdomainOf("Set")!==!0?(t.index=r,null):["CartesianProduct",i,a]}},{name:"Complement",trigger:["^","\\complement"],kind:"infix"},{name:"Intersection",trigger:["\\cap"],kind:"infix",precedence:350},{name:"Interval",serialize:Ha},{name:"Multiple",serialize:Ha},{name:"Union",trigger:["\\cup"],kind:"infix",precedence:350},{name:"Range",serialize:Ha},{name:"SetMinus",trigger:["\\setminus"],kind:"infix",precedence:650},{name:"SymmetricDifference",trigger:["\\triangle"],kind:"infix",precedence:260},{trigger:["\\ni"],kind:"infix",associativity:"right",precedence:160,parse:(t,e,i)=>{const n=t.matchExpression(e);return n===null?null:["Element",n,i]}},{name:"Element",trigger:["\\in"],kind:"infix",precedence:240},{name:"NotElement",trigger:["\\notin"],kind:"infix",precedence:240},{name:"NotSubset",trigger:["\\nsubset"],kind:"infix",associativity:"right",precedence:240},{name:"NotSuperset",trigger:["\\nsupset"],kind:"infix",associativity:"right",precedence:240},{name:"NotSubsetNotEqual",trigger:["\\nsubseteq"],kind:"infix",associativity:"right",precedence:240},{name:"NotSupersetNotEqual",trigger:["\\nsupseteq"],kind:"infix",associativity:"right",precedence:240},{name:"SquareSubset",trigger:["\\sqsubset"],kind:"infix",associativity:"right",precedence:265},{name:"SquareSubsetEqual",trigger:["\\sqsubseteq"],kind:"infix",associativity:"right",precedence:265},{name:"SquareSuperset",trigger:["\\sqsupset"],kind:"infix",associativity:"right",precedence:265},{name:"SquareSupersetEqual",trigger:["\\sqsupseteq"],kind:"infix",associativity:"right",precedence:265},{name:"Subset",trigger:["\\subset"],kind:"infix",associativity:"right",precedence:240},{trigger:["\\subsetneq"],kind:"infix",associativity:"right",precedence:240,parse:"Subset"},{trigger:["\\varsubsetneqq"],kind:"infix",associativity:"right",precedence:240,parse:"Subset"},{name:"SubsetEqual",trigger:["\\subseteq"],kind:"infix",precedence:240},{name:"Superset",trigger:["\\supset"],kind:"infix",associativity:"right",precedence:240},{trigger:["\\supsetneq"],kind:"infix",associativity:"right",precedence:240,parse:"Superset"},{trigger:["\\varsupsetneq"],kind:"infix",associativity:"right",precedence:240,parse:"Superset"},{name:"SupersetEqual",trigger:["\\supseteq"],kind:"infix",associativity:"right",precedence:240}];function Ha(t,e){if(e===null)return"";const i=ae(e);return i===null?"":i==="Set"?Ot(e)===0?"\\emptyset":Ot(e)===2&&ae(H(e,2))==="Condition"?Ce(["\\left\\lbrace",t.serialize(H(e,1)),"\\middle\\mid",t.serialize(H(e,2)),"\\right\\rbrace"]):Ce(["\\left\\lbrace",...We(e).map(n=>t.serialize(n)+" ,"),"\\right\\rbrace"]):(t.numericSetStyle(e,t.level),"")}const Hs=[["Alpha","\\alpha",945],["Beta","\\beta",946],["Delta","\\delta",948],["Epsilon","\\epsilon",949],["EpsilonSymbol","\\varepsilon",1013],["Zeta","\\zeta",950],["Eta","\\eta",951],["Theta","\\theta",952],["ThetaSymbol","\\vartheta",977],["Iota","\\iota",953],["Kappa","\\kappa",954],["KappaSymbol","\\varkappa",1008],["Lambda","\\lambda",955],["Mu","\\mu",956],["Nu","\\nu",957],["Xi","\\xi",958],["Omicron","\\omicron",959],["PiSymbol","\\varpi",982],["Rho","\\rho",961],["RhoSymbol","\\varrho",1009],["Sigma","\\sigma",963],["FinalSigma","\\varsigma",962],["Tau","\\tau",964],["Phi","\\phi",981],["PhiLetter","\\varphi",966],["Upsilon","\\upsilon",965],["Chi","\\chi",967],["Psi","\\psi",968],["Omega","\\omega",969],["CapitalAlpha","\\Alpha",913],["CapitalBeta","\\Beta",914],["CapitalGamma","\\Gamma",915],["CapitalDelta","\\Delta",916],["CapitalEpsilon","\\Epsilon",917],["CapitalZeta","\\Zeta",918],["CapitalEta","\\Eta",919],["CapitalTheta","\\Theta",920],["CapitaIota","\\Iota",921],["CapitalKappa","\\Kappa",922],["CapitalLambda","\\Lambda",923],["CapitalMu","\\Mu",924],["CapitalNu","\\Nu",925],["CapitalXi","\\Xi",926],["CapitalOmicron","\\Omicron",927],["CapitalPi","\\Pi",928],["CapitalRho","\\Rho",929],["CapitalSigma","\\Sigma",931],["CapitalTau","\\Tau",932],["CapitalPhi","\\Phi",934],["CapitalUpsilon","\\Upsilon",933],["CapitalChi","\\Chi",935],["CapitalPsi","\\Psi",936],["CapitalOmega","\\Omega",937],["Digamma","\\digamma",989],["Alef","\\aleph",8501],["Bet","\\beth",8502],["Gimel","\\gimel",8503],["Dalet","\\daleth",8504],["TurnedCapitalF","\\Finv",8498],["TurnedCapitalG","\\Game",8513],["Weierstrass","\\wp",8472],["Eth","\\eth",240],["InvertedOhm","\\mho",8487],["BlackClubSuit","\\clubsuit",9827],["WhiteHeartSuit","\\heartsuit",9825],["BlackSpadeSuit","\\spadesuit",9824],["WhiteDiamondSuit","\\diamondsuit",9826],["Sharp","\\sharp",9839],["Flat","\\flat",9837],["Natural","\\natural",9838]],Fc=[...Hs.map(([t,e,i])=>({name:t,trigger:[e],parse:t})),...Hs.map(([t,e,i])=>({trigger:[String.fromCodePoint(i)],parse:t}))],Ws={"(":"(",")":")","[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace","<":"\\langle",">":"\\rangle","|":"\\vert","||":"\\Vert","\\lceil":"\\lceil","\\lfloor":"\\lfloor","\\rceil":"\\rceil","\\rfloor":"\\rfloor"};function Oc(t){return Array.isArray(t)?t.length:1}function Pc(t,e){var i,n,r,a,o,l,s,u,c;if(!function(f,g){var w,k;const _=(k=(w=f.name)!==null&&w!==void 0?w:f.trigger)!==null&&k!==void 0?k:f.openDelimiter;if(f.serialize!==void 0&&!f.name)return g({severity:"warning",message:["invalid-dictionary-entry",_,"Unexpected serialize property without a name property"]}),!1;if(Ka(f)){if(f.trigger)return g({severity:"warning",message:["invalid-dictionary-entry",_,`Unexpected 'trigger' "${f.trigger}". 'matchfix' operators use a 'openDelimiter' and 'closeDelimiter' instead of a trigger. `]}),!1;if(!f.openDelimiter||!f.closeDelimiter)return g({severity:"warning",message:["invalid-dictionary-entry",_,"Expected `openDelimiter` and a `closeDelimiter` for matchfix operator"]}),!1;if(typeof f.openDelimiter!=typeof f.closeDelimiter)return g({severity:"warning",message:["invalid-dictionary-entry",_,"Expected `openDelimiter` and `closeDelimiter` to both be strings or array of LatexToken"]}),!1}if(Va(f)||Ps(f)||Os(f)){if(Array.isArray(f.trigger)&&(f.trigger[0]==="_"||f.trigger[0]==="^")||typeof f.trigger=="string"&&(f.trigger.startsWith("^")||f.trigger.startsWith("_"))){if(f.precedence!==void 0||f.associativity!==void 0)return g({severity:"warning",message:["invalid-dictionary-entry",_,'Unexpected "precedence" or "associativity" for superscript/subscript operator']}),!1}else if(f.precedence===void 0)return g({severity:"warning",message:["invalid-dictionary-entry",_,`Expected a "precedence" for ${f.kind} operator`]}),!1}else if(f.associativity!==void 0)return g({severity:"warning",message:["invalid-dictionary-entry",_,'Unexpected "associativity" operator']}),!1;return Fs(f)||f.optionalLatexArg===void 0&&f.requiredLatexArg===void 0?Ka(f)||f.trigger||f.name?f.parse!==void 0||f.name!==void 0||(g({severity:"warning",message:["invalid-dictionary-entry",_,"Expected a 'parse' or 'name'"]}),!1):(g({severity:"warning",message:["invalid-dictionary-entry",_,"Expected at least a 'trigger' or a 'name'"]}),!1):(g({severity:"warning",message:["invalid-dictionary-entry",_,'Unexpected "optionalLatexArg" or "requiredLatexArg" for non-symbol']}),!1)}(t,e))return[null,null];const d={name:t.name,kind:"kind"in t?t.kind:"symbol"};if(d.kind==="matchfix"&&Ka(t)){if(d.openDelimiter=t.openDelimiter,d.closeDelimiter=t.closeDelimiter,typeof t.serialize=="function")d.serialize=t.serialize;else{const f=typeof d.openDelimiter=="string"?Ws[d.openDelimiter]:Rt(d.openDelimiter),g=typeof d.closeDelimiter=="string"?Ws[d.closeDelimiter]:Rt(d.closeDelimiter);d.serialize=(w,k)=>Ce([f,w.serialize(k),g])}if(typeof t.parse=="function")d.parse=t.parse;else{const f=(i=t.parse)!==null&&i!==void 0?i:t.name;d.parse=(g,w)=>[f,w]}return[null,d]}if(d.kind==="environment"&&Mc(t)){const f=t.trigger;return d.serialize=(g,w)=>`\\begin{${f}${g.serialize(H(w,1))}\\end{${f}`,d.parse=(n=t.parse)!==null&&n!==void 0?n:()=>null,[f,d]}const p=typeof t.trigger=="string"?Gr(t.trigger,[]):t.trigger,h=p?Rt(p):"";if(t.trigger,d.kind==="symbol"&&Fs(t)&&(d.precedence=(r=t.precedence)!==null&&r!==void 0?r:1e4,d.optionalLatexArg=(a=t.optionalLatexArg)!==null&&a!==void 0?a:0,d.requiredLatexArg=(o=t.requiredLatexArg)!==null&&o!==void 0?o:0),d.kind!=="infix"&&d.kind!=="prefix"&&d.kind!=="postfix"||!(Va(t)||Os(t)||Ps(t))||(!p||p[0]!=="^"&&p[0]!=="_"?d.precedence=(l=t.precedence)!==null&&l!==void 0?l:1e4:d.precedence=720),d.kind==="infix"&&Va(t))if(d.associativity=(s=t.associativity)!==null&&s!==void 0?s:"non",typeof t.parse=="function")d.parse=t.parse;else if(!p||p[0]!=="^"&&p[0]!=="_"){const f=(u=t.parse)!==null&&u!==void 0?u:t.name,g=d.precedence,w=d.associativity;d.parse=(k,_,M)=>{if(g<_.minPrec)return null;const S=k.matchExpression({..._,minPrec:g});return typeof f!="string"?[f,M,S!=null?S:"Missing"]:Xr(f,M,S!=null?S:"Missing",w)}}else{const f=(c=t.parse)!==null&&c!==void 0?c:t.name;d.parse=(g,w,k)=>{var _,M;return[f,(_=H(k,1))!==null&&_!==void 0?_:"Missing",(M=H(k,2))!==null&&M!==void 0?M:"Missing"]}}else if(typeof t.parse=="function")d.parse=t.parse;else if(t.parse!==void 0)d.parse=()=>t.parse;else if(t.parse===void 0&&t.name!==void 0){if(d.kind==="postfix")d.parse=(f,g)=>g?[t.name,g]:null;else if(d.kind==="prefix"){const f=d.precedence,g=t.name;d.parse=(w,k)=>{if(f<k.minPrec)return null;const _=w.matchExpression({...k,minPrec:f});return _===null?null:[g,_]}}}return typeof t.serialize=="function"||typeof t.serialize=="string"?d.serialize=t.serialize:p&&(d.kind==="postfix"?d.serialize="#1"+h:d.kind==="prefix"?d.serialize=h+"#1":d.kind==="infix"?d.serialize="#1"+h+"#2":d.kind==="symbol"?d.serialize=h:d.serialize=""),[p!=null?p:null,d]}const Dn={algebra:[{name:"To",trigger:["\\to"],kind:"infix",precedence:270}],arithmetic:Dc,calculus:[{name:"Integral",trigger:["\\int"],parse:function(t){var e;let i="Nothing",n="Nothing",r=!1;for(;!r;)t.skipSpace(),t.match("_")?n=t.matchRequiredLatexArgument():t.match("^")?i=t.matchRequiredLatexArgument():r=!0;return["Integral",(e=t.matchExpression({tokens:["d"]}))!==null&&e!==void 0?e:"",i!=null?i:"Nothing",n!=null?n:"Nothing"]},serialize:function(t,e){return""}}],core:Tc,logic:[{name:"True",trigger:["\\mathrm","<{>","T","r","u","e","<}>"],serialize:"\\mathrm{True}"},{name:"False",trigger:["\\mathrm","<{>","F","a","l","s","e","<}>"],serialize:"\\mathrm{False}"},{name:"Maybe",trigger:["\\mathrm","<{>","M","a","y","b","e","<}>"],serialize:"\\mathrm{Maybe}"}],relop:[{trigger:["!","<"],kind:"infix",associativity:"right",precedence:246,parse:"NotLess"},{name:"NotLess",trigger:["\\nless"],kind:"infix",associativity:"right",precedence:246},{trigger:["<"],kind:"infix",associativity:"right",precedence:245,parse:"Less"},{name:"Less",trigger:["\\lt"],kind:"infix",associativity:"right",precedence:245},{trigger:["<","="],kind:"infix",associativity:"right",precedence:241,parse:"LessEqual"},{name:"LessEqual",trigger:["\\le"],kind:"infix",associativity:"right",precedence:241},{trigger:["\\leq"],kind:"infix",associativity:"right",precedence:241,parse:"Equal"},{trigger:["\\leqslant"],kind:"infix",associativity:"right",precedence:265,parse:"LessEqual"},{name:"LessNotEqual",trigger:["\\lneqq"],kind:"infix",associativity:"right",precedence:260},{name:"NotLessNotEqual",trigger:["\\nleqq"],kind:"infix",associativity:"right",precedence:260},{name:"LessOverEqual",trigger:["\\leqq"],kind:"infix",associativity:"right",precedence:265},{name:"GreaterOverEqual",trigger:["\\geqq"],kind:"infix",associativity:"right",precedence:265,parse:"GreaterEqual"},{name:"Equal",trigger:["="],kind:"infix",associativity:"right",precedence:260},{trigger:["*","="],kind:"infix",associativity:"right",precedence:260,parse:"StarEqual"},{name:"StarEqual",trigger:["\\star","="],kind:"infix",associativity:"right",precedence:260},{name:"PlusEqual",trigger:["+","="],kind:"infix",associativity:"right",precedence:260},{name:"MinusEqual",trigger:["-","="],kind:"infix",associativity:"right",precedence:260},{name:"SlashEqual",trigger:["/","="],kind:"infix",associativity:"right",precedence:260},{name:"EqualEqual",trigger:["=","="],kind:"infix",associativity:"right",precedence:260},{name:"EqualEqualEqual",trigger:["=","=","="],kind:"infix",associativity:"right",precedence:265},{name:"TildeFullEqual",trigger:["\\cong"],kind:"infix",associativity:"right",precedence:260},{name:"NotTildeFullEqual",trigger:["\\ncong"],kind:"infix",associativity:"right",precedence:260},{trigger:[":","="],kind:"infix",associativity:"right",precedence:260,parse:"Assign"},{name:"Assign",trigger:["\\coloneq"],kind:"infix",associativity:"right",precedence:260},{name:"Approx",trigger:["\\approx"],kind:"infix",associativity:"right",precedence:247},{name:"NotApprox",trigger:["\\approx"],kind:"infix",associativity:"right",precedence:247},{name:"ApproxEqual",trigger:["\\approxeq"],kind:"infix",associativity:"right",precedence:260},{name:"NotApproxEqual",trigger:["!","\\approxeq"],kind:"infix",associativity:"right",precedence:250},{name:"NotEqual",trigger:["\\ne"],kind:"infix",associativity:"right",precedence:255},{name:"Unequal",trigger:["!","="],kind:"infix",associativity:"right",precedence:260},{name:"GreaterEqual",trigger:["\\ge"],kind:"infix",associativity:"right",precedence:242},{trigger:["\\geq"],kind:"infix",associativity:"right",precedence:242,parse:"GreaterEqual"},{trigger:[">","="],kind:"infix",associativity:"right",precedence:243,parse:"GreaterEqual"},{trigger:["\\geqslant"],kind:"infix",associativity:"right",precedence:265,parse:"GreaterEqual"},{name:"GreaterNotEqual",trigger:["\\gneqq"],kind:"infix",associativity:"right",precedence:260},{name:"NotGreaterNotEqual",trigger:["\\ngeqq"],kind:"infix",associativity:"right",precedence:260},{trigger:[">"],kind:"infix",associativity:"right",precedence:245,parse:"Greater"},{name:"Greater",trigger:["\\gt"],kind:"infix",associativity:"right",precedence:245},{name:"NotGreater",trigger:["\\ngtr"],kind:"infix",associativity:"right",precedence:244},{trigger:["!",">"],kind:"infix",associativity:"right",precedence:244,parse:"NotGreater"},{name:"RingEqual",trigger:["\\circeq"],kind:"infix",associativity:"right",precedence:260},{name:"TriangleEqual",trigger:["\\triangleq"],kind:"infix",associativity:"right",precedence:260},{name:"DotEqual",trigger:["\\doteq"],kind:"infix",associativity:"right",precedence:265},{name:"DotEqualDot",trigger:["\\doteqdot"],kind:"infix",associativity:"right",precedence:265},{name:"FallingDotEqual",trigger:["\\fallingdotseq"],kind:"infix",associativity:"right",precedence:265},{name:"RisingDotEqual",trigger:["\\fallingdotseq"],kind:"infix",associativity:"right",precedence:265},{name:"QuestionEqual",trigger:["\\questeq"],kind:"infix",associativity:"right",precedence:260},{name:"Equivalent",trigger:["\\equiv"],kind:"infix",associativity:"right",precedence:260},{trigger:["\\iff"],kind:"infix",parse:"Equivalent",associativity:"right",precedence:260},{name:"MuchLess",trigger:["\\ll"],kind:"infix",associativity:"right",precedence:260},{name:"MuchGreater",trigger:["\\gg"],kind:"infix",associativity:"right",precedence:260},{name:"Precedes",trigger:["\\prec"],kind:"infix",associativity:"right",precedence:260},{name:"Succeeds",trigger:["\\succ"],kind:"infix",associativity:"right",precedence:260},{name:"PrecedesEqual",trigger:["\\preccurlyeq"],kind:"infix",associativity:"right",precedence:260},{name:"SucceedsEqual",trigger:["\\curlyeqprec"],kind:"infix",associativity:"right",precedence:260},{name:"NotPrecedes",trigger:["\\nprec"],kind:"infix",associativity:"right",precedence:260},{name:"NotSucceeds",trigger:["\\nsucc"],kind:"infix",associativity:"right",precedence:260},{name:"Between",trigger:["\\between"],kind:"infix",associativity:"right",precedence:265}],other:zc,physics:[{name:"mu-0",trigger:"\\mu_0"}],sets:Ic,symbols:Fc,trigonometry:qc},$c={"(":["\\lparen","("],")":["\\rparen",")"],"[":["\\lbrack"],"]":["\\rbrack"],"<":["<","\\langle"],">":[">","\\rangle"],"{":["\\{","\\lbrace"],"}":["\\}","\\rbrace"],":":[":","\\colon"],"|":["|","\\|","\\lvert","\\rvert"],"||":["||","\\Vert","\\lVert","\\rVert"],"\\lfloor":["\\lfloor"],"\\rfloor":["\\rfloor"],"\\lceil":["\\lceil"],"\\rceil":["\\rceil"],"\\ulcorner":["\\ulcorner"],"\\urcorner":["\\urcorner"],"\\llcorner":["\\llcorner"],"\\lrcorner":["\\lrcorner"],"\\lgroup":["\\lgroup"],"\\rgroup":["\\rgroup"],"\\lmoustache":["\\lmoustache"],"\\rmoustache":["\\rmoustache"]},Bc={":":[":","\\colon"],"|":["|","\\|","\\mid","\\mvert"]},Kc={"\\left":"\\right","\\bigl":"\\bigr","\\Bigl":"\\Bigr","\\biggl":"\\biggr","\\Biggl":"\\Biggr","\\big":"\\big","\\Big":"\\Big","\\bigg":"\\bigg","\\Bigg":"\\Bigg"},Vc=["\\middle","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],Zs={"(":")","[":"]","\\{":"\\}","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},mu={precision:6,positiveInfinity:"\\infty",negativeInfinity:"-\\infty",notANumber:"\\operatorname{NaN}",decimalMarker:".",groupSeparator:"\\,",exponentProduct:"\\cdot",beginExponentMarker:"10^{",endExponentMarker:"}",notation:"auto",truncationMarker:"\\ldots",beginRepeatingDigits:"\\overline{",endRepeatingDigits:"}",imaginaryNumber:"\\imaginaryI",avoidExponentsInRange:[-7,20]},pu={applyInvisibleOperator:"auto",skipSpace:!0,parseArgumentsOfUnknownLatexCommands:!0,parseNumbers:!0,parseUnknownSymbol:t=>/^[fg]$/.test(t)?"function":/^[a-zA-Z]+$/.test(t)?"symbol":"unknown",preserveLatex:!0};class es{constructor(e,i,n,r,a){this.index=0,this._lastPeek="",this._peekCounter=0,this.options={...mu,...pu,...i},this.engine=r,this._tokens=e,this.onError=a,this._dictionary=n}updateOptions(e){for(const[i,n]of Object.entries(e))this.options[i]=n}clone(e,i){return new es(this._tokens.slice(e,i),this.options,this._dictionary,this.engine,this.onError)}get atEnd(){return this.index>=this._tokens.length}get peek(){if(this._tokens[this.index]===this._lastPeek?this._peekCounter+=1:this._peekCounter=0,this._peekCounter>=1024)throw Error(`Infinite loop detected while parsing "${this.latex(0)}" at ${this._lastPeek} (index ${this.index})`);return this._lastPeek=this._tokens[this.index],this._tokens[this.index]}atTerminator(e){const i=this.index;return!!this.atEnd||!!e&&(!(!e.condition||!e.condition(this))||!!(e.tokens&&e.tokens.length>0&&this.matchAll(e.tokens))&&(this.index=i,!0))}latex(e,i){return Rt(this._tokens.slice(e,i))}latexAhead(e){return Rt(this._tokens.slice(this.index,this.index+e))}latexBefore(){return this.latex(0,this.index)}latexAfter(){return this.latex(this.index)}lookAhead(){let e=Math.min(this._dictionary.lookahead,this._tokens.length-this.index);const i=[];for(;e>0;)i[e]=this.latexAhead(e--);return i}peekDefinitions(e){let i;i=e==="operator"?this.lookAhead().map((r,a)=>{var o,l,s,u,c;return(u=(l=(o=this._dictionary.infix[a])===null||o===void 0?void 0:o.get(r))!==null&&l!==void 0?l:(s=this._dictionary.postfix[a])===null||s===void 0?void 0:s.get(r))!==null&&u!==void 0?u:(c=this._dictionary.prefix[a])===null||c===void 0?void 0:c.get(r)}):this.lookAhead().map((r,a)=>{var o;return(o=this._dictionary[e][a])===null||o===void 0?void 0:o.get(r)});const n=[];for(let r=i.length;r>0;r--)if(i[r]!==void 0)for(const a of i[r])n.push([a,r]);return n.length===0?null:n}next(){return this._tokens[this.index++]}skipSpace(){if(!this.atEnd&&this.peek==="<{>"&&this._tokens[this.index+1]==="<}>")return this.index+=2,this.skipSpace(),!0;let e=!1;if(!this.options.skipSpace)return!1;for(;this.match("<space>");)e=!0;return e&&this.skipSpace(),e}matchChar(){var e;const i=this.index;let n=0;for(;this.match("^");)n+=1;if(n>=2){let r="",a=0;for(;a!=n;){const o=this.matchAny(["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"]);if(!o)break;r+=o,a+=1}if(r.length===n)return String.fromCodePoint(Number.parseInt(r,16))}else{if(this.match("\\char")){let r=Math.floor((e=this.matchLatexNumber())!==null&&e!==void 0?e:NaN);return(!Number.isFinite(r)||r<0||r>1114111)&&(r=10067),String.fromCodePoint(r)}if(this.match("\\unicode"))if(this.peek==="<{>"){const r=this.matchLatexNumber();if(this.match("<}>")&&r!==null&&r>=0&&r<=1114111)return String.fromCodePoint(r)}else{const r=this.matchLatexNumber();if(r!==null&&r>=0&&r<=1114111)return String.fromCodePoint(r)}}return this.index=i,this.next()}matchColor(e=!1){let i="";for(;!this.atEnd&&this.peek!=="}";)i+=this.next();return i}matchLatexDimension(){return null}match(e){return this._tokens[this.index]===e&&(this.index++,!0)}matchAll(e){typeof e=="string"&&(e=[e]);let i=!0,n=0;do i=this._tokens[this.index+n]===e[n++];while(i&&n<e.length);return i&&(this.index+=n),i}matchAny(e){return e.includes(this._tokens[this.index])?this._tokens[this.index++]:""}matchWhile(e){const i=[];for(;e.includes(this._tokens[this.index]);)i.push(this._tokens[this.index++]);return i}matchSign(){let e=!1,i=!1;for(;!i;)this.skipSpace()?i=!1:this.matchAny(["-","\u2212"])?(e=!e,i=!1):i=!this.matchAny(["+","\uFE62"]);return e?"-":"+"}matchDecimalDigits(){let e="",i=!1;for(;!i;)if(e+=this.matchWhile(["0","1","2","3","4","5","6","7","8","9"]).join(""),i=!0,this.options.groupSeparator){const n=this.index;this.skipSpace(),this.match(this.options.groupSeparator)&&(this.skipSpace(),/[0-9]/.test(this.peek)?i=!1:this.index=n)}return e}matchSignedInteger(){const e=this.index,i=this.matchSign(),n=this.matchDecimalDigits();return n?(i==="-"?"-":"")+n:(this.index=e,"")}matchExponent(){const e=this.index;let i="";if(this.matchAny(["e","E"])){const n=this.matchSignedInteger();n&&(i="e"+n)}if(i)return i;if(this.match("\\times")&&(this.skipSpace(),this.match("1")&&this.match("0")&&this.match("^"))){if(/[0-9]/.test(this.peek))return"e"+this.next();if(this.match("<{>")){this.skipSpace();const n=this.matchSignedInteger();if(this.skipSpace(),this.match("<}>")&&n)return"e"+n}}return this.index=e,""}matchNumber(){var e,i;if(!this.options.parseNumbers)return"";const n=this.index;this.skipSpace(),this.match("+");let r=!1;if(this.match(this.options.decimalMarker)){const o=this.index;if(!this.matchAny(["0","1","2","3","4","5","6","7","8","9"]))return this.index=n,"";this.index=o,r=!0}let a=this.matchDecimalDigits();return a?(!r&&this.match((e=this.options.decimalMarker)!==null&&e!==void 0?e:"")&&(a+="."+((i=this.matchDecimalDigits())!==null&&i!==void 0?i:"0")),(r?"0.":"")+a+this.matchExponent()):(this.index=n,"")}matchLatexNumber(e=!0){var i,n;let r=!1,a=this.peek;for(;a==="<space>"||a==="+"||a==="-";)a==="-"&&(r=!r),this.next(),a=this.peek;let o=10,l=["0","1","2","3","4","5","6","7","8","9"];if(this.match("'"))o=8,l=["0","1","2","3","4","5","6","7"],e=!0;else if(this.match('"')||this.match("x"))o=16,l=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],e=!0;else if(this.match("`"))return a=this.next(),a?a.startsWith("\\")&&a.length===2?(r?-1:1)*((i=a.codePointAt(1))!==null&&i!==void 0?i:0):(r?-1:1)*((n=a.codePointAt(0))!==null&&n!==void 0?n:0):null;let s="";for(;l.includes(this.peek);)s+=this.next();if(!e&&this.match("."))for(s+=".";l.includes(this.peek);)s+=this.next();const u=e?Number.parseInt(s,o):Number.parseFloat(s);return Number.isNaN(u)?null:r?-u:u}matchPrefixOperator(e){e||(e={minPrec:0}),e.minPrec||(e={...e,minPrec:0});const i=this.peekDefinitions("prefix");if(i===null)return null;const n=this.index;for(const[r,a]of i){this.index=n+a;const o=r.parse(this,e);if(o)return o}return this.index=n,null}matchInfixOperator(e,i){i||(i={minPrec:0}),i.minPrec||(i={...i,minPrec:0});const n=this.peekDefinitions("infix");if(n===null)return null;const r=this.index;for(const[a,o]of n)if(a.precedence>=i.minPrec){this.index=r+o;const l=a.parse(this,i,e);if(l)return l}return this.index=r,null}matchArguments(e){if(!e)return null;const i=this.index,n=this.matchEnclosure();if(e==="enclosure"&&ae(n)==="Delimiter")return We(n);if(e==="group"){const r=this.matchExpression({tokens:["<}>"]});return r===null?[]:[r]}if(e==="implicit"){if(ae(n)==="Delimiter")return We(n);if(n!==null)return[n];const r=this.matchPrimary();return r!==null?[r]:null}return this.index=i,null}matchOpenDelimiter(e,i){var n;const r=this.index,a=Kc[this.peek];a&&this.next();const o=(n=$c[e])!==null&&n!==void 0?n:[e],l=a?[a]:[];return o.includes("||")&&this.matchAll(["|","|"])?(l.push("|"),l.push("|"),l):o.includes(this.peek)?(Zs[e]===i?l.push(Zs[this.peek]):l.push(i),this.next(),l):(this.index=r,null)}matchMiddleDelimiter(e){var i;const n=(i=Bc[e])!==null&&i!==void 0?i:[e];if(Vc.includes(this.peek)){const r=this.index;return this.next(),n.includes(this.peek)?(this.next(),!0):(this.index=r,!1)}return!!n.include(this.peek)&&(this.next(),!0)}matchEnclosure(){const e=this._dictionary.matchfix;if(e.length===0)return null;const i=this.index;for(const n of e){if(this.index=i,Array.isArray(n.openDelimiter)){if(!this.matchAll(n.openDelimiter))continue;const o=this.matchExpression({tokens:n.closeDelimiter,minPrec:0});if(this.skipSpace(),!this.matchAll(n.closeDelimiter))continue;if(typeof n.parse=="function"){const l=n.parse(this,o!=null?o:"Nothing");if(l===null)continue;return l}return[n.name,o!=null?o:"Nothing"]}const r=this.matchOpenDelimiter(n.openDelimiter,n.closeDelimiter);if(r===null)continue;const a=this.matchExpression({minPrec:0,tokens:r});if(a&&this.matchAll(r)){if(typeof n.parse=="function"){const o=n.parse(this,a!=null?a:"Nothing");if(o===null)continue;return o}return[n.name,a]}}return this.index=i,null}matchSymbol(){var e,i;const n=this.index,r=this.peekDefinitions("symbol");if(r)for(const[l,s]of r){let u=null;if(this.index=n+s,typeof l.parse!="function"){if(l.optionalLatexArg===0&&l.requiredLatexArg===0)return l.name;{const c=[];let d=l.optionalLatexArg;for(;d!==0;){const h=this.matchOptionalLatexArgument();if(h===null)break;c.push(h),d-=1}d=l.requiredLatexArg;const p=[];for(;d!==0;){const h=this.matchRequiredLatexArgument();if(h===null)break;p.push(h),d-=1}return p.length===l.requiredLatexArg?[l.name,...p,...c]:l.name}}if(u=l.parse(this),u)return u}this.index=n;let a="";(this.matchAll(["\\operatorname","<{>"])||this.matchAll(["\\mathit","<{>"])||this.matchAll(["\\mathrm","<{>"]))&&(a=this.matchString({tokens:["<}>"]}),a&&this.match("<}>")||(this.index=n)),a||(a=this.next());const o=(i=(e=this.options).parseUnknownSymbol)===null||i===void 0?void 0:i.call(e,a,this);if(o==="symbol")return a;if(o==="function"){const l=this.matchEnclosure();return l===null?a:ae(l)!=="Delimiter"?null:[a,...We(l)]}return this.index=n,this.matchUnknownLatexCommand()}matchOptionalLatexArgument(){const e=this.index;if(this.skipSpace(),this.match("[")){const i=this.matchExpression();if(this.skipSpace(),this.match("]"))return i}return this.index=e,null}matchRequiredLatexArgument(){const e=this.index;if(this.skipSpace(),this.match("<{>")){const i=this.matchExpression({tokens:["<}>"]});return this.skipSpace(),this.match("<}>")?i:(this.index=e,null)}return/^[0-9]$/.test(this.peek)?parseInt(this.next()):/^[^\\#]$/.test(this.peek)?this.next():this.matchSymbol()||(this.index=e,null)}matchSupsub(e){var i,n,r;if(e===null)return null;const a=this.index;this.skipSpace();const o=[],l=[];for(;this.peek==="_"||this.peek==="^";){if(this.match("_")){let u=this.matchRequiredLatexArgument();!u&&this.match("<{>")&&(u=this.matchString({tokens:["<}>"]}),u&&this.match("<}>")),l.push(u!=null?u:"Missing")}else this.match("^")&&o.push((i=this.matchRequiredLatexArgument())!==null&&i!==void 0?i:"Missing");this.skipSpace()}if(o.length===0&&l.length===0)return this.index=a,e;let s=e;if(l.length>0){const u=(n=this._dictionary.infix[1])===null||n===void 0?void 0:n.get("_");if(u){const c=["Subscript",s,l.length===1?l[0]:["Sequence",...l]];for(const d of u)if(s=typeof d.parse=="function"?d.parse(this,{minPrec:0},c):c,s)break}}if(o.length>0){const u=(r=this._dictionary.infix[1])===null||r===void 0?void 0:r.get("^");if(u){const c=["Superscript",s,o.length===1?o[0]:["Sequence",...o]];for(const d of u)if(s=typeof d.parse=="function"?d.parse(this,{minPrec:0},c):c,s)break}}return s===null&&(this.index=a),s}matchPostfix(e){if(e===null)return null;const i=this.peekDefinitions("postfix");if(i===null)return null;const n=this.index;for(const[r,a]of i){this.index=n+a;const o=r.parse(this,e);if(o!==null)return o}return this.index=n,null}matchString(e){e.minPrec||(e={...e,minPrec:0});let i="",n=this.atEnd;for(;!n;){const r=this.peek;r==="<space>"?i+=" ":r[0]==="\\"?(this.onError([{severity:"warning",message:"unexpected-command"}]),i+=this.next()):/^<(\$|\$\$)>$/.test(r)?n=!0:i+=this.next(),n=n||this.atTerminator(e)}return i}matchEnvironmentName(e,i){if(!this.match(e))return!1;const n=this.index;if(this.match("<{>")){const r=this.matchString({tokens:["<}>"]});if(this.match("<}>")&&r===i)return!0}return this.index=n,!1}matchTabular(e){const i=["List"],n={minPrec:0,tokens:["\\end","<{>",...e.split(""),"<}>"]};let r=["List"],a=null;for(;!this.atTerminator(n);)this.skipSpace(),this.match("&")?(r.push(a!=null?a:"Nothing"),a=null):this.match("\\\\")||this.match("\\cr")?(this.skipSpace(),this.matchOptionalLatexArgument(),a!==null&&r.push(a),i.push(r),r=["List"],a=null):a=this.matchExpression({...n,condition:o=>{const l=o.peek;return l==="&"||l==="\\\\"||l==="\\cr"}});return a!==null&&r.push(a),r.length>1&&i.push(r),i}matchEnvironment(){if(!this.match("\\begin"))return null;const e=this.index;if(this.match("<{>")){const i=this.matchString({tokens:["<}>"]});if(this.match("<}>")){const n=this._dictionary.environment.get(i),r=n?n.parse(this,[],[]):this.matchTabular(i);if(this.skipSpace(),this.matchAll(["\\end","<{>",...i.split(""),"<}>"]),r!==null)return this.decorate(r,e)}}return this.index=e,null}applyInvisibleOperator(e,i){if(i===null||this.atTerminator(e)||this.options.applyInvisibleOperator===null)return null;const n=this.index,r=this.matchExpression({...e,minPrec:390});if(r===null)return this.index=n,null;if(typeof this.options.applyInvisibleOperator=="function")return this.options.applyInvisibleOperator(this,i,r);const a=this.engine.box(r),o=Ii(i);if(o&&this.engine&&this.engine.getFunctionDefinition(o)){let s=[];return s=a.head==="Delimiter"?a.op1.head==="Sequence"?[...a.op1.ops]:[a.op1]:[a],[o,...s.map(u=>u.json)]}const l=this.engine.box(i);if(l.isLiteral&&l.isInteger&&a.isLiteral){const[s,u]=a.rationalValue;if(s!==null&&u!==null)return["Add",i,r]}return(l.isMissing||l.symbol==="Nothing"||l.isNumber)&&(a.isMissing||a.symbol==="Nothing"||a.isNumber)?Xr("Multiply",i,r):(this.index=n,null)}matchUnknownLatexCommand(){const e=this.peek;if(!e||e[0]!=="\\")return null;this.next();const i=[];if(e==="\\operatorname"){if(this.match("<{>")){for(;!this.atEnd&&this.peek!=="<}>";)i.push(this.next());this.match("<}>")}else i.push(this.next());return i.length===0?["Error","Missing",{str:"syntax-error"},["LatexForm",{str:e}]]:["Error","Missing",{str:"unknown-command"},["LatexForm",{str:`${e}{${Rt(i)}}`}]]}for(;this.match("[");){i.push("[");let n=0;for(;!this.atEnd&&n===0&&this.peek!=="]";)this.peek==="["&&(n+=1),this.peek==="]"&&(n-=1),i.push(this.next());this.match("]")&&i.push("]")}for(;this.match("<{>");){i.push("<{>");let n=0;for(;!this.atEnd&&n===0&&this.peek!=="<}>";)this.peek==="<{>"&&(n+=1),this.peek==="<}>"&&(n-=1),i.push(this.next());this.match("<}>")&&i.push("<}>")}return["Error","Missing",{str:"unknown-command"},["LatexForm",{str:`${e}${Rt(i)}`}]]}matchPrimary(){let e=null;const i=this.index;if(this.match("<{>")?(e=this.matchExpression({tokens:["<}>"]}),this.match("<}>")):this.match("<}>"),e===null){const n=this.matchNumber();n&&(e={num:n})}if(e===null&&(e=this.matchEnclosure()),e===null&&(e=this.matchEnvironment()),e===null&&(e=this.matchSymbol()),e!==null){e=this.decorate(e,i);let n=null,r=this.index;do{if(n=this.matchPostfix(e),e=n!=null?n:e,this.index===r&&n!==null)break;r=this.index}while(n!==null)}return e!==null&&(e=this.matchSupsub(e)),this.decorate(e,i)}matchExpression(e){const i=this.index;e||(e={minPrec:0}),e.minPrec===void 0&&(e.minPrec=0),this.skipSpace();let n=this.matchPrefixOperator({...e,minPrec:0});if(n===null&&(n=this.matchPrimary()),n){let r=!1;for(;!this.atTerminator(e)&&!r;){this.skipSpace();let a=this.matchInfixOperator(n,e);a===null&&this.peekDefinitions("operator")===null&&(a=this.applyInvisibleOperator(e,n)),a!==null?n=a:r=!0}}return this.decorate(n,i)}decorate(e,i){if(e===null)return null;if(!this.options.preserveLatex)return e;const n=this.latex(i,this.index);return Array.isArray(e)?e={latex:n,fn:e}:typeof e=="number"?e={latex:n,num:Number(e).toString()}:typeof e=="string"?e={latex:n,sym:e}:typeof e=="object"&&e!==null&&(e.latex=n),e}}function Ui(t,e){const i=t.length,n=t;t=t.slice(0,-1);for(let a=0;a<t.length-16;a++){const o=t.substring(0,a);for(let l=0;l<17;l++){const s=t.substring(a,a+l+1),u=Math.floor((t.length-o.length)/s.length);if(u>1&&(o+s.repeat(u+1)).startsWith(t))return s==="0"?o.replace(/(\d{3})/g,"$1"+e.groupSeparator):o.replace(/(\d{3})/g,"$1"+e.groupSeparator)+e.beginRepeatingDigits+s+e.endRepeatingDigits}}const r=i>e.precision-1;return t=n,r&&(t=t.substring(0,e.precision-1)),e.groupSeparator&&(t=t.replace(/(\d{3})/g,"$1"+e.groupSeparator)).endsWith(e.groupSeparator)&&(t=t.slice(0,-e.groupSeparator.length)),r?t+e.truncationMarker:t}function Tn(t,e){var i;return t?e.beginExponentMarker?e.beginExponentMarker+t+((i=e.endExponentMarker)!==null&&i!==void 0?i:""):"10^{"+t+"}":""}class Rc{constructor(e,i,n){this.level=-1,this.options=e,e.invisibleMultiply&&(/#1/.test(e.invisibleMultiply)&&/#2/.test(e.invisibleMultiply)||n([{severity:"warning",message:["expected-argument","invisibleMultiply"]}])),this.onError=n,this.dictionary=i}updateOptions(e){for(const i of Object.keys(this.options))i in e&&(this.options[i]=e[i])}wrap(e,i){if(e===null)return"";if(i===void 0)return"("+this.serialize(e)+")";if(typeof e=="number"||Jr(e)||typeof e=="string"||Qo(e))return this.serialize(e);const n=ae(e);if(typeof n=="string"&&n!=="Delimiter"){const r=this.dictionary.name.get(n);if(r&&(r.kind==="symbol"||r.kind==="prefix"||r.kind==="infix"||r.kind==="postfix")&&r.precedence<i)return this.wrapString(this.serialize(e),this.options.applyFunctionStyle(e,this.level))}return this.serialize(e)}wrapShort(e){if(e===null)return"";const i=this.serialize(e);return ae(e)==="Delimiter"||typeof e=="number"||Jr(e)||/(^(.|\\[a-zA-Z*]+))$/.test(i)?i:this.wrapString(i,this.options.groupStyle(e,this.level+1))}wrapString(e,i){return i==="none"?e:"("+e+")"}serializeSymbol(e,i){var n;const r=ae(e);if(!r)return typeof(i==null?void 0:i.serialize)=="string"?i.serialize:typeof(i==null?void 0:i.serialize)=="function"?i.serialize(this,e):(n=Lo(Ii(e),"upright."))!==null&&n!==void 0?n:"";const a=We(e);if(!i){if(typeof r=="string"&&r.length>0&&r[0]==="\\"){let o=r;for(const l of a)o+="{"+this.serialize(l)+"}";return o}return typeof r=="string"?`${Lo(r,"upright.")}(${a.map(o=>this.serialize(o)).join(", ")})`:`\\operatorname{Apply}(${this.serialize(r)}, ${this.serialize(["List",...a])})`}if(i.requiredLatexArg>0){let o="",l="",s=0;for(;s<i.requiredLatexArg;)l+="{"+this.serialize(a[s++])+"}";for(;s<Math.min(a.length,i.optionalLatexArg+i.requiredLatexArg);){const u=this.serialize(a[1+s++]);u&&(o+="["+u+"]")}return i.serialize+(o+l)}return typeof i.serialize=="function"?i.serialize(this,e):this.options.applyFunctionStyle(e,this.level)==="none"?i.serialize+Ce(a.map(o=>this.serialize(o))):i.serialize+this.serialize(["Delimiter",...a])}serializeDictionary(e){return`\\left[\\begin{array}{lll}${Object.keys(e).map(i=>`\\textbf{${i}} & \\rightarrow & ${this.serialize(e[i])}`).join("\\\\")}\\end{array}\\right]`}serialize(e){if(e==null)return"";this.level+=1;try{const i=(()=>{const n=function(s,u){var c,d,p;if(s===null)return"";let h;if(typeof s=="number")h=s;else{if(typeof s!="object"||!("num"in s))return"";h=s.num}if(h===1/0||h==="Infinity"||h==="+Infinity")return u.positiveInfinity;if(h===-1/0||h==="-Infinity")return u.negativeInfinity;if(h==="NaN"||typeof h=="number"&&Number.isNaN(h))return u.notANumber;if(typeof h=="number")return u.notation==="engineering"?function(k,_){if(k===0)return"0";const M=Math.abs(k);let S=Math.round(Math.log10(M));S-=S%3,M>Math.pow(10,_.avoidExponentsInRange[0])&&M<Math.pow(10,_.avoidExponentsInRange[1])&&(S=0);const I=M/Math.pow(10,S);let D="";const F=I.toString().match(/^(.*)\.(.*)$/);(F==null?void 0:F[1])&&F[2]&&(D=F[1]+_.decimalMarker+F[2]),_.groupSeparator&&(D=Ui(I.toExponential(),_));let R="";return S!==0&&(R=Tn(S.toString(),_)),(k<0?"-":"")+D+R}(h,u):function(k,_){var M;let S,I=k.match(/^(.*)[e|E]([-+]?[0-9]+)$/i);(I==null?void 0:I[1])&&I[2]&&(S=Tn(I[2],_));let D=(M=I==null?void 0:I[1])!==null&&M!==void 0?M:k,F="";return I=(S?I[1]:k).match(/^(.*)\.(.*)$/),(I==null?void 0:I[1])&&I[2]&&(D=I[1],F=I[2]),_.groupSeparator&&(D=D.replace(/\B(?=(\d{3})+(?!\d))/g,_.groupSeparator),F=Ui(F,_)),F&&(F=_.decimalMarker+F),S?D!=="1"||F?D+F+_.exponentProduct+S:S:D+F}(h.toString(),u);if(/[0-9][nd]$/.test(h)&&(h=h.slice(0,-1)),h=h.replace(/[\u0009-\u000d\u0020\u00a0]/g,""),/\([0-9]+\)$/.test(h)){const[k,_,M]=(c=h.match(/(.+)\(([0-9]+)\)$/))!==null&&c!==void 0?c:[];h=_+M.repeat(Math.ceil(u.precision/M.length))}let f="";for(h[0]==="-"?(f="-",h=h.substring(1)):h[0]==="+"&&(h=h.substring(1));h[0]==="0";)h=h.substring(1);if(h.length===0)return f+"0";h[0]==="."&&(h="0"+h);let g="";if(h.indexOf(".")>=0){const k=h.match(/(\d*)\.(\d*)([e|E]([-+]?[0-9]*))?/);if(!k)return"";const _=k[1],M=k[2];if(g=(d=k[4])!==null&&d!==void 0?d:"",_==="0"){let S=0;for(;M[S]==="0"&&S<M.length;)S+=1;let I="";if(S<=4)I="0"+u.decimalMarker,I+=M.substring(0,S),I+=Ui(h.substring(I.length),u);else if(S+1>=u.precision)I="0",f="";else{I=h[S];const D=Ui(h.substring(S+1),u);D&&(I+=u.decimalMarker+D)}I!=="0"&&(!(h.length-1>u.precision)||u.endRepeatingDigits&&I.endsWith(u.endRepeatingDigits)||!u.truncationMarker||I.endsWith(u.truncationMarker)||(I+=u.truncationMarker),S>4&&(I+=u.exponentProduct+Tn(""+(1-S),u))),h=I}else{h=_.replace(/\B(?=(\d{3})+(?!\d))/g,u.groupSeparator);const S=Ui(M,u);S&&(h+=u.decimalMarker+S)}}else if(h.length>u.precision){const k=h.length;if(k>u.avoidExponentsInRange[1]){let _=h[0];const M=Ui(h.substring(1),u);M&&(_+=u.decimalMarker+M,u.truncationMarker&&!_.endsWith(u.truncationMarker)&&u.endRepeatingDigits&&!_.endsWith(u.endRepeatingDigits)&&(_+=u.truncationMarker)),_!=="1"?_+=u.exponentProduct:_="",h=_+Tn(""+(k-1),u)}}else{const k=h.match(/([0-9]*)\.?([0-9]*)([e|E]([-+]?[0-9]+))?/);k&&(h=k[1],k[2]&&(h+=u.decimalMarker+k[2]),g=(p=k[4])!==null&&p!==void 0?p:""),h=h.replace(/\B(?=(\d{3})+(?!\d))/g,u.groupSeparator)}const w=Tn(g,u);return h==="1"&&w?f+w:(w&&(h=h+u.exponentProduct+w),f+h)}(e,this.options);if(n)return n;const r=xn(e);if(r!==null)return`\\text{${r}}`;const a=Ii(e);if(a!==null){const s=this.dictionary.name.get(a);if((s==null?void 0:s.kind)==="symbol")return this.serializeSymbol(e,s)}const o=lu(e);if(o!==null)return this.serializeDictionary(o);const l=Bs(e);if(l){if(l[0]==="\\"){const u=We(e);return u.length===0?l:l+"{"+u.map(c=>this.serialize(c)).filter(c=>!!c).join("}{")+"}"}const s=this.dictionary.name.get(l);if(s)return typeof s.serialize=="function"?s.serialize(this,e):s.kind==="infix"||s.kind==="postfix"||s.kind==="prefix"?function(u,c,d){let p="";const h=Ot(c),f=Bs(c);if(d.kind==="postfix")return h!==1&&u.onError([{severity:"warning",message:["postfix-operator-requires-one-operand",u.serializeSymbol(f)]}]),vr(d.serialize,[u.wrap(H(c,1),d.precedence)]);if(d.kind==="prefix")return h!==1&&u.onError([{severity:"warning",message:["prefix-operator-requires-one-operand",u.serializeSymbol(f)]}]),vr(d.serialize,[u.wrap(H(c,1),d.precedence+1)]);if(d.kind==="infix"){p=u.wrap(H(c,1),d.precedence);for(let g=2;g<h+1;g++){const w=H(c,g);w!==null&&(p=vr(d.serialize,[p,u.wrap(w,d.precedence)]))}}return p}(this,e,s):s.kind==="matchfix"?function(u,c,d){var p;return vr(d.serialize,[u.serialize((p=H(c,1))!==null&&p!==void 0?p:"Nothing")])}(this,e,s):s.kind==="symbol"?this.serializeSymbol(e,s):""}if(Array.isArray(e)||wn(e)||Ii(e)!==null)return this.serializeSymbol(e);this.onError([{severity:"warning",message:["syntax-error",e?JSON.stringify(e):"undefined"]}])})();return this.level-=1,i!=null?i:""}catch{}return this.level-=1,""}applyFunctionStyle(e,i){return this.options.applyFunctionStyle(e,i)}groupStyle(e,i){return this.options.groupStyle(e,i)}rootStyle(e,i){return this.options.rootStyle(e,i)}fractionStyle(e,i){return this.options.fractionStyle(e,i)}logicStyle(e,i){return this.options.logicStyle(e,i)}powerStyle(e,i){return this.options.powerStyle(e,i)}numericSetStyle(e,i){return this.options.numericSetStyle(e,i)}}function vr(t,e){var i;let n=t;for(let r=0;r<e.length;r++){let a=(i=e[r])!==null&&i!==void 0?i:"";if(/[a-zA-Z*]/.test(a[0])){const o=n.match(RegExp("(.*)#"+Number(r+1).toString()));o&&/\\[a-zA-Z*]+/.test(o[1])&&(a=" "+a)}n=n.replace("#"+Number(r+1).toString(),a)}return n}const jc=["alpha","beta","gamma","Gamma","delta","Delta","epsilon","zeta","eta","theta","Theta","iota","kappa","lambda","Lambda","mu","nu","xi","Xi","pi","Pi","rho","sigma","Sigma","tau","upsilon","phi","Phi","varphi","chi","psi","Psi","omega","Omega","aleph","ast","blacksquare","bot","bullet","circ","diamond","times","top","square","star"];function Lo(t,e="italic."){var i;if(t===null)return null;const n=t.match(/^(_+)(.*)/);if(n)return`\\text{${"\\_".repeat(n[1].length)+Ci(n[2])}}`;let r;[r,t]=function(o){const l=o.match(/^([a-zA-Z-]+\.)(.*)/);return l?[l[1],l[2]]:["",o]}(t);const a=Ci(t);return a.length!==1||r?(r||(r=e),((i={"upright.":"\\mathrm{_}","italic.":"\\mathit{_}","bold-italic.":"\\mathbf{\\mathit{_}}","script.":"\\mathscr{_}","calligraphic.":"\\mathcal{_}","bold-script.":"\\mathbf{\\mathscr{_}}","bold-calligraphic.":"\\mathbf{\\mathcal{_}}","fraktur.":"\\mathfrak{_}","gothic.":"\\mathfrak{_}","bold-gothic.":"\\mathbf{\\mathfrak{_}}","bold-fraktur.":"\\mathbf{\\mathfrak{_}}","sans-serif.":"\\mathsf{_}","bold-sans-serif.":"\\mathbf{\\mathsf{_}}","italic-sans-serif.":"\\mathit{\\mathsf{_}}","monospace.":"\\mathtt{_}","blackboard.":"\\mathbb{_}","double-struck.":"\\mathbb{_}"}[r])!==null&&i!==void 0?i:"\\mathit{_}").replace("_",a)):a}function Ci(t){const e=t.indexOf("_");if(e>0){const n=t.substring(0,e),r=t.substring(e+1);return r?r.startsWith('"')&&r.endsWith('"')?`${Ci(n)}_\\mathrm{${Ci(r.substring(1,-1))}}`:`${Ci(n)}_{${Ci(r)}}`:Lo(n)+"\\_"}const i=t.match(/([^0-9]+?)([0-9]+)$/);return i?i[1].length===0?t:`${Ci(i[1])}_{${i[2]}}`:jc.includes(t)?"\\"+t:t=t.replace(/[{}\[\]\\:\-\$%]/g,n=>{var r;return(r={"{":"\\lbrace ","}":"\\rbrace ","[":"\\lbrack ","]":"\\rbrack ",":":"\\colon ","\\":"\\backslash ","-":'\\unicode{"2013}'}[n])!==null&&r!==void 0?r:"\\"+n})}const Hc={invisibleMultiply:"",invisiblePlus:"",multiply:"\\times",missingSymbol:"\\placeholder{}",applyFunctionStyle:function(t,e){return"paren"},groupStyle:function(t,e){return"paren"},rootStyle:an,fractionStyle:cu,logicStyle:function(t,e){return"boolean"},powerStyle:function(t,e){return"solidus"},numericSetStyle:function(t,e){return"compact"}};class Yr{constructor(e){var i,n;this.onError=(i=e.onError)!==null&&i!==void 0?i:a=>{if(typeof window<"u")for(const o of a);},this.computeEngine=e.computeEngine;const r={...e};delete r.dictionary,delete r.onError,this.options={...mu,...Hc,...pu,...r},this.dictionary=function(a,o){var l,s;const u={lookahead:1,name:new Map,symbol:[],infix:[],prefix:[],postfix:[],environment:new Map,matchfix:[]};for(const c of a){const[d,p]=Pc(c,o);if(p!==null){if(p.name!==void 0&&(u.name.has(p.name)&&o({severity:"warning",message:["invalid-dictionary-entry",p.name,"Duplicate definition"]}),u.name.set(p.name,p)),p.kind==="matchfix")u.matchfix.push(p);else if(p.kind==="environment"){const h=Rt((l=c.trigger)!==null&&l!==void 0?l:"");u.environment.has(h)&&o({severity:"warning",message:["invalid-dictionary-entry",h,"Duplicate environment definition"]}),u.environment.set(h,p)}else if(d){const h=Rt((s=c.trigger)!==null&&s!==void 0?s:""),f=Oc(d);if(u.lookahead=Math.max(u.lookahead,f),p.kind==="symbol"){u.symbol[f]===void 0&&(u.symbol[f]=new Map);const g=u.symbol[f];g.has(h)?g.get(h).push(p):g.set(h,[p])}else if(p.kind==="prefix"){u.prefix[f]===void 0&&(u.prefix[f]=new Map);const g=u.prefix[f];g.has(h)?g.get(h).push(p):g.set(h,[p])}else if(p.kind==="infix"){u.infix[f]===void 0&&(u.infix[f]=new Map);const g=u.infix[f];g.has(h)?g.get(h).push(p):g.set(h,[p])}else if(p.kind==="postfix"){u.postfix[f]===void 0&&(u.postfix[f]=new Map);const g=u.postfix[f];g.has(h)?g.get(h).push(p):g.set(h,[p])}}}}return u}((n=e.dictionary)!==null&&n!==void 0?n:Yr.getDictionary(),a=>this.onError([a]))}updateOptions(e){for(const i of Object.keys(this.options))i in e&&(this.options[i]=e[i]);this.serializer.updateOptions(e)}static getDictionary(e="all"){if(e==="all"){let i=[];for(const n of Object.keys(Dn))Dn[n]&&(i=[...i,...Dn[n]]);return i}return Dn[e]?[...Dn[e]]:[]}parse(e){const i=new es(Gr(e,[]),this.options,this.dictionary,this.computeEngine,this.onError);let n=i.matchExpression();if(!i.atEnd){const r=[];for(;!i.atEnd;)r.push(i.next());n=["Error",n!=null?n:"Nothing",{str:"syntax-error"},["LatexForm",{str:Rt(r)}]]}return n||(n="Nothing"),this.options.preserveLatex&&(Array.isArray(n)?n={latex:e,fn:n}:typeof n=="number"?n={latex:e,num:Number(n).toString()}:typeof n=="string"?n={latex:e,sym:n}:typeof n=="object"&&n!==null&&(n.latex=e)),n!=null?n:"Nothing"}serialize(e){return this.serializer.serialize(e)}get serializer(){return this._serializer||(this._serializer=new Rc(this.options,this.dictionary,this.onError)),this._serializer}}const Rn=Math.log10(Math.pow(2,53)),Us=new Set([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919]);function rr(t,e){const i=function(a){if(a<=3)return{[a]:1};const o={};let l=!1;for(;!l;){if(a%2==0){o[2]?o[2]+=1:o[2]=1,a/=2;continue}if(a%3==0){o[3]?o[3]+=1:o[3]=1,a/=3;continue}if(a===1)return o;const s=Math.sqrt(a);l=!0;for(let u=6;u<=s+6;u+=6){if(a%(u-1)==0){o[u-1]?o[u-1]+=1:o[u-1]=1,a/=u-1,l=!1;break}if(a%(u+1)==0){o[u+1]?o[u+1]+=1:o[u+1]=1,a/=u+1,l=!1;break}}}return o[a]=1,o}(t);let n=1,r=1;for(const a of Object.keys(i)){const o=parseFloat(a);n*=Math.pow(o,Math.floor(i[a]/e)),r*=Math.pow(o,i[a]%e)}return[n,r]}function fu(t,e){if(t===0)return e;if(e===0||t===e)return t;if(!Number.isInteger(t)||!Number.isInteger(e))return NaN;for(;e!==0;)[t,e]=[e,t%e];return t<0?-t:t}function ki([t,e]){if(t===1||e===1)return[t,e];e<0&&([t,e]=[-t,-e]);const i=fu(t,e);return i<=1?[t,e]:[t/i,e/i]}const Gs=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23],Js=[.999999999999997,57.15623566586292,-59.59796035547549,14.13609797474174,-.4919138160976202,3399464998481188e-20,4652362892704857e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.0002174396181152126,-.0001643181065367639,8441822398385274e-20,-261908384015814e-19,3689918265953162e-21];function gu(t){if(t<0)return NaN;let e=Js[0];for(let n=14;n>0;--n)e+=Js[n]/(t+n);const i=t+4.7421875+.5;return .9189385332046727+(t+.5)*Math.log(i)-i+Math.log(e)-Math.log(t)}function Ao(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Ao(1-t));if(t>100)return Math.exp(gu(t));t-=1;let e=Gs[0];for(let n=1;n<9;n++)e+=Gs[n]/(t+n);const i=t+7+.5;return 2.5066282746310002*Math.pow(i,t+.5)*Math.exp(-i)*e}function bu(t,e=10){let i=0;for(let n=0;n<t.length;n++){const r={" ":-1,"\xA0":-1,"\u2000":-1,"\u2001":-1,"\u2002":-1,"\u2003":-1,"\u2004":-1,"\u2005":-1,"\u2006":-1,"\u2007":-1,"\u2008":-1,"\u2009":-1,"\u200A":-1,"\u200B":-1,"\u202F":-1,"\u205F":-1,_:-1,",":-1,0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,g:16,h:17,i:18,j:19,k:20,l:21,m:22,n:23,o:24,p:25,q:26,r:27,s:28,t:29,u:30,v:31,w:32,x:33,y:34,z:35}[t[n]];if(r!==-1){if(r===void 0)return[i,t.substring(n)];if(r>=e)return[i,t.substring(n)];i=i*e+r}}return[i,""]}class Tt{constructor(e,i){this.engine=e,i!=null&&i.latex&&(this._latex=i.latex),i!=null&&i.wikidata&&(this._wikidata=i.wikidata)}toJSON(){return JSON.stringify(this.json)}toString(){return this.latex}valueOf(){var e,i,n;const[r,a]=this.rationalValue;return r!==null&&a!==null?[r,a]:(n=(i=(e=this.asFloat)!==null&&e!==void 0?e:this.string)!==null&&i!==void 0?i:this.symbol)!==null&&n!==void 0?n:this.toString()}is(e){return e!=null&&this.isSame(this.engine.box(e))}has(e){return!1}get description(){return[]}get url(){return""}_purge(){}get isPure(){return!1}get isLiteral(){return!1}get latex(){var e;return(e=this._latex)!==null&&e!==void 0?e:this.engine.serialize(this)}set latex(e){this._latex=e}get wikidata(){var e;return(e=this._wikidata)!==null&&e!==void 0?e:""}set wikidata(e){this._wikidata=e}get complexity(){return 1}get ops(){return null}get nops(){return 0}get op1(){return this.engine.symbol("Missing")}get op2(){return this.engine.symbol("Missing")}get op3(){return this.engine.symbol("Missing")}get symbolDefinition(){}get functionDefinition(){}_repairDefinition(){}get keys(){return null}get keysCount(){return 0}getKey(e){}hasKey(e){return!1}get machineValue(){var e,i;return(i=(e=this.numericValue)===null||e===void 0?void 0:e.machineValue)!==null&&i!==void 0?i:null}get rationalValue(){var e,i;return(i=(e=this.numericValue)===null||e===void 0?void 0:e.rationalValue)!==null&&i!==void 0?i:[null,null]}get decimalValue(){var e,i;return(i=(e=this.numericValue)===null||e===void 0?void 0:e.decimalValue)!==null&&i!==void 0?i:null}get complexValue(){var e,i;return(i=(e=this.numericValue)===null||e===void 0?void 0:e.complexValue)!==null&&i!==void 0?i:null}get asFloat(){var e,i;return(i=(e=this.numericValue)===null||e===void 0?void 0:e.asFloat)!==null&&i!==void 0?i:null}get asSmallInteger(){var e,i;return(i=(e=this.numericValue)===null||e===void 0?void 0:e.asSmallInteger)!==null&&i!==void 0?i:null}get asRational(){var e,i;return(i=(e=this.numericValue)===null||e===void 0?void 0:e.asRational)!==null&&i!==void 0?i:[null,null]}get sgn(){var e,i;return(i=(e=this.numericValue)===null||e===void 0?void 0:e.sgn)!==null&&i!==void 0?i:null}get symbol(){return null}get isMissing(){return!1}get value(){return this}set value(e){throw Error(`Can't change the value of \\(${this.latex}\\)`)}get numericValue(){}isSubdomainOf(e){}get domain(){return this.engine.domain("Nothing")}set domain(e){throw Error(`Can't change the domain of \\(${this.latex}\\)`)}get valueDomain(){return this.domain}get string(){return null}isLess(e){}isLessEqual(e){}isGreater(e){}isGreaterEqual(e){}get isZero(){}get isNotZero(){}get isPositive(){}get isNonNegative(){}get isNegative(){}get isNonPositive(){}get isInfinity(){}get isNaN(){}get isFinite(){}get isNumber(){}get isInteger(){}get isRational(){}get isAlgebraic(){return!1}get isReal(){}get isExtendedReal(){}get isComplex(){}get isImaginary(){}get isExtendedComplex(){}get isOne(){}get isNegativeOne(){}get isEven(){}get isOdd(){}get isPrime(){}get isComposite(){}get canonical(){return this}apply(e,i){return this}evaluate(e){return this.simplify(e)}simplify(e){return this}N(e){return this}replace(e){return null}subs(e){return this}solve(e){return null}}function yu(t,e){if(!e.isInteger()||e.isNegative())return t.DECIMAL_NAN;if(e.lessThan(10))return t.decimal([1,1,2,6,24,120,720,5040,40320,362880,3628800][e.toNumber()]);if(e.gt(Number.MAX_SAFE_INTEGER)){let a=t.DECIMAL_ONE,o=t.DECIMAL_TWO;for(;o.lessThan(e);)a=a.mul(o),o=o.add(1);return a}if(e.modulo(2).eq(1))return e.times(yu(t,e.minus(1)));let i=e.toNumber(),n=e,r=e;for(;i>2;)i-=2,n=n.add(i),r=r.mul(n);return r}function vu(t,e){if(e.isNegative())return t.DECIMAL_NAN;const i=t.cache("gamma-p-ln",()=>["0.99999999999999709182","57.156235665862923517","-59.597960355475491248","14.136097974741747174","-0.49191381609762019978","0.33994649984811888699e-4","0.46523628927048575665e-4","-0.98374475304879564677e-4","0.15808870322491248884e-3","-0.21026444172410488319e-3","0.2174396181152126432e-3","-0.16431810653676389022e-3","0.84418223983852743293e-4","-0.2619083840158140867e-4","0.36899182659531622704e-5"].map(o=>t.decimal(o)));let n=i[0];for(let o=i.length-1;o>0;--o)n=n.add(i[o].div(e.add(o)));const r=t.cache("gamma-g-ln",()=>t.decimal(607).div(128)),a=e.add(r).add(t.DECIMAL_HALF);return t.DECIMAL_NEGATIVE_ONE.acos().mul(t.DECIMAL_TWO).log().mul(t.DECIMAL_HALF).add(a.log().mul(e.add(t.DECIMAL_HALF)).minus(a).add(n.log()).minus(e.log()))}function xu(t,e){if(e.lessThan(t.DECIMAL_HALF)){const a=t.DECIMAL_NEGATIVE_ONE.acos();return a.div(a.mul(e).sin().mul(xu(t,t.DECIMAL_ONE.sub(e))))}if(e.greaterThan(100))return vu(t,e).exp();e=e.sub(1);const i=t.cache("lanczos-7-c",()=>["0.99999999999980993227684700473478","676.520368121885098567009190444019","-1259.13921672240287047156078755283","771.3234287776530788486528258894","-176.61502916214059906584551354","12.507343278686904814458936853","-0.13857109526572011689554707","9.984369578019570859563e-6","1.50563273514931155834e-7"].map(t.decimal));let n=i[0];for(let a=1;a<9;a++)n=n.add(i[a].div(e.add(a)));const r=e.add(7).add(t.DECIMAL_HALF);return t.DECIMAL_NEGATIVE_ONE.acos().times(t.DECIMAL_TWO).sqrt().mul(n.mul(r.neg().exp()).mul(r.pow(e.add(t.DECIMAL_HALF))))}function ar(t){return t.e<308&&t.e>-306}function Ge(t,e){var i;const n=[];for(const r of t)r.ops&&r.head===e?n.push(...(i=Ge(r.ops,e))!==null&&i!==void 0?i:r.ops):n.push(r);return n.length===t.length?null:n}function Qr(t){if(t.head==="Power"&&t.op2.isLiteral){const e=t.op2.asSmallInteger;return e!==null&&e>0?e:1}if(t.head==="Multiply"){let e=1;for(const i of t.ops){const n=Qr(i);n>1&&(e+=n)}return e}return 1}function Xs(t){if(t.head==="Power"&&t.op2.isLiteral){const e=t.op2.asSmallInteger;return e!==null&&e>0?e:1}if(t.head==="Multiply"){let e=1;for(const i of t.ops)e=Math.max(e,Qr(i));return e}return 1}function Co(t){return t.symbol?t.symbol:t.ops?t.ops.map(e=>Co(e)).filter(e=>e.length>0).join('"'):""}function ts(t){return typeof t=="string"&&t.startsWith("$")&&t.endsWith("$")}function Jn(t){return typeof t=="string"&&t.startsWith("$")&&t.endsWith("$")?t.slice(1,-1):null}function Eo(t){var e;if(t.symbol==="ImaginaryUnit")return 1;const i=t.complexValue;if(i&&i.re===0)return i.im;if(t.head==="Negate")return-Eo(t.op1);let n=0;if(t.head==="Multiply"&&t.nops===2){let r;t.op1.symbol==="ImaginaryUnit"?r=t.op2:t.op2.symbol==="ImaginaryUnit"&&(r=t.op1),r&&r.isLiteral&&(n=(e=r.asFloat)!==null&&e!==void 0?e:0)}return n}function ea(t){var e;if(t.symbol)return!((e=t.symbolDefinition)===null||e===void 0)&&e.constant?[]:[t.symbol];if(!t.ops&&!t.keys)return[];const i=[];if(t.ops)for(const n of t.ops)i.push(...ea(n));if(t.keys)for(const n of t.keys)i.push(...ea(t.getKey(n)));return i}function xt(t){return t.numericMode==="decimal"||t.numericMode==="auto"&&t.precision>Math.floor(Rn)}function _i(t){return t.numericMode==="auto"||t.numericMode==="complex"}function Et(t){let e=0;for(let i=0;i<t.length;i++)e=Math.imul(31,e)+t.charCodeAt(i)|0;return Math.abs(e)}function is(t,e){var i,n,r,a;if(t.isLiteral&&t.asFloat!==null)return e.isLiteral&&e.asFloat!==null?t.asFloat-e.asFloat:-1;if(t.isLiteral&&t.complexValue)return e.isLiteral&&e.complexValue?t.complexValue.re===e.complexValue.re?Math.abs(t.complexValue.im)===Math.abs(e.complexValue.im)?t.complexValue.im-e.complexValue.im:Math.abs(t.complexValue.im)-Math.abs(e.complexValue.im):t.complexValue.re-e.complexValue.re:e.isLiteral&&e.isNumber?1:-1;if(t.symbol)return e.symbol?t.symbol===e.symbol?0:t.symbol>e.symbol?1:-1:e.isLiteral&&e.isNumber?1:-1;if(t.ops){if(e.ops){const o=(n=(i=t.functionDefinition)===null||i===void 0?void 0:i.complexity)!==null&&n!==void 0?n:1e5,l=(a=(r=e.functionDefinition)===null||r===void 0?void 0:r.complexity)!==null&&a!==void 0?a:1e5;return o===l?typeof t.head=="string"&&typeof e.head=="string"?t.head===e.head?on(t)-on(e):t.head<e.head?1:-1:on(t)-on(e):o-l}return e.isLiteral&&e.isNumber||e.symbol?1:-1}if(t.string)return e.string?t.string.length!==e.string.length?e.string.length-t.string.length:e.string<t.string?-1:t.string>e.string?1:0:e.keys?-1:1;if(t.keys&&e.keys){if(t.keysCount!==e.keysCount)return e.keysCount-t.keysCount;let o=0,l=0;for(const s of e.keys)o+=e.getKey(s).complexity;for(const s of t.keys)l+=t.getKey(s).complexity;return l-o}return t.complexity-e.complexity}function on(t){return t.keys!==null?1+t.keysCount:t.ops?(typeof t.head=="string"?1:on(t.head))+[...t.ops].reduce((e,i)=>e+on(i),0):1}function sn(t){var e;const i=t.engine;let n=1,r=1;if(t.head==="Multiply"){const a=[];for(const o of t.ops)if(o.isLiteral){const[l,s]=o.asRational;l!==null&&s!==null?(n*=l,r*=s):a.push(o)}else a.push(o);return[n,r]=ki([n,r]),n===r?[[1,1],t]:a.length===0?[[n,r],i.ONE]:a.length===1?[[n,r],a[0]]:[[n,r],i.mul(a)]}if(t.head==="Divide"){let[[a,o],l]=sn(t.op1);const[[s,u],c]=sn(t.op2),[d,p]=ki([a*u,s*o]);return l.isOne&&c.isOne?[[d,p],i.ONE]:c.isOne?[[d,p],l]:[[d,p],i.fn("Divide",[l,c]).canonical]}if(t.head==="Power"){if(!t.op2.isLiteral)return[[1,1],t];let[[a,o],l]=sn(t.op1);if(a===1&&o===1)return[[1,1],t];const s=t.op2,u=s.asSmallInteger;if(u!==null){if(u===-1)return[[o,a],i.inverse(l)];if(Math.log10(Math.abs(a))*Math.abs(u)<15&&Math.log10(Math.abs(o))*Math.abs(u)<15)return u>0?[[Math.pow(a,u),Math.pow(o,u)],i.power(l,s)]:[[Math.pow(o,-u),Math.pow(a,-u)],i.power(l,s)]}const[c,d]=s.rationalValue;if(c!==null&&d!==null&&a>0&&Math.abs(c)===1){const[p,h]=rr(a,d),[f,g]=rr(o,d);return p===1&&f===1?[[1,1],t]:[c===1?[p,f]:[f,p],i.power(i.mul([i.number([h,g]),l]),s)]}return[[1,1],t]}if(t.head==="Negate"){const[a,o]=sn(t.op1);return[[-a[0],a[1]],o]}if(t.isLiteral){if(t.decimalValue){if(t.decimalValue.isInteger()&&ar(t.decimalValue))return[[t.decimalValue.toNumber(),1],i.ONE];if(!((e=t.decimalValue)===null||e===void 0)&&e.isNegative())return[[-1,1],i.number(t.decimalValue.neg())]}if(t.machineValue!==null){if(Number.isInteger(t.machineValue))return[[t.machineValue,1],i.ONE];if(t.machineValue<0)return[[-1,1],i.number(-t.machineValue)]}const[a,o]=t.rationalValue;if(a!==null&&o!==null)return[[a,o],i.ONE];if(t.complexValue!==null){const l=t.complexValue;if(l.re<0)return[[-1,1],i.number(i.complex(-l.re,-l.im))]}}return[[1,1],t]}function Ys(t){var e;if(t.head==="Negate")return[-1,t.op1];const i=t.engine;if(t.machineValue!==null&&t.machineValue<0)return[-1,i.number(-t.machineValue)];if(!((e=t.decimalValue)===null||e===void 0)&&e.isNegative())return[-1,i.number(t.decimalValue.neg())];if(t.complexValue!==null){const a=t.complexValue;if(a.re<0)return[-1,i.number(i.complex(-a.re,-a.im))]}const[n,r]=t.rationalValue;return n!==null&&r!==null&&n<0?[-1,i.number([-n,r])]:[1,t]}class sr{constructor(e,i){if(this._terms=[],this._literal=[1,1],this._hasInfinity=!1,this._hasZero=!1,this.engine=e,i)for(const n of i)this.addTerm(n)}get isEmpty(){return this._hasInfinity===!1&&this._hasZero===!1&&this._literal[0]===this._literal[1]&&this._terms.length===0}addTerm(e){if(e.symbol==="Nothing")return;if(e.isLiteral){if(e.isOne)return;if(e.isZero)return void(this._hasZero=!0);if(e.isNegativeOne)return void(this._literal[0]*=-1);if(e.isInfinity)return this._hasInfinity=!0,void(e.isNegative&&(this._literal[0]*=-1))}let[i,n]=sn(e);if(this._literal=[this._literal[0]*i[0],this._literal[1]*i[1]],n.isLiteral&&n.isOne)return;let r=[1,1];if(n.head==="Power"&&n.op2.isLiteral){const[o,l]=n.op2.asRational;o!==null&&l!==null&&(r=[o,l],n=n.op1)}let a=!1;if(r[1]===1||n.isNonNegative){for(const o of this._terms)if(o.term.isSame(n)){const[l,s]=o.exponent,[u,c]=r;o.exponent=[l*c+s*u,s*c],a=!0;break}}a||this._terms.push({exponent:r,term:n})}groupedByDegrees(e){const i=this.engine,n=[],r=[];this._hasInfinity&&r.push(i.POSITIVE_INFINITY),this._literal=ki(this._literal),this._literal[0]===1&&this._literal[1]===1||(e!=null&&e.splitRational?(this._literal[0]!==1&&r.push(i.number(this._literal[0]).canonical),this._literal[1]!==1&&n.push({exponent:[-1,1],terms:[i.number(this._literal[1]).canonical]})):r.push(i.number(this._literal).canonical)),r.length>0&&n.push({exponent:[1,1],terms:r});for(const a of this._terms){if(a.exponent[0]===0)continue;let o=!1;for(const l of n)if(a.exponent[0]===l.exponent[0]&&a.exponent[1]===l.exponent[1]){l.terms.push(a.term),o=!0;break}o||n.push({exponent:ki(a.exponent),terms:[a.term]})}return n}terms(){return xr(this.engine,this.groupedByDegrees())}asNumeratorDenominator(){var e,i;const n=this.groupedByDegrees(),r=[],a=[];for(const d of n)d.exponent[0]>=0?r.push(d):a.push({exponent:[-d.exponent[0],d.exponent[1]],terms:d.terms});const o=this.engine;let l=xr(o,r);l=(e=Ge(l,"Multiply"))!==null&&e!==void 0?e:l;let s=o.ONE;l.length===1?s=l[0]:l.length>0&&(s=o._fn("Multiply",l));let u=xr(o,a);u=(i=Ge(u,"Multiply"))!==null&&i!==void 0?i:u;let c=o.ONE;return u.length===1?c=u[0]:u.length>0&&(c=o._fn("Multiply",u)),[s,c]}asExpression(){var e;const i=this.engine;if(this._hasInfinity){if(this._hasZero)return i.NAN;if(this._terms.length===0)return this._literal[0]>0?i.POSITIVE_INFINITY:i.NEGATIVE_INFINITY}if(this._hasZero)return i.ZERO;if(this._terms.length===0)return i.number(this._literal).canonical;let n=xr(i,this.groupedByDegrees({splitRational:!1}));return this._hasInfinity&&n.push(i.POSITIVE_INFINITY),n=(e=Ge(n,"Multiply"))!==null&&e!==void 0?e:n,n.length===0?i.ONE:n.length===1?n[0]:this.engine._fn("Multiply",n)}asRationalExpression(){const[e,i]=this.asNumeratorDenominator();return i.isOne?e:i.isNegativeOne?this.engine.negate(e):this.engine._fn("Divide",[e,i])}}function Qs(t){const[e,i]=t;return e===i?0:e>0&&Number.isInteger(e/i)?1:e>0?2:Number.isInteger(e/i)?3:4}function Wc(t,e){const i=Qs(t.exponent),n=Qs(e.exponent);return i!==n?i-n:t.exponent[0]/t.exponent[1]-e.exponent[0]/e.exponent[1]}function xr(t,e){var i;const n=(e=e.sort(Wc)).map(r=>{var a;const o=(a=Ge(r.terms,"Multiply"))!==null&&a!==void 0?a:r.terms,l=o.length<=1?o[0]:t._fn("Multiply",o.sort(is));return r.exponent[0]===r.exponent[1]?l:t.power(l,r.exponent)});return(i=Ge(n,"Multiply"))!==null&&i!==void 0?i:n}function he(t,e,i,n){var r,a,o,l,s,u,c;const d=t.jsonSerializationOptions.exclude;if((e==="Rational"||e==="Divide")&&((r=i[0])===null||r===void 0?void 0:r.isLiteral)&&((a=i[1])===null||a===void 0?void 0:a.isLiteral)&&((o=i[0])===null||o===void 0?void 0:o.asSmallInteger)===1&&((l=i[1])===null||l===void 0?void 0:l.asSmallInteger)===2&&!d.includes("Half"))return ya(t,"Half",{...n,wikidata:"Q39373172"});if(e==="Negate"&&i[0].isLiteral){if(i[0].machineValue!==null)return ln(t,-i[0].machineValue);if(i[0].decimalValue!==null)return ln(t,i[0].decimalValue.neg());if(i[0].complexValue!==null)return ln(t,i[0].complexValue.neg());const[f,g]=i[0].rationalValue;if(f!==null&&g!==null)return ln(t,[-f,g])}if(e==="Rational"&&d.includes(e)&&i.length>1)return he(t,"Divide",i,n);if(e==="Complex"&&d.includes(e))return he(t,"Add",[i[0],t._fn("Multiply",[i[1],t.symbol("ImaginaryUnit")])],n);if(e==="Sqrt"&&d.includes(e))return he(t,"Power",[i[0],d.includes("Half")?t.number([1,2]):t.HALF],n);if(e==="Root"&&d.includes(e)&&i[1].isLiteral){const f=i[1].asSmallInteger;if(f===2)return he(t,"Sqrt",[i[0]]);if(f!==null)return f<0?he(t,"Divide",[t.ONE,t._fn("Power",[i[0],t.number([1,-f])])],n):he(t,"Power",[i[0],t.number([1,-f])],n)}if(e==="Square"&&d.includes(e))return he(t,"Power",[i[0],t.TWO],n);if(e==="Exp"&&d.includes(e))return he(t,"Power",[t.symbol("ExponentialE"),i[0]],n);if(e==="Subtract"&&d.includes(e))return he(t,"Add",[i[0],t._fn("Negate",[i[1]])],n);if(e==="Add"&&i.length===2&&!d.includes("Subtract")){if(i[1].isLiteral){const f=i[1].asSmallInteger;if(f!==null&&f<0)return he(t,"Subtract",[i[0],t.number(-f)],n)}if(i[1].head==="Negate")return he(t,"Subtract",[i[0],i[1].op1],n)}if(e==="Tuple"){if(i.length===1&&!d.includes("Single"))return he(t,"Single",i,n);if(i.length===2&&!d.includes("Pair"))return he(t,"Pair",i,n);if(i.length===3&&!d.includes("Triple"))return he(t,"Triple",i,n)}const p=[typeof e=="string"?e:e.json,...i.map(f=>f.json)],h={...n!=null?n:{}};return t.jsonSerializationOptions.metadata.includes("latex")?h.latex=(s=h.latex)!==null&&s!==void 0?s:t.serialize({fn:p}):h.latex="",t.jsonSerializationOptions.metadata.includes("wikidata")?(n==null?void 0:n.wikidata)||typeof e!="string"||(h.wikidata=(c=(u=t.getFunctionDefinition(e,i))===null||u===void 0?void 0:u.wikidata)!==null&&c!==void 0?c:""):h.wikidata="",h.latex||h.wikidata||!t.jsonSerializationOptions.shorthands.includes("function")?h.latex&&h.wikidata?{fn:p,latex:h.latex,wikidata:h.wikidata}:h.latex?{fn:p,latex:h.latex}:h.wikidata?{fn:p,wikidata:h.wikidata}:{fn:p}:p}function ya(t,e,i){var n,r,a;return e==="Half"&&t.jsonSerializationOptions.exclude.includes("Half")?ln(t,[1,2],i):(i={...i},t.jsonSerializationOptions.metadata.includes("latex")?(i.latex=(n=i.latex)!==null&&n!==void 0?n:t.serialize({sym:e}),i.latex===e&&(i.latex=""),i.latex=i.latex):i.latex="",t.jsonSerializationOptions.metadata.includes("wikidata")?i.wikidata||(i.wikidata=(a=(r=t.getSymbolDefinition(e))===null||r===void 0?void 0:r.wikidata)!==null&&a!==void 0?a:""):i.wikidata="",i.latex||i.wikidata||!t.jsonSerializationOptions.shorthands.includes("symbol")?i.latex&&i.wikidata?{sym:e,latex:i.latex,wikidata:i.wikidata}:i.latex?{sym:e,latex:i.latex}:i.wikidata?{sym:e,wikidata:i.wikidata}:{sym:e}:e)}function ln(t,e,i){var n,r,a;i={...i},t.jsonSerializationOptions.metadata.includes("latex")||(i.latex="");const o=!i.latex&&!t.jsonSerializationOptions.metadata.includes("latex")&&t.jsonSerializationOptions.shorthands.includes("number");let l="";if(e instanceof Lc){if(e.isNaN()?l="NaN":e.isFinite()||(l=e.isPositive()?"+Infinity":"-Infinity"),!l){if(o&&ar(e)&&e.precision()<15)return e.toNumber();l=e.isInteger()&&e.e<e.precision()+4?e.toFixed(0):el(t,e.toJSON())}return t.jsonSerializationOptions.metadata.includes("latex")&&(i.latex=(n=i.latex)!==null&&n!==void 0?n:t.serialize({num:l})),i.latex?{num:l,latex:i.latex}:{num:l}}if(e instanceof ve.exports.Complex)return e.isInfinite()?ya(t,"ComplexInfinity",i):e.isNaN()?(l="NaN",t.jsonSerializationOptions.metadata.includes("latex")&&(i.latex=(r=i.latex)!==null&&r!==void 0?r:t.serialize({num:l})),i.latex?{num:l,latex:i.latex}:{num:l}):he(t,"Complex",[t.number(e.re),t.number(e.im)],{...i,wikidata:"Q11567"});if(Array.isArray(e))return i.latex||i.wikidata||t.jsonSerializationOptions.metadata.includes("latex")||!t.jsonSerializationOptions.shorthands.includes("function")||!t.jsonSerializationOptions.shorthands.includes("number")?he(t,"Rational",[t.number(e[0]),t.number(e[1])],i):["Rational",e[0],e[1]];if(Number.isNaN(e)&&(l="NaN"),!Number.isFinite(e)&&e>0&&(l="+Infinity"),!Number.isFinite(e)&&e<0&&(l="-Infinity"),!l){if(o)return e;l=el(t,e.toString())}return t.jsonSerializationOptions.metadata.includes("latex")&&(i.latex=(a=i.latex)!==null&&a!==void 0?a:t.serialize({num:l})),i.latex?{num:l,latex:i.latex}:{num:l}}function el(t,e){var i;if(!t.jsonSerializationOptions.repeatingDecimal)return e;let[n,r,a,o]=(i=e.match(/^(.*)\.([0-9]+)([e|E][-+]?[0-9]+)?$/))!==null&&i!==void 0?i:[];if(!a)return e;const l=a[a.length-1];a=a.slice(0,-1);let s="";for(let u=0;u<a.length-16;u++){s=a.substring(0,u);for(let c=0;c<=16;c++){const d=a.substring(u,u+c+1),p=Math.floor((a.length-s.length)/d.length);if(p>1&&(s+d.repeat(p+1)).startsWith(a))return d==="0"?l==="0"?r+"."+s+(o!=null?o:""):e:r+"."+s+"("+d+")"+(o!=null?o:"")}}return e}class Ft extends Tt{constructor(e,i,n){super(e,n),this._value=new Map,this._isCanonical=!1;for(const r of Object.keys(i))this._value.set(r,e.box(i[r]));e._register(this)}_purge(){for(const[e,i]of this._value)i._purge()}get hash(){let e=Et("Dictionary");for(const[i,n]of this._value)e^=Et(i)^n.hash;return e}get complexity(){return 97}get head(){return"Dictionary"}get isPure(){return!1}getKey(e){return this._value.get(e)}hasKey(e){return this._value.has(e)}get keys(){return this._value.keys()}get keysCount(){return this._value.size}has(e){for(const[i,n]of this._value)if(n.has(e))return!0;return!1}get domain(){const e=["Dictionary"];for(const[i,n]of this._value)e.push(["Tuple",i,n.domain]);return this.engine.domain(e)}get json(){if(this.engine.jsonSerializationOptions.shorthands.includes("dictionary")){const i={};for(const n of this._value.keys())i[n]=this._value.get(n).json;return{dict:i}}const e=[];for(const i of this._value.keys())e.push(this.engine._fn("KeyValuePair",[this.engine.string(i),this._value.get(i)]));return he(this.engine,"Dictionary",e,{latex:this._latex})}isSame(e){if(this===e)return!0;if(!(e instanceof Ft)||this._value.size!==e._value.size)return!1;for(const[i,n]of this._value){const r=e.getKey(i);if(!r||!n.isSame(r))return!1}return!0}match(e,i){if(!(e instanceof Ft)||this._value.size!==e._value.size)return null;let n={};for(const[r,a]of this._value){const o=e.getKey(r);if(!o)return null;const l=a.match(o);if(l===null)return null;n={...n,...l}}return n}isEqual(e){if(this===e)return!0;if(!(e instanceof Ft)||!e.keys||this._value.size!==e._value.size)return!1;for(const[i,n]of this._value){const r=e.getKey(i);if(!r||!n.isEqual(r))return!1}return!0}apply(e,i){const n={};for(const r of this.keys)n[r]=this.engine.box(e(this.getKey(r)));return i?this.engine.fn(i,[{dict:n}]):new Ft(this.engine,n)}evaluate(e){return this.apply(i=>{var n;return(n=i.evaluate(e))!==null&&n!==void 0?n:i})}get isCanonical(){return this._isCanonical}set isCanonical(e){this._isCanonical=e}get canonical(){if(this.isCanonical)return this;const e=this.apply(i=>i.canonical);return e.isCanonical=!0,e}simplify(e){var i;return(i=e==null?void 0:e.recursive)===null||i===void 0||i?this.apply(n=>{var r;return(r=n.simplify(e))!==null&&r!==void 0?r:n}):this}N(e){return this.apply(i=>i.N(e))}replace(e,i){let n=0;const r={};for(const a of this.keys){const o=this.getKey(a),l=o.replace(e,i);l!==null&&(n+=1),r[a]=l!=null?l:o}return n===0?null:new Ft(this.engine,r)}subs(e){const i={};for(const n of this.keys)i[n]=this.getKey(n).subs(e);return new Ft(this.engine,i)}}function ku(t,e){var i;const n=new Set;for(const[r,a,o]of e){let l=t.pattern(r);const s={};for(const p of ea(l))s[p]=t.symbol("_"+p);let u;l=l.subs(s);const c=Jn(o==null?void 0:o.condition);if(c){const p=t.parse(c).subs(s);u=h=>{var f;return((f=p.subs(h).value)===null||f===void 0?void 0:f.symbol)==="True"}}else u=o==null?void 0:o.condition;const d=ts(a)?t.parse(a):t.box(a);d&&n.add([l,d.subs(s),(i=o==null?void 0:o.priority)!==null&&i!==void 0?i:0,u])}return n}function Zc([t,e,i,n],r,a){const o=t.match(r,a);return o===null?null:typeof n!="function"||n(o)?e.subs(o):null}function _u(t,e,i){var n,r;const a=(n=i==null?void 0:i.iterationLimit)!==null&&n!==void 0?n:1;let o=0;const l=(r=i==null?void 0:i.once)!==null&&r!==void 0&&r;let s=!1,u=!1;try{for(;!s&&o<a;){s=!0;for(const c of e){const d=Zc(c,t,i);if(d!==null&&d!==t){if(l)return d;s=!1,u=!0,t=d}}o+=1}}catch{}return u?t:null}const Uc=[];function Gc(t,e){if(e==null||t===e)return t;const i=t.engine,n=i.box(e);return i.costFunction(n)<=1.7*i.costFunction(t)?n:t}class ti extends Tt{constructor(e,i,n,r){var a;super(e,r),this._head=typeof i=="string"?i:(a=i.symbol)!==null&&a!==void 0?a:i,this._ops=n,typeof this._head=="string"&&(this._def=e.getFunctionDefinition(this._head,n)),this._isCanonical=!1,e._register(this)}get hash(){if(this._hash!==void 0)return this._hash;let e=0;for(const i of this._ops)e=e<<1^i.hash|0;return e=typeof this._head=="string"?e^Et(this._head)|0:e^this._head.hash|0,this._hash=e,e}_purge(){typeof this._head!="string"&&this._head._purge();for(const e of this._ops)e._purge();this._value&&this._value._purge(),this._numericValue&&this._numericValue._purge()}get wikidata(){var e,i,n;return(n=(e=this._wikidata)!==null&&e!==void 0?e:(i=this._def)===null||i===void 0?void 0:i.wikidata)!==null&&n!==void 0?n:""}get description(){return this._def&&this._def.description?typeof this._def.description=="string"?[this._def.description]:this._def.description:[]}get url(){var e,i;return(i=(e=this._def)===null||e===void 0?void 0:e.url)!==null&&i!==void 0?i:""}get complexity(){var e,i;return(i=(e=this._def)===null||e===void 0?void 0:e.complexity)!==null&&i!==void 0?i:1e5}get head(){return this._head}get value(){if(this.isPure)return this._value||(this._value=this.evaluate()),this._value}get numericValue(){if(!this.isPure)return;if(this._numericValue)return this._numericValue;const e=this.N();return this._numericValue=e.isLiteral?e:void 0,this._numericValue}get isPure(){var e;if(this._isPure!==void 0)return this._isPure;let i;return((e=this._def)===null||e===void 0?void 0:e.pure)!==void 0&&(i=this._def.pure),i!==!1&&(i=this._ops.every(n=>n.isPure)),this._isPure=i,i}get isLiteral(){return!1}get ops(){return this._ops}get nops(){return this._ops.length}get op1(){var e;return(e=this._ops[0])!==null&&e!==void 0?e:this.engine.symbol("Missing")}get op2(){var e;return(e=this._ops[1])!==null&&e!==void 0?e:this.engine.symbol("Missing")}get op3(){var e;return(e=this._ops[2])!==null&&e!==void 0?e:this.engine.symbol("Missing")}get functionDefinition(){return this._def}_repairDefinition(){if(typeof this._head=="string"){if(this._head[0]==="_")return;this._def=this.engine.getFunctionDefinition(this._head,this._ops),this._def&&(this._head=this._def.name)}}get domain(){var e;if(!((e=this._def)===null||e===void 0)&&e.domain)return typeof this._def.domain=="function"?this.engine.domain(this._def.domain(this.engine,this._ops)):this.engine.domain(this._def.domain);const i=[this.head];for(const n of this._ops)i.push(n.domain);return i.push(this.engine.domain("Anything")),this.engine.domain(i)}get valueDomain(){var e;return(e=this.domain.codomain)!==null&&e!==void 0?e:this.engine.domain("Nothing")}isLess(e){if(e.isZero){const i=this.sgn;if(i===null)return!1;if(i!==void 0)return i<0}}isLessEqual(e){if(e.isZero){const i=this.sgn;if(i===null)return!1;if(i!==void 0)return i<=0}}isGreater(e){if(e.isZero){const i=this.sgn;if(i===null)return!1;if(i!==void 0)return i>0}}isGreaterEqual(e){if(e.isZero){const i=this.sgn;if(i===null)return!1;if(i!==void 0)return i>=0}}get isZero(){const e=this.sgn;return e!==null&&(typeof e=="number"?e===0:void 0)}get isNotZero(){const e=this.sgn;return e!==null&&(typeof e=="number"?e!==0:void 0)}get isOne(){}get isNegativeOne(){}get isPositive(){const e=this.sgn;return e!==null&&(typeof e=="number"?e!==0:void 0)}get isNonPositive(){const e=this.sgn;return e!==null&&(typeof e=="number"?e<=0:void 0)}get isNegative(){const e=this.sgn;return e!==null&&(typeof e=="number"?e<0:void 0)}get isNonNegative(){const e=this.sgn;return e!==null&&(typeof e=="number"?e>=0:void 0)}get isNumber(){return this.valueDomain.isSubdomainOf("Number")}get isInteger(){return this.valueDomain.isSubdomainOf("Integer")}get isRational(){return this.valueDomain.isSubdomainOf("RationalNumber")}get isAlgebraic(){return this.valueDomain.isSubdomainOf("AlgebraicNumber")}get isReal(){return this.valueDomain.isSubdomainOf("RealNumber")}get isExtendedReal(){return this.valueDomain.isSubdomainOf("ExtendedRealNumber")}get isComplex(){return this.valueDomain.isSubdomainOf("ComplexNumber")}get isImaginary(){return this.valueDomain.isSubdomainOf("ImaginaryNumber")}get json(){return this._isCanonical?function(e,i,n,r){var a,o;const l=e.jsonSerializationOptions.exclude;if(i==="Add"&&n.length===2&&!l.includes("Subtract")){const s=n[0].asSmallInteger;if(s!==null&&s<0)return he(e,"Subtract",[n[1],e.number(-s)],r);if(n[0].head==="Negate")return he(e,"Subtract",[n[1],n[0].op1],r)}if(i==="Divide"&&e.jsonSerializationOptions.exclude.includes("Divide"))return he(e,"Multiply",[n[0],e._fn("Power",[n[1],e.NEGATIVE_ONE])],r);if(i==="Multiply"&&!e.jsonSerializationOptions.exclude.includes("Divide")){const s=new sr(e,n).asRationalExpression();if(s.head==="Divide")return he(e,s.head,s.ops,r)}if(i==="Power"){if(!l.includes("Exp")&&((a=n[0])===null||a===void 0?void 0:a.symbol)==="ExponentialE")return he(e,"Exp",[n[1]],r);if(!((o=n[1])===null||o===void 0)&&o.isLiteral){const s=n[1].asSmallInteger;if(!l.includes("Square")&&s===2)return he(e,"Square",[n[0]],r);if(!e.jsonSerializationOptions.exclude.includes("Divide")){if(s===-1)return he(e,"Divide",[e.ONE,n[0]],r);if(s!==null&&s<0)return he(e,"Divide",[e.ONE,e.power(n[0],-s)],r)}const[u,c]=n[1].rationalValue;if(u===1){if(!l.includes("Sqrt")&&c===2)return he(e,"Sqrt",[n[0]],r);if(!l.includes("Root"))return he(e,"Root",[n[0],e.number(c)],r)}if(u===-1){if(!l.includes("Sqrt")&&c===2)return he(e,"Divide",[e.ONE,e._fn("Sqrt",[n[0]])],r);if(!l.includes("Root"))return he(e,"Divide",[e.ONE,e._fn("Root",[n[0],e.number(c)])],r)}}}return he(e,i,n,r)}(this.engine,this._head,this._ops,{latex:this._latex,wikidata:this._wikidata}):he(this.engine,this._head,this._ops,{latex:this._latex,wikidata:this._wikidata})}has(e){if(typeof this._head=="string"){if(typeof e=="string"){if(this._head===e)return!0}else if(e.includes(this._head))return!0}for(const i of this._ops)if(i.has(e))return!0;return!1}isSame(e){if(this===e)return!0;if(!(e instanceof ti)||this.nops!==e.nops)return!1;if(typeof this.head=="string"){if(this.head!==e.head)return!1}else if(typeof e.head=="string"||!e.head||!this.head.isSame(e.head))return!1;const i=this._ops,n=e._ops;for(let r=0;r<i.length;r++)if(!i[r].isSame(n[r]))return!1;return!0}match(e,i){if(!(e instanceof ti))return null;let n={};if(typeof this.head=="string"){if(this.head!==e.head)return null}else{if(typeof e.head=="string")return null;{if(!e.head)return null;const o=this.head.match(e.head,i);if(o===null)return null;n={...n,...o}}}const r=this._ops,a=e._ops;for(let o=0;o<r.length;o++){const l=r[o].match(a[o],i);if(l===null)return null;n={...n,...l}}return n}isEqual(e){if(!this.isCanonical)return this.canonical.isEqual(e);if((e=e.canonical).isNumber&&this.isNumber){const i=this.engine,n=i.add([this,i.negate(e)]).N();return!!n.isZero||n.asFloat!==null&&i.chop(n.asFloat)===0||this.evaluate().isSame(e.evaluate())}return this.domain.isRelationalOperator&&e.domain.isRelationalOperator?this.evaluate().isSame(e.evaluate()):this.isSame(e)}get sgn(){var e,i,n,r,a,o,l,s;const u=this.head;if(u==="Negate"){const c=(e=this._ops[0])===null||e===void 0?void 0:e.sgn;return c===void 0?void 0:c===null?null:c===0?0:c>0?-1:1}if(u==="Multiply"){const c=this._ops.reduce((d,p)=>{var h;return d*((h=p.sgn)!==null&&h!==void 0?h:NaN)},1);return isNaN(c)?null:c>0?1:c<0?-1:0}if(u==="Add"){let c=0,d=0,p=0;const h=this._ops.length;for(const f of this._ops){const g=f.sgn;if(g==null)break;g===0&&(p+=1),g>0&&(c+=1),g<0&&(d+=1)}return p===h?0:c===h?1:d===h?-1:null}if(u==="Divide"){const c=(i=this._ops[0])===null||i===void 0?void 0:i.sgn,d=(n=this._ops[1])===null||n===void 0?void 0:n.sgn;return c===null||d===null||c===void 0||d===void 0?null:c===0?0:c>0&&d>0||c<0&&d<0?1:-1}return u==="Square"?!((r=this._ops[0])===null||r===void 0)&&r.isImaginary?-1:!((a=this._ops[0])===null||a===void 0)&&a.isZero?0:1:u==="Abs"?!((o=this._ops[0])===null||o===void 0)&&o.isZero?0:1:u==="Sqrt"?!((l=this._ops[0])===null||l===void 0)&&l.isZero?0:!((s=this._ops[0])===null||s===void 0)&&s.isImaginary?null:1:null}*map(e){let i=0;for(;i<this._ops.length;)yield e(this._ops[i++])}get isCanonical(){return this._isCanonical}set isCanonical(e){this._isCanonical=e}get canonical(){var e,i,n,r,a,o,l;if(this.isCanonical)return this;let s=((e=this._def)===null||e===void 0?void 0:e.associative)&&(i=Ge(this._ops,this._def.name))!==null&&i!==void 0?i:this._ops;if(s=Mi(s,(r=(n=this._def)===null||n===void 0?void 0:n.hold)!==null&&r!==void 0?r:"none",u=>u.canonical),!((a=this._def)===null||a===void 0)&&a.associative&&(s=(o=Ge(s,this._def.name))!==null&&o!==void 0?o:s),(l=this._def)===null||l===void 0?void 0:l.canonical)return this._def.canonical(this.engine,s);if(!this._def)return this.engine._fn(this._head,s);if(s.length===1&&s[0].head===this._head){if(this._def.idempotent)s=s[0].ops;else if(this._def.involution)return s[0].op1}return s.length>1&&this._def.commutative===!0&&(s=s.sort(is)),this.engine._fn(this._head,s)}apply(e,i){const n=i!=null?i:this.head;let r=!1;const a=[];for(const o of this._ops){const l=e(o);o!==l&&(r=!0),a.push(this.engine.box(l))}return r||this.head!==n?this.engine.fn(n,a):this}simplify(e){var i,n,r,a;if(!this.isCanonical)return this.canonical.simplify(e);const o=this._def;let l,s=this._ops;if(o?(o.associative&&(s=(i=Ge(s,o.name))!==null&&i!==void 0?i:s),s=Mi(s,o.hold,p=>p.simplify(e)),o.associative&&(s=(n=Ge(s,o.name))!==null&&n!==void 0?n:s)):s=Mi(this._ops,"none",p=>p.simplify(e)),typeof this._head!="string")return kr(this._head,s).simplify(e);o&&(o.simplify?l=o.simplify(this.engine,s):o.inert&&(l=(r=s[0])!==null&&r!==void 0?r:this.engine.symbol("Missing"))),l||(l=this.engine.fn(this._head,s).canonical);const u=(a=e==null?void 0:e.rules)!==null&&a!==void 0?a:this.engine.cache("standard-simplification-rules",()=>ku(this.engine,Uc),p=>{for(const[h,f,g,w]of p)h._purge(),f._purge();return p});let c=0,d=!1;do{const p=l.replace(u);p!==null?(l=Gc(p,l),l===p&&(d=!0)):d=!0,c+=1}while(!d&&c<this.engine.iterationLimit);return l}evaluate(e){var i,n,r,a;if(!this.isCanonical)return this.canonical.evaluate(e);const o=this._def;let l;return o?(l=Mi(o.associative&&(i=Ge(this._ops,o.name))!==null&&i!==void 0?i:this._ops,o.hold,s=>s.evaluate(e)),o.associative&&(l=(n=Ge(l,o.name))!==null&&n!==void 0?n:l)):l=Mi(this._ops,"none",s=>s.evaluate(e)),typeof this._head!="string"?kr(this._head,l).evaluate(e):o?o.evaluate===void 0?o.inert?(r=l[0])!==null&&r!==void 0?r:this.engine.symbol("Missing"):this.engine.fn(this._head,l).canonical:typeof o.evaluate!="function"?kr(o.evaluate,l).canonical:(a=o.evaluate(this.engine,l))!==null&&a!==void 0?a:this.engine.fn(this._head,l).canonical:this.engine.fn(this._head,l).canonical}N(e){var i,n,r,a;if(!this.isCanonical)return this.canonical.N(e);const o=this._def;let l;if(o?(l=Mi(o.associative&&(i=Ge(this._ops,o.name))!==null&&i!==void 0?i:this._ops,o.hold,u=>u.N(e)),o.associative&&(l=(n=Ge(l,o.name))!==null&&n!==void 0?n:l)):l=Mi(this._ops,"none",u=>u.N(e)),typeof this._head!="string")return kr(this._head,l).N(e);if(!o)return this.engine.fn(this._head,l).canonical;const s=(a=(r=o.N)===null||r===void 0?void 0:r.call(o,this.engine,l))!==null&&a!==void 0?a:this.engine.fn(this._head,l).evaluate();if(s.isLiteral){if(!_i(this.engine)&&s.complexValue)return this.engine.NAN;if(!xt(this.engine)&&s.decimalValue)return this.engine.number(s.decimalValue.toNumber())}return s}solve(e){return null}replace(e,i){return _u(this,e,i)}subs(e){return this.engine.fn(this._head,this._ops.map(i=>i.subs(e))).canonical}}function kr(t,e){const i={__:t.engine.tuple(e),"_#":t.engine.number(e.length)};let n=1;for(const r of e)i["_"+n++]=r;return i._=i._1,t.subs(i)}function Mi(t,e,i){if(t.length===0)return[];const n=[];for(let r=0;r<t.length;r++)if(t[r].symbol!=="Nothing")if(t[r].head==="Hold")n.push(t[r].op1);else if(t[r].head==="ReleaseHold"){const a=i(t[r].op1);a!==null&&a.symbol!=="Nothing"&&n.push(a)}else if(Jc(t,e,r)){const a=i(t[r]);a!==null&&a.symbol!=="Nothing"&&n.push(a)}else n.push(t[r]);return n}function Jc(t,e,i){return e!=="all"&&(e==="none"||(e==="first"?i!==0:e==="rest"?i===0:e==="last"?i!==t.length-1:e==="most"&&i===t.length-1))}function Do(t){if(typeof t=="number"&&!isNaN(t))return isFinite(t)?t===0?"NonNegativeInteger":Number.isInteger(t)?t>0?"PositiveInteger":t<0?"NegativeInteger":"Integer":t>0?"PositiveNumber":t<0?"NegativeNumber":"RealNumber":"ExtendedRealNumber";if(t instanceof _e.exports.Decimal)return t.isNaN()?"Number":t.isFinite()?t.isZero()?"NonNegativeInteger":t.isInteger()?t.gt(0)?"PositiveInteger":t.lt(0)?"NegativeInteger":"Integer":t.gt(0)?"PositiveNumber":t.lt(0)?"NegativeNumber":"RealNumber":"ExtendedRealNumber";if(t instanceof ve.exports.Complex){const e=t;return e.im===0?Do(e.re):e.re===0&&e.im!==0?"ImaginaryNumber":"ComplexNumber"}if(Array.isArray(t)){const[e,i]=ki(t);if(!Number.isNaN(e)&&!Number.isNaN(i))return i!==1?"RationalNumber":Do(e)}return"Number"}function To(t){if(!Number.isInteger(t)||!Number.isFinite(t)||Number.isNaN(t)||t<=1)return!1;if(t<=7919)return Us.has(t);for(const e of Us)if(t%e==0)return!1;return t>=0x3ffffffffffe5?!!function(e,i){let n=0,r=e-1;for(;r%2==0;)r/=2,++n;e:do{let a=Math.pow(2+Math.floor(Math.random()*(e-3)),r)%e;if(a!==1&&a!==e-1){for(let o=n-1;o--;){if(a=a*a%e,a===1)return!1;if(a===e-1)continue e}return!1}}while(--i);return!0}(t,30)&&void 0:t===function(e){if(e===1)return 1;if(e%2==0)return 2;if(e%3==0)return 3;if(e%5==0)return 5;const i=Math.floor(Math.sqrt(e));let n=7;for(;n<=i;){if(e%n==0)return n;if(e%(n+4)==0)return n+4;if(e%(n+6)==0)return n+6;if(e%(n+10)==0)return n+10;if(e%(n+12)==0)return n+12;if(e%(n+16)==0)return n+16;if(e%(n+22)==0)return n+22;if(e%(n+24)==0)return n+24;n+=30}return e}(t)}class Ae extends Tt{constructor(e,i,n){if(super(e,n),this._isCanonical=!0,i instanceof ve.exports.Complex)Number.isNaN(i.re)||Number.isNaN(i.im)?this._value=NaN:e.chop(i.im)===0?this._value=i.re:this._value=_i(e)?i:NaN;else if(Array.isArray(i)){let[r,a]=i;a<0&&([r,a]=[-r,-a]),a===1?this._value=r:r===0?this._value=a===0?NaN:r:(this._value=[r,a],this._isCanonical=fu(r,a)===1)}else i instanceof _e.exports.Decimal?this._value=xt(e)?i:i.toNumber():typeof i=="number"?this._value=i:xt(e)?this._value=e.decimal(i):typeof i=="string"&&(this._value=Number.parseFloat(i));typeof this._value=="number"?Number.isInteger(this._value)?this._head="Integer":this._head="Number":this._value instanceof ve.exports.Complex?this._head="ComplexNumber":Array.isArray(this._value)?this._head="RationalNumber":this._value instanceof _e.exports.Decimal?this._value.isInteger()?this._head="Integer":this._head="RealNumber":this._head="Number",e._register(this)}get hash(){if(this._hash!==void 0)return this._hash;let e=0;return e=typeof this._value=="number"?Et(this._value.toString()):this._value instanceof ve.exports.Complex?Et(this._value.re.toString()+" +i "+this._value.im.toString()):this._value instanceof _e.exports.Decimal?Et(this._value.toString()):Et(this._value[0].toString()+" / "+this._value[1].toString()),this._hash=e,e}get head(){return this._head}get isPure(){return!0}get isLiteral(){return!0}get isCanonical(){return this._isCanonical}set isCanonical(e){this._isCanonical=e}get numericValue(){if(!Array.isArray(this._value))return this;const[e,i]=this._value,n=this.engine;return xt(n)?new Ae(n,n.decimal(e).div(i)):new Ae(n,e/i)}get machineValue(){return typeof this._value=="number"?this._value:null}get decimalValue(){return this._value instanceof _e.exports.Decimal?this._value:null}get complexValue(){return this._value instanceof ve.exports.Complex?this._value:null}get rationalValue(){return Array.isArray(this._value)?this._value:[null,null]}get asFloat(){if(typeof this._value=="number")return this._value;if(this._value instanceof _e.exports.Decimal){if(this._value.isNaN())return NaN;if(!this._value.isFinite())return this._value.isPositive()?1/0:-1/0;if(ar(this._value))return this._value.toNumber()}return Array.isArray(this._value)?this._value[0]/this._value[1]:null}get asSmallInteger(){if(typeof this._value=="number")return Number.isInteger(this._value)&&this._value>=-1e6&&this._value<=1e6?this._value:null;if(this._value instanceof _e.exports.Decimal)return this._value.isInteger()&&this._value.gte(-1e6)&&this._value.lte(1e6)?this._value.toNumber():null;if(Array.isArray(this._value)){const e=this._value[0]/this._value[1];return Number.isInteger(e)&&e>=-1e6&&e<=1e6?e:null}return this.engine.chop(this._value.im)===0&&Number.isInteger(this._value.re)&&this._value.re>=-1e6&&this._value.re<=1e6?this._value.re:null}get asRational(){const[e,i]=this.rationalValue;if(e!==null&&i!==null)return[e,i];const n=this.asSmallInteger;return n!==null?[n,1]:[null,null]}get domain(){return this._domain===void 0&&(this._domain=this.engine.domain(Do(this._value))),this._domain}get json(){return ln(this.engine,this._value,{latex:this._latex})}get sgn(){if(this.isZero)return 0;if(this._value instanceof ve.exports.Complex)return null;if(typeof this._value=="number")return this._value<0?-1:this._value>0?1:null;if(this._value instanceof _e.exports.Decimal)return this._value.isNegative()?-1:this._value.isPositive()?1:null;if(Array.isArray(this._value)){const[e,i]=this._value;return e===0&&i!==0?0:e<0?-1:e>0?1:null}return null}isSame(e){if(this===e)return!0;if(!(e instanceof Ae))return!1;if(Array.isArray(this._value)){if(!Array.isArray(e._value))return!1;const[i,n]=e._value;return this._value[0]===i&&this._value[1]===n}return this._value instanceof _e.exports.Decimal?e._value instanceof _e.exports.Decimal&&this._value.eq(e._value):this._value instanceof ve.exports.Complex?e._value instanceof ve.exports.Complex&&this._value.equals(e._value):typeof this._value=="number"&&typeof e._value=="number"&&this._value===e._value}isEqual(e){var i,n;if(this===e)return!0;const r=e.numericValue;if(r===void 0||!(r instanceof Ae))return!1;if(Array.isArray(this._value)){const l=r.asFloat;return l!==null&&this.engine.chop(this._value[0]/this._value[1]-l)===0}if(this._value instanceof _e.exports.Decimal)return this.engine.chop(this._value.sub((n=(i=r.decimalValue)!==null&&i!==void 0?i:r.asFloat)!==null&&n!==void 0?n:NaN))===0;if(this._value instanceof ve.exports.Complex){if(r instanceof ve.exports.Complex)return this.engine.chop(r.re-this._value.re)===0&&this.engine.chop(r.im-this._value.im)===0;if(this._value.im!==0)return!1}const a=this.asFloat,o=r.asFloat;return a!==null&&o!==null&&this.engine.chop(o-a)===0}match(e,i){var n;return this.isEqualWithTolerance(e,(n=i==null?void 0:i.numericTolerance)!==null&&n!==void 0?n:0)?{}:null}isEqualWithTolerance(e,i){var n,r;if(this===e)return!0;if(!(e instanceof Ae))return!1;if(Array.isArray(this._value)){const l=e.asFloat;return l!==null&&Math.abs(this._value[0]/this._value[1]-l)<=i}if(this._value instanceof _e.exports.Decimal)return this._value.sub((r=(n=e.decimalValue)!==null&&n!==void 0?n:e.asFloat)!==null&&r!==void 0?r:NaN).abs().lte(i);if(this._value instanceof ve.exports.Complex){if(e._value instanceof ve.exports.Complex)return Math.abs(e._value.re-this._value.re)<=i&&Math.abs(e._value.im-this._value.im)<=i;if(this._value.im!==0)return!1}const a=this.asFloat,o=e.asFloat;return a!==null&&o!==null&&Math.abs(o-a)<=i}isLess(e){if(e=e.N(),!this.isImaginary&&!e.isImaginary){if(typeof this._value=="number"){const i=e.machineValue;if(i!==null)return this._value<i;const n=e.decimalValue;if(n!==null)return n.greaterThanOrEqualTo(this._value);const[r,a]=e.rationalValue;return r!==null&&a!==null&&this._value*a<r}if(this._value instanceof _e.exports.Decimal){const i=e.machineValue;if(i!==null)return this._value.lt(i);const n=e.decimalValue;if(n!==null)return this._value.lt(n);const[r,a]=e.rationalValue;return r!==null&&a!==null&&this._value.mul(a).lt(r)}if(Array.isArray(this._value)){const[i,n]=this._value;if(typeof e=="number")return i<e*n;const[r,a]=e.rationalValue;if(r!==null&&a!==null)return i*a<r*n;const o=e.decimalValue;return o!==null&&o.mul(i).lt(n)}this._value,ve.exports.Complex}}isLessEqual(e){e=e.N();const i=this.isLess(e);if(i===void 0)return;const n=this.isEqual(e);return n!==void 0?i||n:void 0}isGreater(e){const i=this.isLess(e);if(i!==void 0)return!i}isGreaterEqual(e){e=e.N();const i=this.isLess(e);if(i===void 0)return;const n=this.isEqual(e);return n!==void 0?!i||n:void 0}get isPositive(){const e=this.sgn;if(e!=null)return e>0}get isNonNegative(){const e=this.sgn;if(e!=null)return e>=0}get isNegative(){const e=this.sgn;if(e!=null)return e<0}get isNonPositive(){const e=this.sgn;if(e!=null)return e<=0}get isZero(){return!Array.isArray(this._value)&&this.engine.chop(this._value)===0}get isNotZero(){return!!Array.isArray(this._value)||this.engine.chop(this._value)!==0}get isOne(){if(typeof this._value=="number")return this._value===1;if(this._value instanceof _e.exports.Decimal)return this._value.equals(this.engine.DECIMAL_ONE);if(Array.isArray(this._value)){const[e,i]=this._value;return i!==0&&e===i}return this._value.equals(1)}get isNegativeOne(){if(typeof this._value=="number")return this._value===-1;if(this._value instanceof _e.exports.Decimal)return this._value.equals(this.engine.DECIMAL_NEGATIVE_ONE);if(Array.isArray(this._value)){const[e,i]=this._value;return e<0&&i!==0&&-e===i}return this._value.equals(-1)}get isOdd(){return!(!this.isOne&&!this.isNegativeOne)||!this.isZero&&!!this.isInteger&&(typeof this._value=="number"?this._value%2!=0:this._value instanceof _e.exports.Decimal?!this._value.mod(2).isZero():void 0)}get isEven(){return!this.isOne&&!this.isNegativeOne&&(!!this.isZero||!!this.isInteger&&(typeof this._value=="number"?this._value%2==0:this._value instanceof _e.exports.Decimal?this._value.mod(2).isZero():void 0))}get isPrime(){return!(!this.isInteger||!this.isFinite||this.isNonPositive||this.isOne||this.isZero)&&(typeof this._value=="number"?To(this._value):void 0)}get isComposite(){return!(!this.isInteger||!this.isFinite||this.isNonPositive||this.isOne||this.isZero)&&(typeof this._value=="number"?!To(this._value):void 0)}get isInfinity(){return typeof this._value=="number"?!Number.isFinite(this._value)&&!Number.isNaN(this._value):(this._value instanceof _e.exports.Decimal||this._value instanceof ve.exports.Complex)&&!this._value.isFinite()&&!this._value.isNaN()}get isNaN(){return typeof this._value=="number"?Number.isNaN(this._value):(this._value instanceof _e.exports.Decimal&&this._value.isNaN(),this._value instanceof ve.exports.Complex&&this._value.isNaN(),!1)}get isFinite(){return!this.isInfinity&&!isNaN}get isNumber(){return!0}get isInteger(){return typeof this._value=="number"?Number.isInteger(this._value):this._value instanceof _e.exports.Decimal&&this._value.isInteger()}get isRational(){return!!Array.isArray(this._value)||this.isInteger}get isAlgebraic(){if(this.isRational)return!0}get isReal(){return!(!this.isFinite||this._value instanceof ve.exports.Complex&&this.engine.chop(this._value.im)!==0)}get isExtendedReal(){return this.isInfinity||this.isReal}get isComplex(){return!this.isNaN}get isImaginary(){return this._value instanceof ve.exports.Complex&&this._value.im!==0}get isExtendedComplex(){return this.isInfinity||!this.isNaN}get canonical(){if(this._isCanonical)return this;if(Array.isArray(this._value)){const[e,i]=ki(this._value);return Number.isNaN(e)||Number.isNaN(i)?this.engine.NAN:i===1?this.engine.number(e):i===0?e!==0&&Number.isFinite(e)?e<0?this.engine.NEGATIVE_INFINITY:this.engine.POSITIVE_INFINITY:this.engine.NAN:e===0?this.engine.ZERO:this.engine.number([e,i])}return this}simplify(e){return this.canonical}N(e){if(Array.isArray(this._value)){const i=this.engine,[n,r]=this._value;return xt(i)?i.number(i.decimal(n).div(r)):i.number(n/r)}return this}}class vi extends Tt{constructor(e,i,n){super(e,n),this._string=i.normalize(),e._register(this)}get hash(){return Et("String"+this._string)}get json(){return e=this.engine,i=i=this._string,e.jsonSerializationOptions.shorthands.includes("string")?`'${i}'`:{str:i};var e,i}get head(){return"String"}get isPure(){return!0}get isLiteral(){return!0}get isCanonical(){return!0}set isCanonical(e){}get domain(){return this.engine.domain("String")}get complexity(){return 19}get string(){return this._string}isEqual(e){return e.string===this._string}isSame(e){return e.string===this._string}match(e,i){return e instanceof vi&&this._string===e._string?{}:null}}function yt(t,e){if(e==null)return t.symbol("Nothing");if(e instanceof Tt)return e;if(Array.isArray(e)){if(typeof e[0]!="number")return new ti(t,typeof e[0]=="string"?e[0]:yt(t,e[0]),e.slice(1).map(r=>yt(t,r)));const[i,n]=e;return typeof n=="number"&&Number.isInteger(i)&&Number.isInteger(n)?t.number(e):t.fn("Divide",e)}if(typeof e=="number"||e instanceof ve.exports.Complex||e instanceof _e.exports.Decimal)return t.number(e);if(typeof e=="string")return e.startsWith("'")&&e.endsWith("'")?new vi(t,e.slice(1,-1)):t.symbol(e);if(typeof e=="object"){const i={latex:e.latex,wikidata:e.wikidata};if("dict"in e)return new Ft(t,e.dict,i);if("fn"in e)return typeof e.fn[0]=="string"?function(n,r,a,o){var l,s,u;if(r==="Hold")return new ti(n,"Hold",[zo(n,(l=a[0])!==null&&l!==void 0?l:"Missing")],o);if(r==="String")return a.length===0?new vi(n,"",o):new vi(n,a.map(c=>{var d;return(d=il(c))!==null&&d!==void 0?d:""}).join(""),o);if(r==="Symbol"&&a.length>0)return n.symbol(a.map(c=>{var d;return(d=il(c))!==null&&d!==void 0?d:""}).join(""),o);if((r==="Divide"||r==="Rational")&&a.length===2){const c=xe(a[0]),d=xe(a[1]);if(c!==null&&d!==null&&Number.isInteger(c)&&Number.isInteger(d))return n.number([c,d])}if(r==="Number"&&a.length===1)return yt(n,a[0]);if(r==="Complex"){if(a.length===1){const c=yt(n,a[0]),d=c.asFloat;return d!==null&&d!==0?new Ae(n,n.complex(0,d),o):n.mul([c,n.I])}if(a.length===2){const c=yt(n,a[0]),d=yt(n,a[1]),p=c.asFloat,h=d.asFloat;return h!==null&&p!==null?h===0&&p===0?n.ZERO:h!==null&&h!==0?new Ae(n,n.complex(p,h),o):c:n.add([c,n.mul([d,n.I])],o)}}if(r==="Negate"&&a.length>0&&typeof a[0]=="number")return n.number(-a[0],o);if(r==="Single"||r==="Pair"||r==="Triple")return n.fn("Tuple",a,o);if(r==="Dictionary"){const c={};for(const d of a){const p=n.box(d),h=p.head;if(h==="KeyValuePair"||h==="Pair"||h==="Tuple"){const f=p.op1;if(!f.isMissing){const g=p.op2;let w=(s=f.symbol)!==null&&s!==void 0?s:f.string;if(!w&&f.isLiteral){const k=(u=f.machineValue)!==null&&u!==void 0?u:f.asSmallInteger;k&&Number.isFinite(k)&&Number.isInteger(k)&&(w=k.toString())}w&&(c[w]=g)}}}return new Ft(n,c,o)}return new ti(n,r,a.map(c=>yt(n,c)),o)}(t,e.fn[0],e.fn.slice(1),i):t.fn(yt(t,e.fn[0]),e.fn.slice(1).map(n=>yt(t,n)),i);if("str"in e)return new vi(t,e.str,i);if("sym"in e)return t.symbol(e.sym,i);if("num"in e)return t.number(e,i)}return t.symbol("Undefined")}function tl(t,e,i){var n;if(e instanceof Ae)return e;if(Array.isArray(e)){if(e.length!==2)throw Error("Array argument to boxNumber() should be two integers");const[r,a]=e;if(typeof r!="number"||typeof a!="number"||!Number.isInteger(r)||!Number.isInteger(a))throw Error("Array argument to boxNumber() should be two integers");if(a===r)return a===0?t.NAN:t.ONE;if(a===1)e=r;else{if(a!==-1)return r===1&&a===2?t.HALF:new Ae(t,[r,a],i);e=-r}}if(e instanceof ve.exports.Complex){if(e.isNaN())return t.NAN;if(e.isZero())return t.ZERO;if(e.isInfinite())return t.COMPLEX_INFINITY;if(e.im!==0)return _i(t)?new Ae(t,e,i):t.NAN;e=e.re}if(e instanceof _e.exports.Decimal)return e.isNaN()?t.NAN:e.equals(t.DECIMAL_NEGATIVE_ONE)?t.NEGATIVE_ONE:e.isZero()?t.ZERO:e.equals(t.DECIMAL_ONE)?t.ONE:e.equals(t.DECIMAL_TWO)?t.TWO:!e.isFinite()&&e.isPositive()?t.POSITIVE_INFINITY:!e.isFinite()&&e.isNegative()?t.NEGATIVE_INFINITY:new Ae(t,xt(t)?e:e.toNumber(),i);if(typeof e=="object"&&"num"in e){if(typeof e.num=="number")e=e.num;else if(typeof e.num=="string"){let r=e.num.toLowerCase();if(/[0-9][nd]$/.test(r)&&(r=r.slice(0,-1)),r=r.replace(/[\u0009-\u000d\u0020\u00a0]/g,""),/\([0-9]+\)$/.test(r)){const[a,o,l]=(n=r.match(/(.+)\(([0-9]+)\)$/))!==null&&n!==void 0?n:[];r=o+l.repeat(Math.ceil(t.precision/l.length))}return r==="nan"?t.NAN:r==="infinity"||r==="+infinity"?t.POSITIVE_INFINITY:r==="-infinity"?t.NEGATIVE_INFINITY:r==="0"?t.ZERO:r==="1"?t.ONE:r==="-1"?t.NEGATIVE_ONE:r==="2"?t.TWO:new Ae(t,r,i)}}if(typeof e=="number"){if(Number.isNaN(e))return t.NAN;if(!Number.isFinite(e)&&e>0&&t.POSITIVE_INFINITY,!Number.isFinite(e)&&e<0&&t.NEGATIVE_INFINITY,e===-1)return t.NEGATIVE_ONE;if(e===0)return t.ZERO;if(e===1)return t.ONE;if(e===2)return t.TWO}return typeof e=="number"?new Ae(t,e,i):null}function zo(t,e){if(typeof e=="object"&&e instanceof Tt)return e;if(typeof e=="string")return yt(t,e);if(Array.isArray(e)){const i=e.map(n=>zo(t,n));return new ti(t,i[0],i.slice(1))}if(typeof e=="object"){if("dict"in e)return new Ft(t,e.dict);if("fn"in e)return zo(t,e.fn);if("str"in e)return new vi(t,e.str);if("sym"in e)return yt(t,e.sym);if("num"in e)return yt(t,e.num)}return yt(t,e)}function il(t){var e,i;if(typeof t=="string")return t;if(t instanceof Tt)return(i=(e=t.string)!==null&&e!==void 0?e:t.symbol)!==null&&i!==void 0?i:t.toString();if(typeof t=="object"){if("str"in t)return t.str;if("fn"in t&&t.fn[0]==="String"&&typeof t.fn[1]=="string")return t.fn[1]}return Array.isArray(t)&&t[0]==="String"&&typeof t[1]=="string"?t[1]:null}function wu(t,e){if(!t.isLiteral)return null;let i;t.machineValue!==null&&(i=-t.machineValue),t.decimalValue&&(i=t.decimalValue.neg()),t.complexValue&&(i=t.complexValue.neg());const[n,r]=t.rationalValue;return n!==null&&r!==null&&(i=[-n,r]),i!==void 0?t.engine.number(i,e):null}function Je(t,e){var i;if(t.head==="Negate")return t.op1;if(t.isLiteral)return wu(t,e);if(t.head==="Add"){let n=t.ops.map(r=>Je(r));return n=(i=Ge(n,"Add"))!==null&&i!==void 0?i:n,t.engine.add(n,e)}return t.engine._fn("Negate",[t],e)}function jn(t){var e;if(t.head==="Negate")return t.op1;if(t.isLiteral)return wu(t);const i=t.engine;if(t.head==="Add"){let n=t.ops.map(r=>jn(r));return n=(e=Ge(n,"Add"))!==null&&e!==void 0?e:n,i.add(n)}return t.head==="Multiply"?function(n,r){let a=[],o=!1;for(const l of r)o||l.head!=="Negate"?a.push(l):(o=!0,a.push(l.op1));if(o)return n.mul(a);a=[];for(const l of r)!o&&l.isLiteral&&l.isInteger?(o=!0,a.push(jn(l))):a.push(l);if(o)return n.mul(a);a=[];for(const l of r)!o&&l.isLiteral&&l.isNumber?(o=!0,a.push(jn(l))):a.push(l);return o?n.mul(a):n._fn("Negate",[n._fn("Multiply",r)])}(i,t.ops):t.head==="Divide"?i.divide(jn(t.op1),t.op2):i._fn("Negate",[t])}function Wa(t,e,i="simplify"){return jn(e)}class ns{constructor(e,i){if(this._literal=[0,1],this._imaginary=0,this._posInfinityCount=0,this._negInfinityCount=0,this._terms=[],this.engine=e,i)for(const n of i)this.addTerm(n)}get isEmpty(){return this._terms.length===0&&this._literal[0]===0&&this._imaginary===0&&this._negInfinityCount===0&&this._posInfinityCount===0}addTerm(e,i){if(e.symbol==="Nothing")return;if(i===void 0&&(i=[1,1]),e.isLiteral){if(e.isInfinity)return void(e.isPositive?this._posInfinityCount+=1:this._negInfinityCount+=1);const[a,o]=e.asRational;if(a!==null&&o!==null)return void(this._literal=[i[0]*(this._literal[0]*o+a*this._literal[1]),i[1]*o*this._literal[1]]);if(e.complexValue){let l=e.complexValue.re,s=e.complexValue.im;if(Number.isInteger(l)&&Math.abs(l)<=1e6&&(this._literal[0]+=this._literal[1]*l*i[0]/i[1],l=0),Number.isInteger(s)&&Math.abs(s)<=1e6&&(this._imaginary+=s*i[0]/i[1],s=0),l===0&&s===0)return;e=this.engine.number(this.engine.complex(l,s)).canonical}}let n;if([n,e]=sn(e),n[0]===0)return;if(n=[n[0]*i[0],n[1]*i[1]],e.head==="Add"){for(const a of e.ops)this.addTerm(a,n);return}let r=!1;if(!e.isLiteral){if(this._terms.length>500){const a=e.hash;for(let o=0;o<this._terms.length;o++)if(!this._terms[o].term.isLiteral&&a===this._terms[o].term.hash&&e.isSame(this._terms[o].term)){const[l,s]=this._terms[o].coef,[u,c]=n;this._terms[o].coef=[l*c+s*u,s*c],r=!0;break}}else for(let a=0;a<this._terms.length;a++)if(!this._terms[a].term.isLiteral&&e.isSame(this._terms[a].term)){const[o,l]=this._terms[a].coef,[s,u]=n;this._terms[a].coef=[o*u+l*s,l*u],r=!0;break}}r||this._terms.push({term:e,coef:n})}terms(){var e;const i=this.engine;if(this._posInfinityCount>0&&this._negInfinityCount>0)return[i.NAN];if(this._posInfinityCount>0)return[i.POSITIVE_INFINITY];if(this._negInfinityCount>0)return[i.NEGATIVE_INFINITY];if(this._terms.length===0)return this._literal[0]===0&&this._imaginary===0?[]:this._imaginary===0?[i.number(this._literal).canonical]:this._literal[0]===0?[i.number(i.complex(0,this._imaginary)).canonical]:[i.number(this._literal).canonical,i.number(i.complex(0,this._imaginary)).canonical];const n=[];for(const{coef:[r,a],term:o}of this._terms)r!==0&&(r===a?n.push(o):r===-a?n.push(i.negate(o)):a===1?n.push(i.mul([i.number(r).canonical,o])):r===1?n.push(i.divide(o,i.number(a).canonical)):r!==0&&n.push(i.mul([i.number([r,a]).canonical,o])));return this._literal[0]!==0&&n.push(i.number(this._literal).canonical),this._imaginary!==0&&n.push(i.number(i.complex(0,this._imaginary)).canonical),(e=Ge(n,"Add"))!==null&&e!==void 0?e:n}asExpression(){const e=this.engine,i=this.terms();return i.length===0?e.ZERO:i.length===1?i[0]:e._fn("Add",i.sort((n,r)=>{const a=Co(n),o=Co(r);if(a<o)return-1;if(a>o)return 1;const l=Qr(n),s=Qr(r);if(l!==s)return s-l;const u=Xs(n),c=Xs(r);return u!==c?u-c:is(n,r)}))}}function qo(t,e){var i,n,r,a;if((e=(i=Ge(e,"Add"))!==null&&i!==void 0?i:e).length<=1)return(n=e[0])!==null&&n!==void 0?n:t.symbol("Nothing");if(e.length===2){let o=0,l=0;if(e[0].isLiteral&&(l=e[0].machineValue,l=l===null&&e[0].decimalValue&&(r=e[0].asFloat)!==null&&r!==void 0?r:0),l!==0?o=Eo(e[1]):(o=Eo(e[0]),o!==0&&(l=e[1].machineValue,l=l===null&&e[1].decimalValue&&(a=e[1].asFloat)!==null&&a!==void 0?a:0)),o!==0)return t.number(t.complex(l,o));if(e[0].isLiteral&&e[1].isLiteral){if(e[0].isZero)return e[1];if(e[1].isZero)return e[0];const[s,u]=e[0].asRational,[c,d]=e[1].asRational;if(s!==null&&u!==null&&c!==null&&d!==null)return t.number([s*d+c*u,u*d])}}return new ns(t,e).asExpression()}function nl(t,e,i){const n=new ns(t);for(const r of e){if(r.isImaginary&&r.isInfinity)return t.symbol("ComplexInfinity");if(r.isNaN||r.isMissing||r.symbol==="Undefined")return t.NAN;n.addTerm(r)}return n.asExpression()}function un(t,e,i,n){if(i.symbol==="ComplexInfinity")return t.NAN;if(i.isLiteral){if(i.isZero)return t.ONE;if(e.isLiteral){if(e.isOne)return t.ONE;if(e.isZero){if(i.isPositive)return t.ZERO;if(i.isNegative)return t.COMPLEX_INFINITY}if(i.isOne)return e;if(i.isNegativeOne){if(e.isOne)return t.ONE;if(e.isNegativeOne)return t.NEGATIVE_ONE;if(e.isInfinity)return t.ZERO;const[l,s]=e.rationalValue;if(l!==null&&s!==null)return t.number([s,l],n);const u=e.asFloat;return u!==null&&Number.isInteger(u)?t.number([1,u],n):t._fn("Power",[e,t.NEGATIVE_ONE],n)}const r=i.asFloat;if(r===.5||r===-.5){const l=e.asSmallInteger;if(l!==null&&l>0){const[s,u]=rr(l,2);if(u===1&&s===1)return t.ONE;if(s!==1)return u===1?t.number(r>=0?s:[1,s]):t.mul([t.number(s),t.power(t.number(u),t.HALF)])}return r>0?t._fn("Power",[e,t.HALF],n):t._fn("Power",[e,t.number([-1,2])],n)}if(e.isInfinity){if(i.complexValue){const l=i.complexValue.re;if(l===0)return t.NAN;if(l<0)return t.ZERO;if(l>0)return t.COMPLEX_INFINITY}if(e.isNegative){if(i.isInfinity)return t.NAN}else if(e.isPositive){if(i.isNegativeOne)return t.ZERO;if(i.isInfinity)return i.isNegative?t.ZERO:t.POSITIVE_INFINITY}}if(i.isInfinity&&(e.isOne||e.isNegativeOne))return t.NAN;const[a,o]=e.asRational;if(a!==null&&o!==null){const l=i.asSmallInteger;if(l!==null)return l===-1?t.number([o,a]):l>0?t.number([Math.pow(a,l),Math.pow(o,l)]):t.number([Math.pow(o,-l),Math.pow(a,-l)])}}}if(e.head==="Power"&&e.op1.isReal){const r=i.asSmallInteger;if(r!==null){const a=e.op2.asSmallInteger;if(a!==null)return t._fn("Power",[e.op1,t.number(r*a)])}if(e.op1.isNonNegative){const[a,o]=i.asRational;if(a!==null&&o!==null){const[l,s]=e.op2.asRational;if(l!==null&&s!==null)return t._fn("Power",[e.op1,t.number([a*l,o*s])])}}}return e.head==="Multiply"&&i.asSmallInteger!==null?t._fn("Multiply",e.ops.map(r=>t.power(r,i))):null}function Su(t,e){if(e.machineValue)return t.number(Math.pow(e.machineValue,2));if(e.decimalValue)return t.number(e.decimalValue.pow(2));if(e.complexValue)return t.number(e.complexValue.pow(2));const[i,n]=e.rationalValue;if(i!==null&&n!==null)return t.number([Math.pow(n,2),Math.pow(i,2)]);if(e.head==="Multiply")return t._fn("Multiply",e.ops.map(r=>Su(t,r)));if(e.head==="Power"){const r=e.op2.asSmallInteger;return r!==null?t._fn("Power",[e.op1,t.number(2*r)]):t._fn("Power",[e.op1,t.mul([t.TWO,e.op2])])}return t._fn("Power",[e,t.TWO])}function Za(t,e,i,n){var r,a,o,l,s,u;if(n==="N"&&e.isLiteral&&i.isLiteral)return e.complexValue?t.number(e.complexValue.pow((a=(r=i.complexValue)!==null&&r!==void 0?r:i.asFloat)!==null&&a!==void 0?a:NaN)):i.complexValue&&e.asFloat?t.number(t.complex(e.asFloat).pow(i.complexValue)):e.decimalValue?t.number(e.decimalValue.pow((o=i.decimalValue)!==null&&o!==void 0?o:i.asFloat)):e.asFloat&&(i.decimalValue||xt(t))?t.number(t.decimal(e.asFloat).pow((l=i.decimalValue)!==null&&l!==void 0?l:i.asFloat)):t.number(Math.pow((s=e.asFloat)!==null&&s!==void 0?s:NaN,(u=i.asFloat)!==null&&u!==void 0?u:NaN));if(e.asSmallInteger!==null){const[c,d]=i.rationalValue;if(!(c!==1&&c!==-1||d!==2&&d!==3)){const[p,h]=rr(e.asSmallInteger,d);return h===1&&p===1?t.ONE:p===1?void 0:h===1?t.number(c>=0?p:[1,p]):t.mul([t.number(p),t.power(t.number(h),i)])}}}function Mu(t,e){var i;return(e=(i=Ge(e,"Multiply"))!==null&&i!==void 0?i:e).length===0?t.symbol("Nothing"):e.length===1?e[0]:e.length===2?Nu(e[0],e[1]):new sr(t,e).asExpression()}function rl(t,e,i){const n=new sr(t);for(const r of e){if(r.isNaN||r.isMissing||r.symbol==="Undefined")return t.NAN;n.addTerm(r)}return n.asExpression()}function Nu(t,e,i){const n=t.engine;if(t.isLiteral&&e.isLiteral&&t.isInteger&&e.isInteger){if(t.decimalValue&&e.decimalValue)return n.number(t.decimalValue.mul(e.decimalValue));if(t.machineValue&&e.machineValue)return n.number(t.machineValue*e.machineValue)}if(t.symbol==="Nothing")return e;if(e.symbol==="Nothing")return t;if(t.isLiteral&&t.isOne)return e;if(e.isLiteral&&e.isOne)return t;if(t.isLiteral&&t.isNegativeOne)return Je(e);if(e.isLiteral&&e.isNegativeOne)return Je(t);if(t.isMissing||e.isMissing)return n._fn("Multiply",[t,e]);let r=1,a=t,o=e;a.isLiteral&&a.asRational!==null||(o=e,a=t),o.head==="Negate"&&(o=o.op1,r=-r);const[l,s]=a.asRational;if(a.isLiteral&&l!==null&&s!==null){if(l===s)return o;if(l===0)return n.ZERO;if(o.head==="Add")return r<0&&(a=Je(a)),n.add(o.ops.map(c=>Nu(a,c)),i);if(o.isLiteral){const[c,d]=o.asRational;if(c!==null&&d!==null)return n.number(ki([r*l*c,d*s]),i)}return r<0?n._fn("Multiply",[Je(a),o],i):n._fn("Multiply",[a,o],i)}if(a.hash===o.hash&&a.isSame(o))return Su(n,a);const u=new sr(n,[a,o]);return r>0?u.asExpression():Je(u.asExpression(),i)}function Io(t,e,i){if(e.isLiteral&&i.isLiteral){if(e.isOne)return t.inverse(i);if(e.isNegativeOne)return Je(t.inverse(i));if(i.isOne)return e;if(i.isNegativeOne)return Je(e);const[l,s]=[e.asSmallInteger,i.asSmallInteger];if(l!==null&&s!==null&&s!==0)return t.number(ki([l,s]))}if(e.head==="Divide"&&i.head==="Divide")return t.divide(t.mul([e.op1,i.op2]),t.mul([e.op2,i.op1]));if(e.head==="Divide")return t.divide(t.mul([e.op1,i]),e.op2);if(i.head==="Divide")return t.divide(t.mul([e,i.op2]),i.op1);let[n,r]=Ys(e),[a,o]=Ys(i);return r=r.canonical,o=o.canonical,o.isLiteral&&o.isOne?n*a<0?Je(r):r:(o=t.inverse(o),r.isOne?o:r.isNegativeOne?Je(o):n*a>0?t.mul([r,o]):t.negate(t.mul([r,o])))}const Xc=[{functions:[{name:"Abs",domain:["Function","ExtendedRealNumber","ExtendedRealNumber"],range:[0,1/0],wikidata:"Q3317982",threadable:!0,idempotent:!0,complexity:1200,simplify:(t,e)=>Ua(t,e[0],"simplify"),evaluate:(t,e)=>Ua(t,e[0],"evaluate"),N:(t,e)=>Ua(t,e[0],"N")},{name:"Add",wikidata:"Q32043",associative:!0,commutative:!0,threadable:!0,idempotent:!0,domain:"NumericFunction",complexity:1300,canonical:(t,e)=>qo(t,e),simplify:(t,e)=>nl(t,e),evaluate:(t,e)=>nl(t,e),N:(t,e)=>function(i,n){for(const c of n){if(c.isImaginary&&c.isInfinity)return i.symbol("ComplexInfinity");if(c.isNaN||c.isMissing||c.symbol==="Undefined")return i.NAN}let[r,a]=[0,1],o=0,l=i.DECIMAL_ZERO,s=ve.exports.Complex.ZERO;const u=new ns(i);for(const c of n)if(c.symbol!=="Nothing"&&!c.isZero){const[d,p]=c.rationalValue;d!==null&&p!==null?[r,a]=[r*p+a*d,a*p]:c.decimalValue!==null?l=l.add(c.decimalValue):c.machineValue!==null?xt(i)?l=l.add(c.machineValue):o+=c.machineValue:c.complexValue!==null?s=s.add(c.complexValue):u.addTerm(c)}if(!_i(i)&&s.im!==0)return i.NAN;if(xt(i)||i.chop(l)!==0){let c=l;if(r!==0&&(c=c.mul(a).add(r).div(a)),o!==0&&(c=c.add(o)),s.re!==0&&(c=c.add(s.re)),s.im!==0)if(ar(c)){const d=i.number(i.complex(c.toNumber(),s.im));if(u.isEmpty)return d;u.addTerm(d)}else u.addTerm(i.number(i.complex(0,s.im))),u.addTerm(i.number(c));else{if(u.isEmpty)return i.number(c);u.addTerm(i.number(c))}}else{const c=o+s.re+r/a,d=i.number(s.im===0?c:i.complex(c,s.im));if(u.isEmpty)return d;u.addTerm(d)}return u.asExpression()}(t,e)},{name:"Ceil",description:"Rounds a number up to the next largest integer",complexity:1250,domain:"NumericFunction",evaluate:(t,e)=>{const i=e[0];return i.decimalValue?t.number(i.decimalValue.ceil()):i.complexValue?t.number(i.complexValue.ceil(0)):i.asFloat!==null?t.number(Math.ceil(i.asFloat)):void 0}},{name:"Chop",associative:!0,threadable:!0,idempotent:!0,complexity:1200,domain:"NumericFunction",N:(t,e)=>{const i=e[0];return i.decimalValue?t.number(t.chop(i.decimalValue)):i.complexValue?t.number(t.chop(i.complexValue)):i.asFloat!==null?t.number(t.chop(i.asFloat)):void 0}},{name:"Complex",wikidata:"Q11567",domain:"NumericFunction",complexity:500},{name:"Divide",wikidata:"Q1226939",domain:"NumericFunction",complexity:2500,canonical:(t,e)=>e[0]&&e[1]?Io(t,e[0],e[1]):t.symbol("Missing")},{name:"Exp",domain:"NumericFunction",wikidata:"Q168698",threadable:!0,complexity:3500,canonical:(t,e)=>e[0]?t.power(t.symbol("ExponentialE"),e[0]):t.symbol("Missing")},{name:"Erf",description:"Complementary Error Function",domain:"NumericFunction",complexity:7500},{name:"Erfc",description:"Complementary Error Function",domain:"NumericFunction",complexity:7500},{name:"Factorial",description:"The factorial function",wikidata:"Q120976",complexity:9e3,domain:"NumericFunction",evaluate:(t,e)=>{const i=e[0].asSmallInteger;return i!==null&&i>=0?xt(t)?t.number(yu(t,t.decimal(i))):t.number(function(n){if(!Number.isInteger(n)||n<0)return NaN;let r=1;for(let a=2;a<=n;a++)r*=a;return r}(i)):e[0].complexValue?t.number(e[0].complexValue.add(1)):e[0].asFloat!==null?t.number(Ao(1+e[0].asFloat)):void 0}},{name:"Floor",wikidata:"Q56860783",domain:["Function","ExtendedRealNumber","ExtendedRealNumber"],complexity:1250,evaluate:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.floor()):e[0].complexValue?t.number(e[0].complexValue.floor(0)):e[0].asFloat!==null?t.number(Math.floor(e[0].asFloat)):void 0},{name:"Gamma",wikidata:"Q190573",domain:["Function","Number","Number"],complexity:8e3,N:(t,e)=>e[0].decimalValue?t.number(xu(t,e[0].decimalValue)):e[0].complexValue?t.number(e[0].complexValue):e[0].asFloat!==null?t.number(Ao(e[0].asFloat)):void 0},{name:"LogGamma",domain:["Function","Number","Number"],complexity:8e3,N:(t,e)=>e[0].decimalValue?t.number(vu(t,e[0].decimalValue)):e[0].complexValue?t.number(e[0].complexValue):e[0].asFloat!==null?t.number(gu(e[0].asFloat)):void 0},{name:"Ln",description:"Natural Logarithm",domain:["Function","Number","Number"],wikidata:"Q204037",complexity:4e3,N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.log()):e[0].complexValue?t.number(e[0].complexValue.log()):e[0].asFloat!==null?t.number(Math.log(e[0].asFloat)):void 0},{name:"Log",description:"Log(b, z) = Logarithm of base b",wikidata:"Q11197",domain:["Function","Number","Number","Number"],complexity:4100,N:(t,e)=>{var i,n,r,a,o;const l=e[0],s=e[1];return l.decimalValue?t.number(l.decimalValue.log().div((n=(i=s.decimalValue)!==null&&i!==void 0?i:s.asFloat)!==null&&n!==void 0?n:NaN)):l.complexValue?t.number(l.complexValue.log().div((a=(r=s.complexValue)!==null&&r!==void 0?r:s.asFloat)!==null&&a!==void 0?a:NaN)):l.asFloat!==null?t.number(Math.log(l.asFloat)/Math.log((o=s.asFloat)!==null&&o!==void 0?o:NaN)):void 0}},{name:"Lb",description:"Base-2 Logarithm",domain:["Function","Number","Number"],wikidata:"Q581168",complexity:4100,N:(t,e)=>{const i=e[0];return i.decimalValue?t.number(i.decimalValue.log().div(t.DECIMAL_TWO)):i.complexValue?t.number(i.complexValue.log().div(t.complex(2))):i.asFloat!==null?t.number(Math.log2(i.asFloat)):void 0}},{name:"Lg",description:"Base-10 Logarithm",domain:["Function","Number","Number"],wikidata:"Q966582",complexity:4100,N:(t,e)=>{const i=e[0];return i.decimalValue?t.number(i.decimalValue.log().div(t.decimal(10))):i.complexValue?t.number(i.complexValue.log().div(t.complex(10))):i.asFloat!==null?t.number(Math.log10(i.asFloat)):void 0}},{name:"Multiply",domain:"NumericFunction",wikidata:"Q40276",associative:!0,commutative:!0,idempotent:!0,complexity:2100,canonical:(t,e)=>Mu(t,e),simplify:(t,e)=>rl(t,e),evaluate:(t,e)=>rl(t,e),N:(t,e)=>function(i,n){for(const c of n)if(c.isNaN||c.isMissing||c.symbol==="Undefined")return i.NAN;let[r,a]=[1,1],o=1,l=i.DECIMAL_ONE,s=ve.exports.Complex.ONE;const u=new sr(i);for(const c of n)if(c.symbol!=="Nothing"&&!c.isOne){const[d,p]=c.rationalValue;d!==null&&p!==null?[r,a]=[r*d,a*p]:c.decimalValue!==null?l=l.mul(c.decimalValue):c.machineValue!==null?xt(i)?l=l.mul(c.machineValue):o*=c.machineValue:c.complexValue!==null?s=s.mul(c.complexValue):u.addTerm(c)}if(!_i(i)&&s.im!==0)return i.NAN;if(xt(i)||!l.eq(i.DECIMAL_ONE)){const c=l.mul(r).div(a).mul(o);if(s.re!==1||s.im!==0)if(ar(c)){const d=i.number(i.complex(s.mul(c.toNumber())));if(u.isEmpty)return d;u.addTerm(d)}else{if(u.isEmpty)return i._fn("Multiply",[i.number(s),i.number(c)]);u.addTerm(i.number(s)),u.addTerm(i.number(c))}else{if(u.isEmpty)return i.number(c);u.addTerm(i.number(c))}}else{const c=o*r/a;let d;if(d=s.re!==1||s.im!==0?i.number(s.mul(c)):i.number(c),u.isEmpty)return d;u.addTerm(d)}return u.asExpression()}(t,e)},{name:"Negate",description:"Additive Inverse",wikidata:"Q715358",domain:["Function","Number","Number"],complexity:2e3,canonical:(t,e)=>e[0]?Je(e[0]):t.box("Missing"),simplify:(t,e)=>Wa(0,e[0],"simplify"),evaluate:(t,e)=>Wa(0,e[0],"evaluate"),N:(t,e)=>Wa(0,e[0],"N"),sgn:(t,e)=>{var i;const n=(i=e[0])!==null&&i!==void 0?i:t.symbol("Missing");return n.isZero?0:n.isPositive?-1:n.isNegative?1:void 0}},{name:"Power",domain:["Function","Number","Number","Number"],wikidata:"Q33456",commutative:!1,complexity:3500,canonical:(t,e)=>{var i,n,r;const a=(i=e[0])!==null&&i!==void 0?i:t.symbol("Missing"),o=(n=e[1])!==null&&n!==void 0?n:t.symbol("Missing");return(r=un(t,a,o))!==null&&r!==void 0?r:t._fn("Power",e)},simplify:(t,e)=>Za(t,e[0],e[1],"simplify"),evaluate:(t,e)=>Za(t,e[0],e[1],"evaluate"),N:(t,e)=>Za(t,e[0],e[1],"N")},{name:"Rational",domain:["Function","Number",["Optional","Number"],"RationalNumber"],complexity:2400,canonical:(t,e)=>e.length===2?Io(t,e[0],e[1]):t._fn("Rational",e),simplify:(t,e)=>{if(e.length===2)return e[0].asSmallInteger!==null&&e[1].asSmallInteger!==null?t.number([e[0].asSmallInteger,e[1].asSmallInteger]):void 0},evaluate:(t,e)=>{if(e.length===2)return e[0].asSmallInteger!==null&&e[1].asSmallInteger!==null?t.number([e[0].asSmallInteger,e[1].asSmallInteger]):void 0;const i=e[0].asFloat;if(i===null)return e[0];const n=function(r){if(!Number.isFinite(r)||r%1==0)return r;let a=Math.floor(r),o=1,l=0,s=a,u=1;for(;r-a>1e-15*u*u;){a=Math.floor(r=1/(r-a));const c=o;o=s;const d=l;l=u,s=c+a*o,u=d+a*l}return[s,u]}(i);return typeof n=="number"?t.number(n):t.number([n[0],n[1]])},N:(t,e)=>{if(e.length===2)return e[0].asSmallInteger===null||e[1].asSmallInteger===null?void 0:t.number(e[0].asSmallInteger/e[1].asSmallInteger)}},{name:"Root",domain:["Function","Number","RationalNumber","Number"],complexity:3200,canonical:(t,e)=>{var i,n,r;const a=(i=e[0])!==null&&i!==void 0?i:t.symbol("Missing"),o=(n=e[1])!==null&&n!==void 0?n:t.symbol("Missing"),l=t.inverse(o);return(r=un(t,a,l))!==null&&r!==void 0?r:t._fn("Power",[a,l])},N:(t,e)=>{var i,n,r;const a=e[0],o=e[1];if(a.decimalValue)return t.number(a.decimalValue.pow(t.DECIMAL_ONE.div((i=o.asFloat)!==null&&i!==void 0?i:NaN)));if(a.complexValue){const l=o.complexValue?ve.exports.Complex.ONE.div(o.complexValue):t.complex(1/((n=o.asFloat)!==null&&n!==void 0?n:NaN));return t.number(a.complexValue.pow(l))}return a.asFloat!==null?t.number(Math.pow(a.asFloat,(r=o.asFloat)!==null&&r!==void 0?r:NaN)):void 0}},{name:"Round",domain:["Function","Number","Number"],complexity:1250,N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.round()):e[0].complexValue?t.number(e[0].complexValue.round(0)):e[0].asFloat!==null?t.number(Math.round(e[0].asFloat)):void 0},{name:"Sign",domain:["Function","Number","Integer"],range:[-1,1],complexity:1200,simplify:(t,e)=>{const i=e[0].sgn;return i===0?t.ZERO:i===1?t.ONE:i===-1?t.NEGATIVE_ONE:void 0},evaluate:(t,e)=>{const i=e[0].sgn;return i===0?t.ZERO:i===1?t.ONE:i===-1?t.NEGATIVE_ONE:void 0},N:(t,e)=>{const i=e[0].sgn;return i===0?t.ZERO:i===1?t.ONE:i===-1?t.NEGATIVE_ONE:void 0}},{name:"SignGamma",description:"The sign of the gamma function: -1 or +1",domain:["Function","Number","Integer"],complexity:7900,range:[-1,1]},{name:"Sqrt",description:"Square Root",domain:["Function","Number","Number"],wikidata:"Q134237",complexity:3e3,canonical:(t,e)=>{var i;return e[0]?(i=un(t,e[0],t.HALF))!==null&&i!==void 0?i:t._fn("Power",[e[0],t.HALF]):t._fn("Power",[t.symbol("Missing"),t.HALF])},simplify:(t,e)=>Ga(t,e[0],"simplify"),evaluate:(t,e)=>Ga(t,e[0],"evaluate"),N:(t,e)=>Ga(t,e[0],"N")},{name:"Square",domain:["Function","Number","Number"],wikidata:"Q3075175",complexity:3100,canonical:(t,e)=>{var i;return e[0]?(i=un(t,e[0],t.TWO))!==null&&i!==void 0?i:t._fn("Power",[e[0],t.TWO]):t._fn("Power",[t.symbol("Missing"),t.TWO])},N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.mul(e[0].decimalValue)):e[0].complexValue?t.number(e[0].complexValue.mul(e[0].complexValue)):e[0].asFloat!==null?t.number(e[0].asFloat*e[0].asFloat):void 0},{name:"Subscript",domain:["Function","Anything","Anything","Anything"],hold:"last",canonical:(t,e)=>{var i,n,r,a;const o=(i=e[0])!==null&&i!==void 0?i:t.symbol("Missing"),l=(n=e[1])!==null&&n!==void 0?n:t.symbol("Missing");if(o.string&&l.isLiteral&&l.asSmallInteger!==null){const s=l.asSmallInteger;if(s>1&&s<=36){const[u,c]=bu(o.string,s);return c?t._fn("Error",[t.number(u),t.string("unexpected-digits"),t._fn("LatexForm",[t.string(c)])]):t.number(u)}}if(o.symbol){if(!((r=o.symbolDefinition)===null||r===void 0)&&r.at)return t._fn("At",[o,l]);let s=(a=l.string)!==null&&a!==void 0?a:l.symbol;if(s||l.asSmallInteger!==null&&(s=l.asSmallInteger.toString()),s)return t.symbol(o.symbol+"_"+s)}return t._fn("Subscript",e)}},{name:"Subtract",domain:["Function","Number","Number","Number"],wikidata:"Q40754",complexity:1350,canonical:(t,e)=>e.length===0?t.symbol("Nothing"):e.length===1?Je(e[0]):qo(t,[e[0],Je(e[1])]),N:(t,e)=>{var i,n,r,a,o,l;const s=e[0],u=e[1];return s.complexValue||u.complexValue?t.number(t.complex((i=s.complexValue)!==null&&i!==void 0?i:s.asFloat).sub((n=u.complexValue)!==null&&n!==void 0?n:u.asFloat)):s.decimalValue||u.decimalValue?t.number(t.decimal((a=(r=s.decimalValue)!==null&&r!==void 0?r:s.asFloat)!==null&&a!==void 0?a:NaN).sub((l=(o=u.decimalValue)!==null&&o!==void 0?o:u.asFloat)!==null&&l!==void 0?l:NaN)):s.asFloat!==null&&u.asFloat!==null?t.number(s.asFloat-u.asFloat):void 0}}]},{symbols:[{name:"MachineEpsilon",domain:"RealNumber",constant:!0,real:!0,value:{num:Number.EPSILON.toString()}},{name:"Half",constant:!0,hold:!1,value:["Rational",1,2]},{name:"ImaginaryUnit",domain:"ImaginaryNumber",constant:!0,hold:!0,wikidata:"Q193796",imaginary:!0,value:["Complex",0,1]},{name:"ExponentialE",domain:"TranscendentalNumber",algebraic:!1,wikidata:"Q82435",constant:!0,hold:!0,real:!0,value:t=>xt(t)?t.DECIMAL_ONE.exp():Math.exp(1)},{name:"GoldenRatio",domain:"AlgebraicNumber",wikidata:"Q41690",constant:!0,algebraic:!0,hold:!1,value:["Divide",["Add",1,["Sqrt",5]],2]},{name:"CatalanConstant",domain:"RealNumber",algebraic:void 0,wikidata:"Q855282",constant:!0,value:{num:`0.91596559417721901505460351493238411077414937428167
                  21342664981196217630197762547694793565129261151062
                  48574422619196199579035898803325859059431594737481
                  15840699533202877331946051903872747816408786590902
                  47064841521630002287276409423882599577415088163974
                  70252482011560707644883807873370489900864775113225
                  99713434074854075532307685653357680958352602193823
                  23950800720680355761048235733942319149829836189977
                  06903640418086217941101917532743149978233976105512
                  24779530324875371878665828082360570225594194818097
                  53509711315712615804242723636439850017382875977976
                  53068370092980873887495610893659771940968726844441
                  66804621624339864838916280448281506273022742073884
                  31172218272190472255870531908685735423498539498309
                  91911596738846450861515249962423704374517773723517
                  75440708538464401321748392999947572446199754961975
                  87064007474870701490937678873045869979860644874974
                  64387206238513712392736304998503539223928787979063
                  36440323547845358519277777872709060830319943013323
                  16712476158709792455479119092126201854803963934243
                  `}},{name:"EulerGamma",domain:"RealNumber",algebraic:void 0,wikidata:"Q273023",constant:!0,value:{num:`0.57721566490153286060651209008240243104215933593992359880576723488486772677766
          467093694706329174674951463144724980708248096050401448654283622417399764492353
          625350033374293733773767394279259525824709491600873520394816567085323315177661
          152862119950150798479374508570574002992135478614669402960432542151905877553526
          733139925401296742051375413954911168510280798423487758720503843109399736137255
          306088933126760017247953783675927135157722610273492913940798430103417771778088
          154957066107501016191663340152278935867965497252036212879226555953669628176388
          792726801324310104765059637039473949576389065729679296010090151251959509222435
          014093498712282479497471956469763185066761290638110518241974448678363808617494
          551698927923018773910729457815543160050021828440960537724342032854783670151773
          943987003023703395183286900015581939880427074115422278197165230110735658339673`}}]},{functions:[{name:"PreIncrement",domain:["Function","Number","Number"]},{name:"PreDecrement",domain:["Function","Number","Number"]}]}];function Ua(t,e,i){if(i!=="simplify"||e.isLiteral){if(e.machineValue!==null)return t.number(Math.abs(e.machineValue));if(e.decimalValue)return t.number(e.decimalValue.abs());if(e.complexValue)return t.number(e.complexValue.abs());const[n,r]=e.rationalValue;return n===null||r===null?void 0:t.number(i==="N"?Math.abs(n/r):[Math.abs(n),r])}if(!e.isMissing)return e.isNonNegative?e:e.isNegative?t.negate(e):void 0}function Ga(t,e,i){if(e.isOne)return t.ONE;if(e.isZero)return t.ZERO;if(i==="N")return e.complexValue?t.number(e.complexValue.sqrt()):e.isNonNegative?e.decimalValue?t.number(e.decimalValue.sqrt()):e.asFloat!==null?t.number(Math.sqrt(e.asFloat)):void 0:_i(t)?t.number(t.complex(e.asFloat).sqrt()):t.NAN;if(e.asSmallInteger!==null){const[n,r]=rr(e.asSmallInteger,2);if(r===1)return t.number(n);if(n!==1)return this._fn("Multiply",[n,t._fn("Sqrt",[t.box(r).canonical])])}}const Yc=[{symbols:[{name:"Missing",domain:"Anything"},{name:"Nothing",domain:"Nothing"}]},{functions:[{name:"KeyValuePair",domain:["Function","String","Anything",["Tuple","String","Anything"]],description:"A key/value pair",complexity:8200,canonical:(t,e)=>t.tuple(e)},{name:"Single",domain:["Function","Anything",["Tuple","Anything"]],description:"A tuple with a single element",complexity:8200,canonical:(t,e)=>t.tuple(e)},{name:"Pair",domain:["Function","Anything","Anything",["Tuple","Anything","Anything"]],description:"A tuple of two elements",complexity:8200,canonical:(t,e)=>t.tuple(e)},{name:"Triple",domain:["Function","Anything","Anything","Anything",["Tuple","Anything","Anything","Anything"]],description:"A tuple of three elements",complexity:8200,canonical:(t,e)=>t.tuple(e)},{name:"Tuple",domain:["Function",["Some","Anything"],["Tuple",["Some","Anything"]]],description:"A fixed number of heterogeneous elements",complexity:8200}]},{functions:[{name:"BaseForm",domain:["Function","Anything",["Optional","Integer"],"String"],description:"`BaseForm(expr, base=10)`",complexity:9e3,inert:!0},{name:"Delimiter",domain:(t,e)=>{if(!e[0])return"Nothing";const i=e[0].domain.domainExpression;return["Function",i,["Optional","String"],i]},complexity:9e3,inert:!0,canonical:(t,e)=>!e[0]||e[0].isMissing?t.symbol("Nothing"):e[0]},{name:"Error",domain:(t,e)=>{if(!e[0])return"Nothing";const i=e[0].domain.domainExpression;return["Function",i,["Optional","String"],["Optional","Expression"],i]},complexity:500,inert:!0,hold:"all",evaluate:(t,e)=>e[0].evaluate()},{name:"Style",domain:(t,e)=>{if(!e[0])return"Nothing";const i=e[0].domain.domainExpression;return["Function",i,["Optional",["Head","Dictionary"]],i]},complexity:9e3,inert:!0}]},{functions:[{name:"Apply",domain:"Function"},{name:"About",domain:"Function"},{name:"Block",domain:"Function"},{name:"Domain",domain:"Function"},{name:"Evaluate",domain:"Function",hold:"all",evaluate:(t,e)=>e[0].evaluate()},{name:"FromDigits",description:"`FromDigits(s, base=10)`       return an integer representation of the string `s` in base `base`.",evaluate:(t,e)=>{const i=e[0];if(i.isMissing)return;if(!i.string)return t.error(t._fn("FromDigits",e),"Expected first argument as a string",["LatexForm",i.latex]);const n=e[1];if(n.isMissing&&t.number(Number.parseInt(i.string,10)),n.machineValue===null)return["Error",t._fn("FromDigits",e),{str:"Expected `base` as an integer between 2 and 36"},["LatexForm",n.latex]];const r=n.machineValue;if(r<2||r>36)return["Error",t._fn("FromDigits",e),{str:"Expected `base` as an integer between 2 and 36"},["LatexForm",n.latex]];const[a,o]=bu(i.string,r);return o?["Error",a,{str:"unexpected-digits"},["LatexForm",o]]:t.number(a)}},{name:"Head",domain:"Function",evaluate:(t,e)=>{const i=e[0];return typeof i.head=="string"?t.symbol(i.head):i.head}},{name:"Html",domain:["Function","Expression","String"],evaluate:(t,e)=>(e.length,t.string(""))},{name:"IntegerString",domain:["Function","Integer",["Optional","Integer"],"String"],description:"`IntegerString(n, base=10)`       return a string representation of the integer `n` in base `base`.",evaluate:(t,e)=>{var i,n,r,a;const o=e[0];if(o.isMissing)return;const l=(r=(i=o.machineValue)!==null&&i!==void 0?i:(n=o.decimalValue)===null||n===void 0?void 0:n.toNumber())!==null&&r!==void 0?r:NaN;if(Number.isNaN(l)||!Number.isInteger(l))return void t.signal(t._fn("IntegerString",e),`Expected first argument as an integer. Got \\(${o.latex}$\\)`);const s=e[1];if(s.isMissing)return o.machineValue?t.string(Math.abs(o.machineValue).toString()):o.decimalValue?t.string(o.decimalValue.abs().toString()):t.string(Math.abs(Math.round((a=o.asFloat)!==null&&a!==void 0?a:NaN)).toString());if(s.asSmallInteger===null)return void t.signal(t._fn("IntegerString",e),`Expected \`base\` as an integer between 2 and 36. Got \\(${s.latex}$\\)`);const u=s.asSmallInteger;if(!(u<2||u>36))return t.string(Math.abs(l).toString(u));t.signal(t._fn("IntegerString",e),"Expected `base` as an integer between 2 and 36. Got "+u)}},{name:"Lambda",domain:"Function",wikidata:"Q567612",hold:"all"},{name:"Latex",domain:"Function",evaluate:(t,e)=>e.length===0?t._fn("LatexString",[]):t._fn("LatexString",[t.string(Ce(e.map(i=>i.latex)))])},{name:"LatexString",domain:"Function",evaluate:(t,e)=>e.length===0?t._fn("LatexString",[]):t._fn("LatexString",[t.string(Ce(e.map(i=>t.serialize(i))))])},{name:"LatexTokens",domain:"Function",evaluate:(t,e)=>e.length===0?t._fn("LatexString",[]):t._fn("LatexString",[t.string(Ce(e.map(i=>t.serialize(i))))])},{name:"Parse",domain:"Function",evaluate:(t,e)=>{if(e.length===0)return t.symbol("Nothing");const i=Ce(e.map(n=>t.serialize(n)));return t.parse(i)}},{name:"String",domain:["Function",["Some","Anything"],"String"],threadable:!0,evaluate:(t,e)=>e.length===0?t.string(""):t.string(e.map(i=>{var n;return(n=i.string)!==null&&n!==void 0?n:`\\(${i.latex}$\\)`}).join(""))},{name:"Symbol",complexity:500,description:"Construct a new symbol with a name formed by concatenating the arguments",domain:["Function",["Some","Anything"],"Symbol"],threadable:!0,evaluate:(t,e)=>{if(e.length===0)return t.symbol("Nothing");const i=e.map(n=>{const r=n.symbol;if(r!==null)return r;const a=i.string;if(a!==null)return a;const o=i.smallIntegerValue;return o!==null?o.toString():""}).join("");return i.length>0?t.symbol(i):t.symbol("Nothing")}},{name:"SymbolName",domain:["Function","Anything","String"],evaluate:(t,e)=>e[0].symbol?t.string(e[0].symbol):t.symbol("Nothing")},{name:"Tail",domain:["Function","Expression",["List","Expression]"]],evaluate:(t,e)=>{var i;return t._fn("List",(i=e[0].ops)!==null&&i!==void 0?i:[])}},{name:"Timing",description:"`Timing(expr)` evaluates `expr` and return a `Pair` of the number of second elapsed for the evaluation, and the value of the evaluation",domain:["Function","Expression",["Tuple","Expression","Number"]],evaluate:(t,e)=>{var i;if(!e[1]||e[1].isMissing){const u=globalThis.performance.now(),c=e[0].evaluate(),d=1e3*(globalThis.performance.now()-u);return t.pair(t.number(d),c)}let n,r=Math.max(3,Math.round((i=e[1].asSmallInteger)!==null&&i!==void 0?i:3)),a=[];for(;r>0;){const u=globalThis.performance.now();n=e[0].evaluate(),a.push(1e3*(globalThis.performance.now()-u)),r-=1}const o=Math.max(...a),l=Math.min(...a);a=a.filter(u=>u>l&&u<o);const s=a.reduce((u,c)=>u+c,0);return s===0?t.pair(t.number(o),n):t.pair(t.number(s/a.length),n)}}]}],Qc={symbols:[{name:"True",wikidata:"Q16751793",domain:"Boolean",constant:!0},{name:"False",wikidata:"Q5432619",domain:"Boolean",constant:!0},{name:"Maybe",wikidata:"Q781546",domain:"MaybeBoolean",constant:!0}],functions:[{name:"And",wikidata:"Q191081",domain:"LogicOperator",threadable:!0,associative:!0,commutative:!0,idempotent:!0,complexity:1e4,simplify:al,evaluate:al},{name:"Or",wikidata:"Q1651704",domain:"LogicOperator",threadable:!0,associative:!0,commutative:!0,idempotent:!0,complexity:1e4,simplify:ol,evaluate:ol},{name:"Not",wikidata:"Q190558",domain:"LogicOperator",involution:!0,complexity:10100,simplify:sl,evaluate:sl},{name:"Equivalent",wikidata:"Q220433",domain:"LogicOperator",complexity:10200,simplify:ll,evaluate:ll},{name:"Implies",wikidata:"Q7881229",domain:"LogicOperator",complexity:10200,simplify:ul,evaluate:ul},{name:"Exists",domain:"MaybeBoolean"}]};function al(t,e){if(e.length===0)return t.symbol("True");const i=[];for(const n of e){if(n.symbol==="False")return t.symbol("False");if(n.symbol!=="True"){let r=!1;for(const a of i)if(a.isSame(n))r=!0;else if(n.head==="Not"&&n.op1.isSame(a)||a.head==="Not"&&a.op1.isSame(n))return t.symbol("False");r||i.push(n)}}return i.length===0?t.symbol("True"):i.length===1?i[0]:t._fn("And",i)}function ol(t,e){if(e.length===0)return t.symbol("True");const i=[];for(const n of e){if(n.symbol==="True")return t.symbol("True");if(n.symbol!=="False"){let r=!1;for(const a of i)if(a.isSame(n))r=!0;else if(n.head==="Not"&&n.op1.isSame(a)||a.head==="Not"&&a.op1.isSame(n))return t.symbol("True");r||i.push(n)}}return i.length===0?t.symbol("True"):i.length===1?i[0]:t._fn("Or",i)}function sl(t,e){const i=e[0].symbol;return i==="True"?t.symbol("False"):i==="False"?t.symbol("True"):i==="Maybe"?t.symbol("Maybe"):void 0}function ll(t,e){const i=e[0].symbol,n=e[1].symbol;return i==="True"&&n==="True"||i==="False"&&n==="False"?t.symbol("True"):i==="True"&&n==="False"||i==="False"&&n==="True"?t.symbol("False"):i==="Maybe"||n==="Maybe"?t.symbol("Maybe"):void 0}function ul(t,e){const i=e[0].symbol,n=e[1].symbol;return i==="True"&&n==="True"||i==="False"&&n==="False"||i==="False"&&n==="True"?t.symbol("True"):i==="True"&&n==="False"?t.symbol("False"):i==="Maybe"||n==="Maybe"?t.symbol("Maybe"):void 0}const ed=[{symbols:[{name:"Degrees",domain:"RealNumber",constant:!0,value:["Divide","Pi",180]},{name:"Pi",domain:"TranscendentalNumber",algebraic:!1,constant:!0,hold:!0,wikidata:"Q167",value:t=>xt(t)?t.DECIMAL_PI:Math.PI}],functions:[{name:"Hypot",evaluate:["Sqrt",["Square","_1"],["Square","_2"]],domain:["Function","Number","Number","Number"]},{name:"Sin",domain:["Function","Number","Number"],complexity:5e3,simplify:(t,e)=>{var i;return(i=Ue(t,"Sin",e[0]))!==null&&i!==void 0?i:_i(t)?t.box(["Divide",["Subtract",["Exp",["Multiply","ImaginaryUnit",e[0]]],["Exp",["Multiply","ImaginaryUnit",["Negate",e[0]]]]],["Complex",0,2]]).canonical:void 0},evaluate:(t,e)=>{var i;return(i=Ue(t,"Sin",e[0]))!==null&&i!==void 0?i:_i(t)?t.box(["Divide",["Subtract",["Exp",["Multiply","ImaginaryUnit",e[0]]],["Exp",["Multiply","ImaginaryUnit",["Negate",e[0]]]]],["Complex",0,2]]).canonical:void 0},N:(t,e)=>e[0].decimalValue?t.number(t.chop(e[0].decimalValue.sin())):e[0].complexValue?t.number(e[0].complexValue.sin()):e[0].asFloat!==null?t.number(Math.sin(e[0].asFloat)):void 0}]},{functions:[{name:"Arctan",wikidata:"Q2257242",domain:["Function","Number","ExtendedRealNumber"],complexity:5200,simplify:(t,e)=>Ue(t,"Arctan",e[0]),N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.atan()):e[0].complexValue?t.number(e[0].complexValue.atan()):e[0].asFloat!==null?t.number(Math.atan(e[0].asFloat)):void 0},{name:"Arctan2",wikidata:"Q776598",domain:["Function","Number","Number","Number"],complexity:5200,N:(t,e)=>e[0].decimalValue&&e[1].decimalValue?t.number(_e.exports.Decimal.atan2(e[0].decimalValue,e[1].decimalValue)):e[0].asFloat!==null&&e[1].asFloat!==null?t.number(Math.atan2(e[0].asFloat,e[1].asFloat)):void 0},{name:"Cos",domain:["Function","Number","Number"],complexity:5050,simplify:(t,e)=>{var i;return(i=Ue(t,"Cos",e[0]))!==null&&i!==void 0?i:t.box(["Sin",["Add",e[0],["Multiply","Half","Pi"]]]).canonical},evaluate:["Sin",["Add","_1",["Multiply","Half","Pi"]]],N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.cos()):e[0].complexValue?t.number(e[0].complexValue.cos()):e[0].asFloat!==null?t.number(Math.cos(e[0].asFloat)):void 0},{name:"Tan",domain:["Function","Number","Number"],complexity:5100,simplify:(t,e)=>{var i;return(i=Ue(t,"Tan",e[0]))!==null&&i!==void 0?i:t.box(["Divide",["Sin",e[0]],["Cos",e[0]]]).canonical},evaluate:["Divide",["Sin","_1"],["Cos","_1"]],N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.tan()):e[0].complexValue?t.number(e[0].complexValue.tan()):e[0].asFloat!==null?t.number(Math.tan(e[0].asFloat)):void 0}]},{functions:[{name:"Arcosh",domain:["Function","Number","Number"],complexity:6200,simplify:(t,e)=>{var i;return(i=Ue(t,"Arcoshh",e[0]))!==null&&i!==void 0?i:t.box(["Ln",["Add",e[0],["Sqrt",["Subtract",["Square",e[0]],1]]]]).canonical},evaluate:["Ln",["Add","_1",["Sqrt",["Subtract",["Square","_1"],1]]]],N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.acosh()):e[0].complexValue?t.number(e[0].complexValue.acosh()):e[0].asFloat!==null?t.number(Math.acosh(e[0].asFloat)):void 0},{name:"Arcsin",domain:["Function","Number","Number"],complexity:5500,simplify:(t,e)=>{var i;return(i=Ue(t,"Arcsin",e[0]))!==null&&i!==void 0?i:t.box(["Multiply",2,["Arctan2",e[0],["Add",1,["Sqrt",["Subtract",1,["Square",e[0]]]]]]]).canonical},evaluate:["Multiply",2,["Arctan2","_1",["Add",1,["Sqrt",["Subtract",1,["Square","_1"]]]]]],N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.asin()):e[0].complexValue?t.number(e[0].complexValue.asin()):e[0].asFloat!==null?t.number(Math.asin(e[0].asFloat)):void 0},{name:"Arsinh",domain:["Function","Number","Number"],complexity:6100,simplify:(t,e)=>{var i;return(i=Ue(t,"Arsinh",e[0]))!==null&&i!==void 0?i:t.box(["Ln",["Add",e[0],["Sqrt",["Add",["Square",e[0]],1]]]]).canonical},evaluate:["Ln",["Add","_1",["Sqrt",["Add",["Square","_1"],1]]]],N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.asinh()):e[0].complexValue?t.number(e[0].complexValue.asinh()):e[0].asFloat!==null?t.number(Math.asinh(e[0].asFloat)):void 0},{name:"Artanh",domain:["Function","Number","Number"],complexity:6300,simplify:(t,e)=>{var i;return(i=Ue(t,"Artanh",e[0]))!==null&&i!==void 0?i:t.box(["Multiply","Half",["Ln",["Divide",["Add",1,e[0]],["Subtract",1,e[0]]]]]).canonical},evaluate:["Multiply","Half",["Ln",["Divide",["Add",1,"_1"],["Subtract",1,"_1"]]]],N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.atanh()):e[0].complexValue?t.number(e[0].complexValue.atanh()):e[0].asFloat!==null?t.number(Math.atanh(e[0].asFloat)):void 0},{name:"Cosh",domain:["Function","Number","Number"],complexity:6050,simplify:(t,e)=>Ue(t,"Cosh",e[0]),evaluate:["Multiply","Half",["Add",["Exp","_1"],["Exp",["Negate","_1"]]]],N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.cosh()):e[0].complexValue?t.number(e[0].complexValue.cosh()):e[0].asFloat!==null?t.number(Math.cosh(e[0].asFloat)):void 0},{name:"Cot",domain:["Function","Number","Number"],complexity:5600,simplify:(t,e)=>{var i;return(i=Ue(t,"Cot",e[0]))!==null&&i!==void 0?i:t.box(["Divide",["Cos",e[0]],["Sin",e[0]]]).canonical},evaluate:["Divide",["Cos","_1"],["Sin","_1"]],N:(t,e)=>e[0].decimalValue?t.number(t.DECIMAL_ONE.div(e[0].decimalValue.tan())):e[0].complexValue?t.number(e[0].complexValue.tan().inverse()):e[0].asFloat!==null?t.number(1/Math.tan(e[0].asFloat)):void 0},{name:"Csc",description:"Cosecant",domain:["Function","Number","Number"],complexity:5600,simplify:(t,e)=>{var i;return(i=Ue(t,"Csc",e[0]))!==null&&i!==void 0?i:t.box(["Divide",1,["Sin",e[0]]]).canonical},evaluate:["Divide",1,["Sin","_1"]],N:(t,e)=>e[0].decimalValue?t.number(t.DECIMAL_ONE.div(e[0].decimalValue.sin())):e[0].complexValue?t.number(e[0].complexValue.sin().inverse()):e[0].asFloat!==null?t.number(1/Math.sin(e[0].asFloat)):void 0},{name:"Haversine",wikidata:"Q2528380",domain:["Function","ExtendedRealNumber","RealNumber"],evaluate:["Divide",["Subtract",1,["Cos","_1"]],2]},{name:"InverseHaversine",domain:["Function","ExtendedRealNumber","RealNumber"],evaluate:["Multiply",2,["Arcsin",["Sqrt","_1"]]]},{name:"Sec",description:"Secant, inverse of cosine",domain:["Function","Number","Number"],complexity:5500,simplify:(t,e)=>{var i;return(i=Ue(t,"Sec",e[0]))!==null&&i!==void 0?i:t.box(["Divide",1,["Cos",e[0]]]).canonical},evaluate:["Divide",1,["Cos","_1"]],N:(t,e)=>e[0].decimalValue?t.number(t.DECIMAL_ONE.div(e[0].decimalValue.cos())):e[0].complexValue?t.number(e[0].complexValue.cos().inverse()):e[0].asFloat!==null?t.number(1/Math.cos(e[0].asFloat)):void 0},{name:"Sinh",domain:["Function","Number","Number"],complexity:6e3,simplify:(t,e)=>{var i;return(i=Ue(t,"Sinh",e[0]))!==null&&i!==void 0?i:t.box(["Multiply","Half",["Subtract",["Exp",e[0]],["Exp",["Negate",e[0]]]]]).canonical},evaluate:["Multiply","Half",["Subtract",["Exp","_1"],["Exp",["Negate","_1"]]]]}]},{functions:[{name:"Csch",domain:["Function","Number","ExtendedRealNumber"],complexity:6200,simplify:(t,e)=>{var i;return(i=Ue(t,"Csch",e[0]))!==null&&i!==void 0?i:t.box(["Divide",1,["Sinh",e[0]]]).canonical},evaluate:["Divide",1,["Sinh","_1"]],N:(t,e)=>e[0].decimalValue?t.number(t.DECIMAL_ONE.div(e[0].decimalValue.sinh())):e[0].complexValue?t.number(e[0].complexValue.sinh().inverse()):e[0].asFloat!==null?t.number(1/Math.sinh(e[0].asFloat)):void 0},{name:"Sech",domain:["Function","Number","Number"],complexity:6200,simplify:(t,e)=>{var i;return(i=Ue(t,"Sech",e[0]))!==null&&i!==void 0?i:t.box(["Divide",1,["Cosh",e[0]]]).canonical},evaluate:["Divide",1,["Cosh","_1"]],N:(t,e)=>e[0].decimalValue?t.number(t.DECIMAL_ONE.div(e[0].decimalValue.cosh())):e[0].complexValue?t.number(e[0].complexValue.cosh().inverse()):e[0].asFloat!==null?t.number(1/Math.cosh(e[0].asFloat)):void 0},{name:"Tanh",domain:["Function","Number","Number"],complexity:6200,simplify:(t,e)=>{var i;return(i=Ue(t,"Tanh",e[0]))!==null&&i!==void 0?i:t.box(["Divide",["Sinh",e[0]],["Cosh",e[0]]]).canonical},evaluate:["Divide",["Sinh","_1"],["Cosh","_1"]],N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.tanh()):e[0].complexValue?t.number(e[0].complexValue.tanh()):e[0].asFloat!==null?t.number(Math.tanh(e[0].asFloat)):void 0}]},{functions:[{name:"Arccos",domain:["Function","Number","ExtendedRealNumber"],complexity:5550,evaluate:["Subtract",["Divide","Pi",2],["Arcsin","_1"]],simplify:(t,e)=>{var i;return(i=Ue(t,"Arccos",e[0]))!==null&&i!==void 0?i:t.box(["Subtract",["Divide","Pi",2],["Arcsin",e[0]]]).canonical},N:(t,e)=>e[0].decimalValue?t.number(e[0].decimalValue.acos()):e[0].complexValue?t.number(e[0].complexValue.acos()):e[0].asFloat!==null?t.number(Math.acos(e[0].asFloat)):void 0},{name:"Coth",domain:["Function","Number","Number"],complexity:6300,simplify:(t,e)=>{var i;return(i=Ue(t,"Coth",e[0]))!==null&&i!==void 0?i:t.box(["Divide",1,["Tanh",e[0]]]).canonical},evaluate:["Divide",1,["Tanh","_1"]],N:(t,e)=>e[0].decimalValue?t.number(t.DECIMAL_ONE.div(e[0].decimalValue.tanh())):e[0].complexValue?t.number(e[0].complexValue.tanh().inverse()):e[0].asFloat!==null?t.number(1/Math.tanh(e[0].asFloat)):void 0},{name:"InverseFunction",domain:"Function",simplify:(t,e)=>cl(t,e[0]),evaluate:(t,e)=>cl(t,e[0])}]}],di=["Sqrt",2],Gi=["Sqrt",3],Ji=["Sqrt",5],_r=["Sqrt",6],td=[[[0,1],{Sin:0,Cos:1,Tan:0,Cot:NaN,Sec:1,Csc:NaN}],[[1,12],{Sin:["Divide",["Subtract",_r,di],4],Cos:["Divide",["Add",_r,di],4],Tan:["Subtract",2,Gi],Cot:["Add",2,Gi],Sec:["Subtract",_r,di],Csc:["Add",_r,di]}],[[1,10],{Sin:["Divide",["Subtract",Ji,1],4],Cos:["Divide",["Sqrt",["Add",10,["Multiply",2,Ji]]],4],Tan:["Divide",["Sqrt",["Subtract",25,["Multiply",10,Ji]]],4],Cot:["Sqrt",["Add",5,["Multiply",2,Ji]]],Sec:["Divide",["Sqrt",["Subtract",50,["Multiply",10,Ji]]],5],Csc:["Add",1,Ji]}],[[1,8],{Sin:"$\\frac\\sqrt{2-\\sqrt2}{2}$",Cos:"$\\frac {\\sqrt {2+{\\sqrt {2}}}}{2}$",Tan:"$\\sqrt{2} - 1$",Cot:"$\\sqrt{2} + 1$",Sec:"$\\sqrt{ 4 - 2\\sqrt{2}$",Csc:"$\\sqrt{ 4 + 2\\sqrt{2}$"}],[[1,6],{Sin:"$\\frac{1}{2}$",Cos:"$\\frac{\\sqrt{3}}{2}$",Tan:"$\\frac{\\sqrt{3}}{3}$",Cot:"$\\frac{2\\sqrt{3}}{3}$",Sec:"$\\sqrt{3}$",Csc:2}],[[1,5],{Sin:"$\\frac{\\sqrt{10- 2\\sqrt{5}}} {4}$",Cos:"$\\frac{1+ \\sqrt{5}} {4}$",Tan:"$\\sqrt{5-2\\sqrt5}$",Cot:"$\\frac{\\sqrt{25+10\\sqrt5}} {5}$",Sec:"$\\sqrt{5} - 1$",Csc:"$\\frac{\\sqrt{50+10\\sqrt{5}}} {5}$"}],[[1,4],{Sin:["Divide",di,2],Cos:["Divide",di,2],Tan:1,Cot:1,Sec:di,Csc:di}],[[3,10],{Sin:"$\\frac{1+ \\sqrt{5}} {4}$",Cos:"$\\frac{\\sqrt{10- 2\\sqrt{5}}} {4}$",Tan:"$\\frac{\\sqrt{25+10\\sqrt5}} {5}$",Cot:"$\\sqrt{5-2\\sqrt5}$",Sec:"$$",Csc:"$\\frac{\\sqrt{50+10\\sqrt{5}}} {5}$"}],[[1,3],{Sin:["Divide",Gi,2],Cos:"Half",Tan:Gi,Cot:["Divide",Gi,3],Sec:2,Csc:["Divide",["Multiply",2,Gi],3]}],[[3,8],{Sin:"$\\frac{ \\sqrt{2 + \\sqrt{2}} } {2}$",Cos:"$\\frac{ \\sqrt{2 - \\sqrt{2}} } {2}$",Tan:"$\\sqrt{2} + 1$",Cot:"$\\sqrt{2} - 1$",Sec:"$\\sqrt{ 4 + 2 \\sqrt{2} }$",Csc:"$\\sqrt{ 4 - 2 \\sqrt{2} }$"}],[[2,5],{Sin:"$\\frac{\\sqrt{10+ 2\\sqrt{5}}} {4}$",Cos:"$\\frac{\\sqrt{5}-1} {4}$",Tan:"$\\sqrt{5+2\\sqrt{5}}$",Cot:"$\\frac{\\sqrt{25-10\\sqrt{5}}} {5}$",Sec:"$1 + \\sqrt{5}$",Csc:"$\\frac{\\sqrt{50-10\\sqrt{5}}} {5}$"}],[[5,12],{Sin:"$\\frac{\\sqrt{6} + \\sqrt{2}} {4}$",Cos:"$\\frac{ \\sqrt{6} - \\sqrt{2}} {4}$",Tan:"$2+\\sqrt{3}$",Cot:"$2-\\sqrt{3}$",Sec:"$\\sqrt{6}+\\sqrt{2}$",Csc:"$\\sqrt{6} - \\sqrt{2}$"}],[[1,2],{Sin:1,Cos:0,Tan:NaN,Cot:0,Sec:NaN,Csc:1}]],id={Sin:[[1,"Sin"],[1,"Cos"],[-1,"Sin"],[-1,"Cos"]],Cos:[[1,"Cos"],[-1,"Sin"],[-1,"Cos"],[1,"Sin"]],Sec:[[1,"Sec"],[-1,"Csc"],[-1,"Sec"],[1,"Csc"]],Csc:[[1,"Csc"],[1,"Sec"],[-1,"Csc"],[-1,"Sec"]],Tan:[[1,"Tan"],[-1,"Cot"],[1,"Tan"],[-1,"Cot"]],Cot:[[1,"Cot"],[-1,"Tan"],[1,"Cot"],[-1,"Tan"]]};function Ue(t,e,i){var n;if(!i||i.isMissing)return;const r=t.cache("constructible-trigonometric-values",()=>{var u;const c=[];for(const[d,p]of td){const h={};for(const f of Object.keys(p))h[f]=((u=t.parse(Jn(p[f])))!==null&&u!==void 0?u:t.box(p[f])).canonical;c.push([d,h])}return c},u=>{for(const[c,d]of u)for(const p of Object.values(d))p._purge();return u});if(!(i=(n=i.numericValue)!==null&&n!==void 0?n:i).isLiteral)return;let a=i.asFloat;if(a===null)return;a%=2*Math.PI;const o=e!=="Cos"&&e!=="Sec"?Math.sign(a):1;a=Math.abs(a);const l=Math.floor(2*a/Math.PI);let s;a%=Math.PI/2,[s,e]=id[e][l],s*=o;for(const[[u,c],d]of r)if(t.chop(a-Math.PI*u/c)===0)return s<0?Je(d[e]):d[e]}function cl(t,e){const i=e.op1.head;if(typeof i!="string")return e;const n={Sin:"Arcsin",Cos:"Arccos",Tan:"Arctan",Sec:"Arcsec",Csc:" Arccsc",Sinh:"Arsinh",Cosh:"Arcosh",Tanh:"Artanh",Sech:"Arcsech",Csch:"Arcsch",Arcosh:"Cosh",Arcos:"Cos",Arccsc:"Csc",Arcsch:"Csch",Arcsec:"Sec",Arcsin:"Sin",Arsinh:"Sinh",Arctan:"Tan",Artanh:"Tanh"}[i];return n?t._fn(n,[e.op1.op1]):e}function rs(t){return Object.fromEntries(Object.entries(t).filter(([e,i])=>i!==void 0))}function Lu(t){const e={...t};return t.zero||t.one||t.negativeOne?(e.number=!0,e.integer=!0,e.rational=!0,e.algebraic=!0,e.real=!0,e.extendedReal=!0,e.complex=!0,e.extendedComplex=!0,e.imaginary=!1,e.positive=!1,e.nonPositive=!0,e.negative=!1,e.nonNegative=!0,e.zero=t.zero,e.notZero=!t.zero,e.one=t.one,e.negativeOne=t.negativeOne,e.negativeOne=!1,e.infinity=!1,e.NaN=!1,e.finite=!0,e.even=t.one,e.odd=!t.one,e.prime=!1,e.composite=!1,e):(e.notZero===!0&&(e.imaginary||(e.real=!0),e.zero=!1),(e.positive||e.nonNegative)&&(e.negativeOne=!1),e.positive?(e.nonPositive=!1,e.negative=!1,e.nonNegative=!0):e.nonPositive?(e.positive=!1,e.negative=e.notZero,e.nonNegative=!e.zero):e.negative?(e.positive=!1,e.nonPositive=e.notZero,e.nonNegative=!1):e.nonNegative&&(e.positive=e.notZero,e.nonPositive=!e.zero,e.negative=!1),(e.positive||e.negative||e.nonPositive||e.nonNegative)&&(e.number=!0,e.finite?e.real=!0:e.finite||(e.complex=!0),e.imaginary=!1),e.infinity&&(e.finite=!1,e.NaN=!1),e.finite&&(e.number=!0,e.complex=!0,e.infinity=!1,e.NaN=!1),t.even&&(e.odd=!1),t.odd&&(e.even=!1),e.integer&&(e.rational=!0),e.rational&&(e.algebraic=!0),e.algebraic&&(e.real=!0),e.extendedReal&&(e.real=!0),e.real&&(e.complex=!0),e.imaginary&&(e.complex=!0),e.extendedComplex&&(e.complex=!0),e.complex&&(e.number=!0),e.real&&e.infinity&&(e.extendedReal=!0),e.complex&&e.infinity&&(e.extendedComplex=!0),(e.even||e.infinity||e.NaN||e.negative||e.imaginary||e.integer===!1)&&(e.prime=!1),e.number&&e.prime&&(e.composite=!1),e)}function cn(t){if(!t)return{};const e=t.domainExpression,i={};return t.isSubdomainOf("Number")?(i.number=!0,e==="Integer"&&(i.integer=!0),e==="RationalNumber"&&(i.rational=!0),e==="AlgebraicNumber"&&(i.algebraic=!0),e==="TranscendentalNumber"&&(i.algebraic=!1,i.real=!0),e==="ExtendedRealNumber"&&(i.extendedReal=!0),e==="RealNumber"&&(i.real=!0),e==="ImaginaryNumber"&&(i.imaginary=!0),e==="ExtendedComplexNumber"&&(i.extendedComplex=!0),e==="ComplexNumber"&&(i.complex=!0)):(i.number=!1,i.integer=!1,i.rational=!1,i.algebraic=!1,i.real=!1,i.extendedReal=!1,i.complex=!1,i.extendedComplex=!1,i.imaginary=!1,i.positive=!1,i.nonPositive=!1,i.negative=!1,i.nonNegative=!1,i.zero=!1,i.notZero=!1,i.one=!1,i.negativeOne=!1,i.infinity=!1,i.NaN=!1,i.odd=!1,i.even=!1,i.prime=!1,i.composite=!1),rs(Lu(i))}function Ja(t){return rs({number:(t=t.canonical).isNumber,integer:t.isInteger,rational:t.isRational,algebraic:t.isAlgebraic,real:t.isReal,extendedReal:t.isExtendedReal,complex:t.isComplex,extendedComplex:t.isExtendedComplex,imaginary:t.isImaginary,positive:t.isPositive,nonPositive:t.isNonPositive,negative:t.isNegative,nonNegative:t.isNonNegative,zero:t.isZero,notZero:t.isNotZero,one:t.isOne,negativeOne:t.isNegativeOne,infinity:t.isInfinity,NaN:t.isNaN,finite:t.isFinite,even:t.isEven,odd:t.isOdd,prime:t.isPrime,composite:t.isComposite})}class Au{constructor(e,i){var n,r;this._engine=e,this._def=i,this.scope=e.context,this.name=i.name,this.constant=(n=i.constant)!==null&&n!==void 0&&n,this.hold=(r=i.hold)===null||r===void 0||r,this._purge()}_purge(){var e,i,n,r;this._value=(e=this._value)===null||e===void 0?void 0:e._purge();const a=this._def,o=this._engine,l=rs({description:a.description,wikidata:a.wikidata,number:a.number,integer:a.integer,rational:a.rational,algebraic:a.algebraic,real:a.real,extendedReal:a.extendedReal,complex:a.complex,zero:a.zero,notZero:a.notZero,one:a.one,negativeOne:a.negativeOne,infinity:a.infinity,NaN:a.NaN,finite:a.finite,even:a.even,odd:a.odd,prime:a.prime,composite:a.composite});if("value"in a&&typeof a.value=="number"){const d=o.number(a.value);let p;const h=a.domain?o.domain(a.domain):void 0;return p=h&&d.valueDomain.isSubdomainOf(h)?h:d.valueDomain,this._value=d,this._domain=p,this.setProps(Ja(d)),this.setProps(cn(p)),void this.setProps(l)}let s,u;if(ts(a.value)?s=o.parse(a.value):typeof a.value=="function"?s=o.box((i=a.value(o))!==null&&i!==void 0?i:"Undefined"):a.value&&(s=o.box(a.value)),!s&&a.hold===!1)throw Error(`Symbol definition "${a.name}": Expected a value "hold=false" `);s=s==null?void 0:s.canonical;const c=a.domain?o.domain(a.domain):void 0;if(u=!c||s&&!s.valueDomain.isSubdomainOf(c)?(r=(n=s==null?void 0:s.valueDomain)!==null&&n!==void 0?n:o.defaultDomain)!==null&&r!==void 0?r:o.domain("Anything"):c,!s)return this._value=void 0,this._domain=u,this.setProps(cn(u)),void this.setProps(l);this._value=s,this._domain=u,this.setProps(Ja(s)),this.setProps(cn(u)),this.setProps(l)}get value(){return this._value}set value(e){if(this.constant)throw Error(`The value of the constant "${this.name}" cannot be changed`);typeof e=="number"&&(e=this._engine.box(e)),this._value=e,e&&this.setProps(Ja(e))}get domain(){return this._domain}set domain(e){var i;if(!e)return void(this._domain=void 0);e=this._engine.domain(e);const n=(i=this.value)===null||i===void 0?void 0:i.valueDomain;n&&!n.isSubdomainOf(e)&&(e=n),this._domain=e,this.setProps(cn(e))}updateFlags(e){this.setProps(Lu(e))}setProps(e){e.wikidata&&(this.wikidata=e.wikidata),e.description&&(this.description=e.description),e.number!==void 0&&(this._number=e.number),e.integer!==void 0&&(this._integer=e.integer),e.rational!==void 0&&(this._rational=e.rational),e.algebraic!==void 0&&(this._algebraic=e.algebraic),e.real!==void 0&&(this._real=e.real),e.extendedReal!==void 0&&(this._extendedReal=e.extendedReal),e.complex!==void 0&&(this._complex=e.complex),e.extendedComplex!==void 0&&(this._extendedComplex=e.extendedComplex),e.imaginary!==void 0&&(this._imaginary=e.imaginary),e.positive!==void 0&&(this._positive=e.positive),e.nonPositive!==void 0&&(this._nonPositive=e.nonPositive),e.negative!==void 0&&(this._negative=e.negative),e.nonNegative!==void 0&&(this._nonNegative=e.nonNegative),e.zero!==void 0&&(this._zero=e.zero),e.notZero!==void 0&&(this._notZero=e.notZero),e.one!==void 0&&(this._one=e.one),e.negativeOne!==void 0&&(this._negativeOne=e.negativeOne),e.infinity!==void 0&&(this._infinity=e.infinity),e.finite!==void 0&&(this._finite=e.finite),e.NaN!==void 0&&(this._NaN=e.NaN),e.even!==void 0&&(this._even=e.even),e.odd!==void 0&&(this._odd=e.odd),e.prime!==void 0&&(this._prime=e.prime),e.composite!==void 0&&(this._composite=e.composite)}get number(){return this._number}set number(e){this.updateFlags({number:e})}get integer(){return this._integer}set integer(e){this.updateFlags({integer:e})}get rational(){return this._rational}set rational(e){this.updateFlags({rational:e})}get algebraic(){return this._algebraic}set algebraic(e){this.updateFlags({algebraic:e})}get real(){return this._real}set real(e){this.updateFlags({real:e})}get extendedReal(){return this._extendedReal}set extendedReal(e){this.updateFlags({extendedReal:e})}get complex(){return this._complex}set complex(e){this.updateFlags({complex:e})}get extendedComplex(){return this._extendedComplex}set extendedComplex(e){this.updateFlags({extendedComplex:e})}get imaginary(){return this._imaginary}set imaginary(e){this.updateFlags({imaginary:e})}get positive(){return this._positive}set positive(e){this.updateFlags({positive:e})}get nonPositive(){return this._nonPositive}set nonPositive(e){this.updateFlags({nonPositive:e})}get negative(){return this._negative}set negative(e){this.updateFlags({negative:e})}get nonNegative(){return this._nonNegative}set nonNegative(e){this.updateFlags({nonNegative:e})}get zero(){return this._zero}set zero(e){this.updateFlags({zero:e})}get notZero(){return this._notZero}set notZero(e){this.updateFlags({notZero:e})}get one(){return this._one}set one(e){this.updateFlags({one:e})}get negativeOne(){return this._negativeOne}set negativeOne(e){this.updateFlags({negativeOne:e})}get infinity(){return this._infinity}set infinity(e){this.updateFlags({infinity:e})}get finite(){return this._finite}set finite(e){this.updateFlags({finite:e})}get NaN(){return this._NaN}set NaN(e){this.updateFlags({NaN:e})}get even(){return this._even}set even(e){this.updateFlags({even:e})}get odd(){return this._odd}set odd(e){this.updateFlags({odd:e})}get prime(){var e;if(this._prime===void 0&&((e=this._value)===null||e===void 0?void 0:e.isNumber))if(!this._value.isInteger||this._value.isNonPositive)this._prime=!1,this._composite=!1;else{const i=this._value.asFloat;i!==null?(this._prime=To(i),this._composite=!this._prime):(this._prime=void 0,this._composite=void 0)}return this._prime}set prime(e){this.updateFlags({prime:e})}get composite(){if(this._composite===void 0){const e=this.prime;this._composite=e===void 0?void 0:!e}return this._composite}set composite(e){this.updateFlags({composite:e})}}class nd{constructor(e,i){var n,r,a,o,l,s,u,c,d,p;const h=i.domain?typeof i.domain=="function"?i.domain:e.domain(i.domain):e.domain("Function"),f=(n=i.hold)!==null&&n!==void 0?n:"none",g=(r=i.idempotent)!==null&&r!==void 0&&r,w=(a=i.involution)!==null&&a!==void 0&&a;if(g&&w)throw Error(`Function Definition "${i.name}": the 'idempotent' and 'involution' flags are mutually exclusive in function `);this.name=i.name,this.description=i.description,this.wikidata=i.wikidata,this.scope=e.context,this.threadable=(o=i.threadable)!==null&&o!==void 0&&o,this.associative=(l=i.associative)!==null&&l!==void 0&&l,this.commutative=(s=i.commutative)!==null&&s!==void 0&&s,this.idempotent=g,this.involution=w,this.inert=(u=i.inert)!==null&&u!==void 0&&u,this.pure=(c=i.pure)===null||c===void 0||c,this.complexity=(d=i.complexity)!==null&&d!==void 0?d:1e5,this.hold=f,this.sequenceHold=(p=i.sequenceHold)!==null&&p!==void 0&&p,this.range=i.range,this.domain=h,this.canonical=i.canonical,this.simplify=i.simplify,this.evaluate=i.evaluate?typeof i.evaluate=="function"?i.evaluate:e.box(i.evaluate).canonical:void 0,this.N=i.N,this.evalDimension=i.evalDimension,this.sgn=i.sgn,this.compile=i.compile}_purge(){}}function rd(t,e){return new nd(t,e)}function Xt(t,e){const i=t.engine;return t.head==="Negate"&&e.head==="Negate"?Xt(t.op1,e.op1):t.head==="Negate"?Je(Xt(t.op1,e)):e.head==="Negate"?Je(Xt(t,e.op1)):t.head==="Add"?i.add(t.ops.map(n=>Xt(n,e))):e.head==="Add"?i.add(e.ops.map(n=>Xt(t,n))):i.mul([t,e])}function ta(t,e){if(e===1)return t;const i=Xt(t,t);return e===2?i:e%2==0?ta(i,e/2):Xt(ta(i,Math.round(e/2)-1),t)}function Cu(t="all"){if(t==="all")return Cu(["domains","core","collections","algebra","arithmetic","calculus","combinatorics","dimensions","linear-algebra","logic","numeric","other","physics","polynomials","relop","statistics","trigonometry","units"]);const e=[];for(const i of t){const n=ad[i];n&&Array.isArray(n)?e.push(...n):n&&e.push(n)}return e}const ad={arithmetic:Xc,core:Yc,collections:[{symbols:[{name:"EmptySet",domain:"Set",constant:!0,wikidata:"Q226183"}],functions:[{name:"Element",domain:"Predicate",complexity:11200},{name:"NotElement",domain:"Predicate",complexity:11200,canonical:(t,e)=>t.fn("Not",[t.fn("Element",e)])},{name:"Subset",domain:"Predicate",complexity:11200},{name:"NotSubset",domain:"Predicate",complexity:11200,canonical:(t,e)=>t.fn("Not",[t.fn("Subset",e)])},{name:"Superset",domain:"Predicate",complexity:11200},{name:"SupersetEqual",domain:"Predicate",complexity:11200},{name:"NotSuperset",domain:"Predicate",complexity:11200,canonical:(t,e)=>t.fn("Not",[t.fn("Superset",e)])},{name:"NotSupersetEqual",domain:"Predicate",complexity:11200,canonical:(t,e)=>t.fn("Not",[t.fn("SupersetEqual",e)])},{name:"SubsetEqual",domain:"Predicate",complexity:11200},{name:"NotSubsetNotEqual",domain:"Predicate",complexity:11200,canonical:(t,e)=>t.fn("Not",[t.fn("SubsetEqual",e)])},{name:"CartesianProduct",domain:["Function",["Some","Set"],"Set"],wikidata:"Q173740"},{name:"Complement",domain:["Function","Set","Set"],wikidata:"Q242767"},{name:"Intersection",domain:["Function",["Some","Set"],"Set"],wikidata:"Q185837",threadable:!0,associative:!0,commutative:!0,involution:!0,evaluate:function(t,e){return t.symbol("EmptySet")}},{name:"Union",domain:["Function",["Some","Set"],"Set"],wikidata:"Q185359",threadable:!0,associative:!0,commutative:!0,involution:!0,evaluate:function(t,e){return t.symbol("False")}},{name:"Set",domain:["Function",["Some","Anything"],"Set"]},{name:"SetMinus",domain:["Function","Set","Expresison","Set"],wikidata:"Q18192442",evaluate:function(t,e){return t.symbol("EmptySet")}},{name:"SymmetricDifference",domain:["Function",["Some","Set"],"Set"],wikidata:"Q1147242"}]},{functions:[{name:"Sequence"}]}],logic:Qc,relop:{functions:[{name:"Equal",domain:"RelationalOperator",commutative:!0,complexity:11e3,evaluate:(t,e)=>{if(e.length<2)return t.symbol("True");let i;for(const n of e)if(i){if(i.isEqual(n)===!1)return t.symbol("False")}else i=n;return t.symbol("True")}},{name:"NotEqual",wikidata:"Q28113351",commutative:!0,complexity:11e3,domain:"RelationalOperator",evaluate:(t,e)=>{if(e.length<2)return t.symbol("False");let i;for(const n of e)if(i){if(i.isEqual(n)===!0)return t.symbol("False")}else i=n;return t.symbol("True")}},{name:"Less",complexity:11e3,domain:"RelationalOperator",evaluate:(t,e)=>{if(e.length<2)return t.symbol("True");let i;for(const n of e){if(!n.isNumber)return;if(i){const r=t.fn("Subtract",[n,i]).N().sgn;if(r==null)return;if(r<=0)return t.symbol("False");i=n}else i=n}return t.symbol("True")}},{name:"NotLess",complexity:11e3,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("Less",e)])},{name:"Greater",complexity:11e3,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Less",e.reverse()),evaluate:(t,e)=>{if(e.length<2)return t.symbol("True");let i;for(const n of e){if(!n.isNumber)return;if(i){const r=t.fn("Subtract",[n,i]).N().sgn;if(r==null)return;if(r>=0)return t.symbol("False");i=n}else i=n}return t.symbol("True")}},{name:"NotGreater",complexity:11e3,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("Greater",e)])},{name:"LessEqual",complexity:11e3,domain:"RelationalOperator",evaluate:(t,e)=>{if(e.length<2)return t.symbol("True");let i;for(const n of e){if(!n.isNumber)return;if(i){const r=t.fn("Subtract",[n,i]).N().sgn;if(r==null)return;if(r<0)return t.symbol("False");i=n}else i=n}return t.symbol("True")}},{name:"NotLessNotEqual",complexity:11e3,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("LessEqual",e)])},{name:"GreaterEqual",complexity:11e3,domain:"RelationalOperator",canonical:(t,e)=>t._fn("LessEqual",e.reverse()),evaluate:(t,e)=>{if(e.length<2)return t.symbol("True");let i;for(const n of e){if(!n.isNumber)return;if(i){const r=t.fn("Subtract",[n,i]).N().sgn;if(r==null)return;if(r>0)return t.symbol("False");i=n}else i=n}return t.symbol("True")}},{name:"NotGreaterNotEqual",complexity:11e3,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("GreaterEqual",e)])},{name:"TildeFullEqual",description:"Indicate isomorphism, congruence and homotopic equivalence",domain:"RelationalOperator"},{name:"NotTildeFullEqual",complexity:11100,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("TildeFullEqual",e)])},{name:"TildeEqual",description:"Approximately or asymptotically equal",domain:"RelationalOperator",complexity:11e3},{name:"NotTildeEqual",complexity:11100,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("TildeEqual",e)])},{name:"Approx",complexity:11100,domain:"RelationalOperator"},{name:"NotApprox",complexity:11100,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("Approx",e)])},{name:"ApproxEqual",complexity:11100,domain:"RelationalOperator"},{name:"NotApproxEqual",complexity:11100,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("ApproxEqual",e)])},{name:"ApproxNotEqual",domain:"RelationalOperator",complexity:11100},{name:"NotApproxNotEqual",complexity:11100,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("ApproxNotEqual",e)])},{name:"Precedes",complexity:11100,domain:"RelationalOperator"},{name:"NotPrecedes",complexity:11100,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("Precedes",e)])},{name:"Succeeds",domain:"RelationalOperator"},{name:"NotSucceeds",complexity:11100,domain:"RelationalOperator",canonical:(t,e)=>t._fn("Not",[t._fn("Succeeds",e)])}]},polynomials:[{functions:[{name:"Expand",description:"Expand out products and positive integer powers",evaluate:(t,e)=>e[0]?function(i){if((i=i.simplify()).head==="Multiply")return i.nops===2?Xt(i.op1,i.op2):i.ops.reduce((n,r)=>Xt(n,r),i.engine.ONE);if(i.head==="Power"){const n=i.op1.head;if(n==="Multiply")return i.engine.mul(i.op1.ops.map(r=>i.engine.power(r,i.op2)));if(n==="Negate"){const r=i.op2.asSmallInteger;if(r!==null&&r>0)return r%2==0?i.engine.power(i.op1.op1,i.op2):i.engine.negate(i.engine.power(i.op1.op1,i.op2))}if(n==="Add"){const r=i.op2.asSmallInteger;if(r!==null)return r>0?ta(i.op1,r):i.engine.inverse(ta(i.op1,-r))}}return i}(e[0]):t.symbol("Nothing")}]}],physics:{symbols:[{name:"Mu-0",description:"Vaccum permeability",constant:!0,wikidata:"Q1515261",domain:"RealNumber",value:125663706212e-17}]},trigonometry:ed};function dl(t,e){if(typeof e!="object"||!("name"in e)||!e.name)throw Error("Missing name for definition "+JSON.stringify(e));if(!/[A-Za-z][A-Za-z0-9-]*/.test(e.name)&&e.name.length!==1)throw Error("Invalid definition name "+e.name)}function Eu(t,e){if(e===void 0)return;if(Array.isArray(e)){for(const n of e)Eu(t,n);return}t.context.dictionary||(t.context.dictionary={symbols:new Map,functions:new Map,symbolWikidata:new Map,functionWikidata:new Map});const i=t.context.dictionary;if(e.symbols)for(const n of e.symbols){dl(0,n);const r=new Au(t,n);if(n.wikidata){if(i.symbolWikidata.has(n.wikidata))throw Error(`Duplicate symbol with wikidata ${n.wikidata}, ${n.name} and ${i.symbolWikidata.get(n.wikidata).name}`);i.symbolWikidata.set(n.wikidata,r)}if(i.symbols.has(n.name))throw Error(`Duplicate symbol definition ${n.name}:
${JSON.stringify(i.symbols.get(n.name))}
${JSON.stringify(n)}`);i.symbols.set(n.name,r)}if(e.functions)for(const n of e.functions){dl(0,n);const r=rd(t,n);if(i.functions.has(n.name)?i.functions.set(n.name,[...i.functions.get(n.name),r]):i.functions.set(n.name,[r]),n.wikidata){if(i.functionWikidata.has(n.wikidata))throw Error(`Duplicate function with wikidata ${n.wikidata}, ${n.name} and ${i.functionWikidata.get(n.wikidata).name}`);i.functionWikidata.set(n.wikidata,r)}}}function zn(t){return Number.isInteger(t)?Math.floor(Math.log2(Math.abs(t))/Math.log2(10))+(t>0?1:2):2}const hl=function t(e){var i,n;if(e.symbol)return 1;if(e.isLiteral){if(e.isZero)return 1;if(e.isInteger&&e.asFloat!==null)return zn(e.asFloat);const[a,o]=e.rationalValue;if(a!==null&&o!==null)return zn(a)+zn(o)+1;if(e.complexValue){const l=e.complexValue;return zn(l.re)+zn(l.im)+1}if(e.isNumber)return 2}const r=e.head;return(typeof r=="string"?1:t(r))+((n=(i=e.ops)===null||i===void 0?void 0:i.reduce((a,o)=>a+t(o),0))!==null&&n!==void 0?n:0)};class Xn{constructor(e){this._items=e?e instanceof Xn?new Map(e._items):new Map(e):new Map}has(e){for(const i of this._items.keys())if(i.isSame(e))return!0;return!1}get(e){for(const[i,n]of this._items)if(i.isSame(e))return n}clear(){this._items.clear()}set(e,i){for(const n of this._items.keys())if(n.isSame(e))return void this._items.set(n,i);this._items.set(e,i)}delete(e){this._items.delete(e)}[Symbol.iterator](){return this._items.entries()}entries(){return this._items.entries()}}class Yn extends Tt{constructor(e,i,n){super(e,n),this._pattern=ts(i)?e.parse(i):e.box(i),this._pattern.isCanonical&&(this._canonicalPattern=this._pattern)}get hash(){return Et("Pattern")^this._pattern.hash}_purge(){var e;this._pattern._purge(),(e=this._canonicalPattern)===null||e===void 0||e._purge()}get json(){return he(this.engine,"Pattern",[this._pattern])}get head(){return"Pattern"}get valueDomain(){return this.engine.domain("Pattern")}get isCanonical(){return!0}set isCanonical(e){}isSame(e){return this===e||e instanceof Yn&&this._pattern.isSame(e._pattern)}isEqual(e){return e instanceof Yn&&this._pattern.isEqual(e._pattern)}match(e,i){var n,r;let a=this._pattern;return i!=null&&i.exact||(this._canonicalPattern||(this._canonicalPattern=this._pattern.canonical),a=this._canonicalPattern),function(o,l,s){var u;return Qi(o,l,{},{numericTolerance:(u=s==null?void 0:s.numericTolerance)!==null&&u!==void 0?u:1e-10})||null}(e,a,{recursive:(n=i==null?void 0:i.recursive)!==null&&n!==void 0&&n,numericTolerance:(r=i==null?void 0:i.numericTolerance)!==null&&r!==void 0?r:0})}test(e,i){return this.match(e,i)!==null}count(e,i){let n=0;for(const r of e)this.match(r,i)!==null&&(n+=1);return n}subs(e){return new Yn(this.engine,this._pattern.subs(e).canonical)}}function wr(t,e,i){const n=function(r){const a=r.match(/^__?_?([a-zA-Z0-9]+)/);return a===null?"":a[1]}(t);return n===""?i:i[n]?e.isSame(i[n])?i:null:(i[n]=e,i)}function Qi(t,e,i,n){const r=t.engine;if(e instanceof Ae)return t instanceof Ae?n.numericTolerance===0?e.isSame(t)?i:null:e.isEqualWithTolerance(t,n.numericTolerance)?i:null:null;const a=e.string;if(a!==null)return t.string===a?i:null;const o=e.symbol;if(o!==null)return o.startsWith("_")?wr(o,t,i):o===t.symbol?i:null;if(e.nops!==t.nops)return null;const l=e.keys;if(l!==null){const s=t.keys;if(s===null)return null;for(const u of l){const c=Qi(s[u],l[u],i,n);if(c===null)return null;i=c}return i}if(e.ops){const s=e.head;if(typeof s=="string"&&s.startsWith("_"))return wr(s,r.box(t.head),i);{const h=Qi(r.box(t.head),r.pattern(s),i,n);if(h===null)return null;i=h}const u=t.ops;let c={...i},d=0;const p=e.ops.map(h=>r.pattern(h));for(;d<e.nops;){const h=p[d],f=h.symbol;if(f!==null)if(f.startsWith("__")){let g=0;if(p[d+1]===void 0)g=u.length+1;else{let w=!1;for(;!w&&g<u.length;)w=Qi(u[g],p[d+1],i,n)!==null,g+=1;if(!w)return null}if(!f.startsWith("___")&&g<=1)return null;c=wr(f,r.fn("Sequence",u.splice(0,g-1)),c)}else if(f.startsWith("_"))c=wr(f,u.shift(),c);else{const g=Qi(u.shift(),h,i,n);if(g===null)return null;c={...c,...g}}else{const g=Qi(u.shift(),h,i,n);if(g===null)return null;c={...c,...g}}if(c===null)return null;d+=1}return c}return null}class fn extends Tt{constructor(e,i,n){if(super(e,n),this._name=i.normalize(),r=this._name,/[\u0000-\u0020\u0022\u0060\ufffe\uffff]/.test(r)||/^[\u0021\u0022\u0024-\u002e\u003a\u003f\u0040\u005b\u005d\u005e\u007b\u007d\u007e]$/.test(r[0]))throw Error(`The name "${this._name}" cannot be used as a symbol name`);var r;this._repairDefinition(),e._register(this)}get hash(){return this._hash===void 0&&(this._hash=Et(this._name)),this._hash}_purge(){var e;return(e=this._def)===null||e===void 0?void 0:e._purge()}get isPure(){var e,i,n;return(n=((e=this._def)===null||e===void 0?void 0:e.constant)&&((i=this._def.value)===null||i===void 0?void 0:i.isPure))!==null&&n!==void 0&&n}get isCanonical(){return!0}set isCanonical(e){}get wikidata(){var e,i,n;return(n=(e=this._wikidata)!==null&&e!==void 0?e:(i=this._def)===null||i===void 0?void 0:i.wikidata)!==null&&n!==void 0?n:""}get description(){return this._def&&this._def.description?typeof this._def.description=="string"?[this._def.description]:this._def.description:[]}get url(){var e,i;return(i=(e=this._def)===null||e===void 0?void 0:e.url)!==null&&i!==void 0?i:""}get complexity(){return 7}get head(){return"Symbol"}get symbol(){return this._name}get isMissing(){return this._name==="Missing"}get isLiteral(){return!1}get symbolDefinition(){return this._def}_repairDefinition(){if(this._name[0]==="_")return;let e;this._wikidata&&(e=this.engine.getSymbolDefinition("",this._wikidata)),e||(e=this.engine.getSymbolDefinition(this._name),e&&e.wikidata&&this._wikidata&&e.wikidata!==this._wikidata&&(e=void 0)),e?(this._name=e.name,this._def=e):this.engine.defaultDomain!==null?(this._def=this.engine.defineSymbol({name:this._name,wikidata:this._wikidata,domain:this.engine.defaultDomain,...cn(this.engine.defaultDomain)}),this._name=this._def.name):this._def=void 0}get value(){var e;return(e=this._def)===null||e===void 0?void 0:e.value}set value(e){var i,n;if(this._name[0]==="_")throw Error(`The value of the wildcard "${this._name}" cannot be changed`);let r;if(this.engine.forget(this._name),e!==void 0){const a=this.engine.box(e);r=(i=a.value)!==null&&i!==void 0?i:a.evaluate()}this._def?this._def.value=r:this._def=this.engine.defineSymbol({name:this._name,value:r,domain:(n=this.engine.defaultDomain)!==null&&n!==void 0?n:this.engine.domain("Anything")})}get numericValue(){var e,i;return(i=(e=this._def)===null||e===void 0?void 0:e.value)===null||i===void 0?void 0:i.numericValue}get domain(){var e,i,n;return typeof((e=this._def)===null||e===void 0?void 0:e.domain)=="function"?this.engine.domain(this._def.domain(this.engine,[])):(n=(i=this._def)===null||i===void 0?void 0:i.domain)!==null&&n!==void 0?n:this.engine.domain("Anything")}set domain(e){if(this._name[0]==="_")throw Error(`The domain of the wildcard "${this._name}" cannot be changed`);this._def?this._def.domain=e:this._def=this.engine.defineSymbol({name:this._name,domain:e,...cn(e)})}get json(){return ya(this.engine,this._name,{wikidata:this._wikidata})}get sgn(){var e,i,n,r;const a=(e=this.value)===null||e===void 0?void 0:e.sgn;return a!==void 0?a:((i=this._def)===null||i===void 0?void 0:i.zero)===!0?0:((n=this._def)===null||n===void 0?void 0:n.positive)===!0?1:((r=this._def)===null||r===void 0?void 0:r.negative)===!0?-1:void 0}has(e){return typeof e=="string"?this._name===e:e.includes(this._name)}isSame(e){return e instanceof fn&&this._name===e._name}match(e,i){return e instanceof fn&&this._name===e._name?{}:null}isEqual(e){var i;if(this===e)return!0;if(e.symbol!==null)return e.symbol===this._name;const n=(i=this._def)===null||i===void 0?void 0:i.value;if(n)return n.isEqual(e);if(e.isZero){if(this.isZero)return!0;if(this.isNotZero)return!1}return this.isZero&&e.isNotZero||this.engine.ask(["NotEqual",this,e]).length,!1}isLess(e){if(e.symbol!==null&&e.symbol===this._name)return!1;if(e.isZero){const i=this.sgn;if(i===null)return!1;if(i!==void 0)return i<0}}isLessEqual(e){if(e.symbol!==null&&e.symbol===this._name)return!0;if(e.isZero){const i=this.sgn;if(i===null)return!1;if(i!==void 0)return i<=0}return this.isLess(e)||this.isEqual(e)}isGreater(e){if(e.symbol!==null&&e.symbol===this._name)return!1;if(e.isZero){const i=this.sgn;if(i===null)return!1;if(i!==void 0)return i>0}}isGreaterEqual(e){if(e.symbol!==null&&e.symbol===this._name)return!0;if(e.isZero){const i=this.sgn;if(i===null)return!1;if(i!==void 0)return i>=0}return this.isGreater(e)||this.isEqual(e)}get isZero(){var e,i,n,r;return(i=(e=this._def)===null||e===void 0?void 0:e.zero)!==null&&i!==void 0?i:(r=(n=this._def)===null||n===void 0?void 0:n.value)===null||r===void 0?void 0:r.isZero}get isNotZero(){var e;const i=(e=this._def)===null||e===void 0?void 0:e.notZero;if(typeof i=="boolean")return i;const n=this.sgn;return typeof n=="number"?n!==0:void 0}get isOne(){var e;return(e=this._def)===null||e===void 0?void 0:e.one}get isNegativeOne(){var e;return(e=this._def)===null||e===void 0?void 0:e.negativeOne}get isOdd(){var e;return(e=this._def)===null||e===void 0?void 0:e.odd}get isEven(){var e;return(e=this._def)===null||e===void 0?void 0:e.even}get isPrime(){var e;return(e=this._def)===null||e===void 0?void 0:e.prime}get isComposite(){var e;return(e=this._def)===null||e===void 0?void 0:e.composite}get isInfinity(){var e;return(e=this._def)===null||e===void 0?void 0:e.infinity}get isNaN(){var e;return(e=this._def)===null||e===void 0?void 0:e.NaN}get isPositive(){var e;return(e=this._def)===null||e===void 0?void 0:e.positive}get isNonPositive(){var e;return(e=this._def)===null||e===void 0?void 0:e.nonPositive}get isNegative(){var e;return(e=this._def)===null||e===void 0?void 0:e.negative}get isNonNegative(){var e;return(e=this._def)===null||e===void 0?void 0:e.nonNegative}get isNumber(){var e;return(e=this._def)===null||e===void 0?void 0:e.number}get isInteger(){var e;return(e=this._def)===null||e===void 0?void 0:e.integer}get isRational(){var e;return(e=this._def)===null||e===void 0?void 0:e.rational}get isAlgebraic(){var e;return(e=this._def)===null||e===void 0?void 0:e.rational}get isReal(){var e;return(e=this._def)===null||e===void 0?void 0:e.real}get isExtendedReal(){var e;return(e=this._def)===null||e===void 0?void 0:e.extendedReal}get isComplex(){var e;return(e=this._def)===null||e===void 0?void 0:e.complex}get isImaginary(){var e;return(e=this._def)===null||e===void 0?void 0:e.imaginary}get canonical(){var e,i,n,r,a,o;return((e=this._def)===null||e===void 0?void 0:e.hold)===!1&&(o=(r=(n=(i=this._def)===null||i===void 0?void 0:i.value)===null||n===void 0?void 0:n.value)!==null&&r!==void 0?r:(a=this._def)===null||a===void 0?void 0:a.value)!==null&&o!==void 0?o:this}simplify(e){var i,n;const r=(e==null?void 0:e.rules)&&(i=this.replace(e.rules))!==null&&i!==void 0?i:this;if(((n=r.symbolDefinition)===null||n===void 0?void 0:n.hold)===!1){const a=r.value;if(a)return a.simplify(e)}return r}evaluate(e){var i,n,r,a;return((i=this.symbolDefinition)===null||i===void 0?void 0:i.hold)===!0?this:(a=(r=(n=this._def)===null||n===void 0?void 0:n.value)===null||r===void 0?void 0:r.evaluate(e))!==null&&a!==void 0?a:this}N(e){var i,n,r,a;const o=(i=this._def)===null||i===void 0?void 0:i.value;return(a=(r=(n=o==null?void 0:o.N(e))!==null&&n!==void 0?n:o==null?void 0:o.evaluate(e))!==null&&r!==void 0?r:o)!==null&&a!==void 0?a:this}replace(e,i){return _u(this,e,i)}subs(e){var i;return(i=e[this._name])!==null&&i!==void 0?i:this}}class Qt extends Tt{constructor(e,i,n){super(e,n),this._value=i}get domainExpression(){return this._value}get hash(){return this._hash===void 0&&(this._hash=Du(this._value)),this._hash}get isCanonical(){return!0}isEqual(e){return!1}isSame(e){return!1}isSubdomainOf(e){return function(i,n){const r=n instanceof Qt?n._value:n,a=i instanceof Qt?i._value:i;if(typeof a=="string"&&typeof r=="string"){const o=Ya(a,r);if(typeof o=="boolean")return o}return!0}(this,e)}isMemberOf(e){return!1}get json(){return typeof this._value=="string"?ya(this.engine,this._value,{wikidata:this._wikidata}):["Domain",this._value]}match(e,i){return e instanceof Qt&&this.isSame(e)?{}:null}get head(){return"Domain"}get domain(){return this.engine.domain("Domain")}get codomain(){return typeof this._value=="string"||this._value[0]!=="Function"?null:this.engine.domain(this._value[this._value.length-1])}is(e){return this.isSame(e)}get isNothing(){return this._value==="Nothing"}get isFunction(){return typeof this._value!="string"&&this._value[0]==="Function"}get isPredicate(){if(typeof this._value=="string"||this._value[0]!=="Function")return!1;const e=this._value[this._value.length];return e instanceof Qt&&e.isBoolean}get isNumericFunction(){if(typeof this._value=="string"||this._value[0]!=="Function")return!1;for(const e of this._value)if(!Ya(e,"Number"))return!1;return!0}get isBoolean(){return qn(this._value)}get isRealFunction(){if(typeof this._value=="string"||this._value[0]!=="Function")return!1;for(const e of this._value)if(!Ya(e,"ExtendedRealNumber"))return!1;return!0}get isNumeric(){return this.isSubdomainOf("Number")}get isLogicOperator(){return!(typeof this._value=="string"||this._value[0]!=="Function"||this._value.length<2||this._value.length>3||!qn(this._value[this._value.length-1])||!qn(this._value[1])||this._value.length===3&&!qn(this._value[2]))}get isRelationalOperator(){return typeof this._value!="string"&&this._value[0]==="Function"&&this._value.length===3&&!!qn(this._value[this._value.length-1])}}function Xa(t,e,i){if(e instanceof Qt)return e;let n;if(!n&&typeof e=="string"){const r={Function:["Function",["Optional",["Some","Anything"]],"Anything"],NumericFunction:["Function",["Optional",["Some","Number"]],"Number"],RealFunction:["Function",["Optional",["Some","ExtendedRealNumber"]],"ExtendedRealNumber"],TrigonometricFunction:["Function","Number","Number"],HyperbolicFunction:["Function","Number","Number"],LogicOperator:["Function","MaybeBoolean",["Optional","MaybeBoolean"],"MaybeBoolean"],Predicate:["Function",["Optional",["Some","Anything"]],"MaybeBoolean"],RelationalOperator:["Function","Anything","Anything","MaybeBoolean"]}[e];r&&(n=new Qt(t,r,i))}return n||(n=new Qt(t,e,i)),n}function Ya(t,e){var i,n;return typeof t=="string"&&((n=(i={Number:["Number","ExtendedComplexNumber","ExtendedRealNumber","ComplexNumber","ImaginaryNumber","RealNumber","TranscendentalNumber","AlgebraicNumber","RationalNumber","Integer","NegativeInteger","NegativeNumber","NonNegativeNumber","NonNegativeInteger","NonPositiveNumber","NonPositiveInteger","PositiveInteger","PositiveNumber"],ExtendedComplexNumber:["Number","ExtendedRealNumber","ComplexNumber","ImaginaryNumber","RealNumber","TranscendentalNumber","AlgebraicNumber","RationalNumber","Integer","NegativeInteger","NegativeNumber","NonNegativeNumber","NonNegativeInteger","NonPositiveNumber","NonPositiveInteger","PositiveInteger","PositiveNumber"],ExtendedRealNumber:["ExtendedRealNumber","RealNumber","TranscendentalNumber","AlgebraicNumber","RationalNumber","Integer","NegativeInteger","NegativeNumber","NonNegativeNumber","NonNegativeInteger","NonPositiveNumber","NonPositiveInteger","PositiveInteger","PositiveNumber"],ComplexNumber:["ComplexNumber","ImaginaryNumber"],ImaginaryNumber:["ImaginaryNumber"],RealNumber:["RealNumber","TranscendentalNumber","AlgebraicNumber","RationalNumber","Integer","NegativeInteger","NegativeNumber","NonNegativeNumber","NonNegativeInteger","NonPositiveNumber","NonPositiveInteger","PositiveInteger","PositiveNumber"],TranscendentalNumber:["TranscendentalNumber"],AlgebraicNumber:["AlgebraicNumber","RationalNumber","Integer","NegativeInteger","NonNegativeInteger","NonPositiveInteger","PositiveInteger"],RationalNumber:["RationalNumber","Integer","NegativeInteger","NonNegativeInteger","NonPositiveInteger","PositiveInteger"],Integer:["Integer","NegativeInteger","NonNegativeInteger","NonPositiveInteger","PositiveInteger"],NegativeNumber:["NegativeNumber","NegativeInteger"],NonNegativeNumber:["NonNegativeNumber","PositiveNumber","NonNegativeInteger","PositiveInteger"],NonPositiveNumber:["NonPositiveNumber","NegativeNumber","NegativeInteger"],PositiveNumber:["PositiveNumber","PositiveInteger"],NegativeInteger:["NegativeInteger"],PositiveInteger:["PositiveInteger"],NonNegativeInteger:["NonNegativeInteger","PositiveInteger"],NonPositiveInteger:["NegativeInteger"]}[e])===null||i===void 0?void 0:i.includes(t))!==null&&n!==void 0?n:void 0)}function qn(t){return typeof t=="string"&&["Boolean","MaybeBoolean","True","False","Maybe"].includes(t)}function Du(t){if(typeof t=="string")return Et("domain:"+t);let e="";for(const i of t)e+=""+Du(i);return Et(e)}class as{constructor(e){var i,n,r,a,o;this._cache={},this._commonSymbols={True:null,False:null,Maybe:null,All:null,Missing:null,Nothing:null,None:null,Undefined:null,Pi:null,ImaginaryUnit:null},this._commonNumbers={0:null,1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null,9:null,10:null},this._commonDomains={Anything:null,Nothing:null,Boolean:null,MaybeBoolean:null,String:null,Domain:null,Symbol:null,Integer:null,RationalNumber:null,AlgebraicNumber:null,RealNumber:null,ExtendedRealNumber:null,ImaginaryNumber:null,ComplexNumber:null,ExtendedComplexNumber:null,Number:null,PositiveInteger:null,TranscendentalNumber:null,PositiveNumber:null,Function:null,NumericFunction:null,RealFunction:null,TrigonometricFunction:null,HyperbolicFunction:null,LogicOperator:null,Predicate:null,RelationalOperator:null,Expression:null,BooleanExpression:null,NumericExpression:null},this._latexDictionary=e==null?void 0:e.latexDictionary,this._jsonSerializationOptions={exclude:[],shorthands:["function","symbol","string","dictionary","number"],metadata:[],repeatingDecimal:!0},this._stats={highwaterMark:0,symbols:new Set,expressions:new Set},this._defaultDomain=null,this._numericMode=(i=e==null?void 0:e.numericMode)!==null&&i!==void 0?i:"auto",this._precision=Math.max((n=e==null?void 0:e.numericPrecision)!==null&&n!==void 0?n:100,Math.floor(Rn)),this._decimal=_e.exports.Decimal.clone({precision:this._precision}),this.decimal=s=>new this._decimal(s),this.complex=(s,u)=>new ve.exports.Complex(s,u),this.tolerance=(r=e==null?void 0:e.tolerance)!==null&&r!==void 0?r:1e-10,this.ZERO=new Ae(this,0),this.ONE=new Ae(this,1),this.TWO=new Ae(this,2),this.HALF=new Ae(this,[1,2]),this.NEGATIVE_ONE=new Ae(this,-1),this.I=new Ae(this,ve.exports.Complex.I),this.NAN=new Ae(this,NaN),this.POSITIVE_INFINITY=new Ae(this,1/0),this.NEGATIVE_INFINITY=new Ae(this,-1/0),this.COMPLEX_INFINITY=new Ae(this,ve.exports.Complex.INFINITY),this.purge();const l=(a=e==null?void 0:e.dictionaries)!==null&&a!==void 0?a:as.getDictionaries();this.pushScope({dictionary:l,scope:{warn:s=>{for(const u of s)u.message},timeLimit:2,memoryLimit:1,recursionLimit:1024}}),(e==null?void 0:e.assumptions)===null?this.pushScope():this.pushScope({assumptions:e==null?void 0:e.assumptions});for(const s of Object.keys(this._commonDomains))this._commonDomains[s]&&!this._commonDomains[s].symbolDefinition&&this._commonDomains[s]._repairDefinition();for(const s of Object.keys(this._commonSymbols))this._commonSymbols[s]&&!this._commonSymbols[s].symbolDefinition&&this._commonSymbols[s]._repairDefinition();this._defaultDomain=(e==null?void 0:e.defaultDomain)===null?null:this.domain((o=e==null?void 0:e.defaultDomain)!==null&&o!==void 0?o:"ExtendedRealNumber")}static getDictionaries(e="all"){return Cu(e)}purge(){var e,i;this.DECIMAL_NEGATIVE_ONE=this.decimal(-1),this.DECIMAL_NAN=this.decimal(NaN),this.DECIMAL_ZERO=this.decimal(0),this.DECIMAL_ONE=this.decimal(1),this.DECIMAL_TWO=this.decimal(2),this.DECIMAL_HALF=this.DECIMAL_ONE.div(this.DECIMAL_TWO),this.DECIMAL_PI=this.DECIMAL_NEGATIVE_ONE.acos();const n=this._stats.symbols.values(),r=this._stats.expressions.values();this._stats.symbols=new Set,this._stats.expressions=new Set;for(const o of n)o._purge();for(const o of r)o._purge();for(const o of Object.values(this._commonDomains))o==null||o._purge();for(const o of Object.values(this._commonSymbols))o==null||o._purge();let a=this.context;for(;a;){if(!((e=a.dictionary)===null||e===void 0)&&e.functions)for(const[o,l]of a.dictionary.functions)for(const s of l)s._purge();if(!((i=a.dictionary)===null||i===void 0)&&i.symbols)for(const[o,l]of a.dictionary.symbols)l._purge();a=a.parentScope}for(const o of Object.keys(this._cache))this._cache[o].value&&(this._cache[o].purge?this._cache[o].value=this._cache[o].purge(this._cache[o].value):delete this._cache[o])}_register(e){this._stats.highwaterMark+=1}_unregister(e){}get stats(){const e=this._stats.expressions;return this._stats.expressions=null,this._stats.expressions=e,{...this._stats}}get precision(){return this._precision}set precision(e){const i=this._precision;e==="machine"&&(e=Math.floor(Rn)),e!==i&&(this._latexSyntax&&this.latexSyntax.updateOptions({precision:e,avoidExponentsInRange:[-6,e]}),this._precision=Math.max(e,Math.floor(Rn)),this._decimal=this._decimal.config({precision:this._precision}),this.purge())}get numericMode(){return this._numericMode}set numericMode(e){e!==this._numericMode&&(this._numericMode=e,e!=="complex"&&e!=="machine"||(this._precision=Math.floor(Rn)),this._latexSyntax&&this.latexSyntax.options.precision>this._precision&&this.latexSyntax.updateOptions({precision:this._precision}),this.purge())}get timeLimit(){let e=this.context;for(;e;){if(e.timeLimit!==void 0)return e.timeLimit;e=e.parentScope}return 2}get iterationLimit(){let e=this.context;for(;e;){if(e.iterationLimit!==void 0)return e.iterationLimit;e=e.parentScope}return 1024}get recursionLimit(){let e=this.context;for(;e;){if(e.recursionLimit!==void 0)return e.recursionLimit;e=e.parentScope}return 1024}get defaultDomain(){return this._defaultDomain}set defaultDomain(e){this._defaultDomain=e===null?null:this.domain(e)}get tolerance(){return this._tolerance}set tolerance(e){this._tolerance=typeof e=="number"&&Number.isFinite(e)?Math.max(e,0):1e-10,this._decimalTolerance=this.decimal(this._tolerance)}chop(e){return typeof e=="number"&&Math.abs(e)<=this._tolerance||e instanceof _e.exports.Decimal&&e.abs().lte(this._decimalTolerance)||e instanceof ve.exports.Complex&&Math.abs(e.re)<=this._tolerance&&Math.abs(e.im)<=this._tolerance?0:e}get latexSyntax(){return this._latexSyntax||(this._latexSyntax=new Yr({computeEngine:this,dictionary:this._latexDictionary,precision:this.precision,avoidExponentsInRange:[-6,this.precision],onError:e=>{throw Error(e[0].message.toString())}})),this._latexSyntax}static getLatexDictionary(e="all"){return Yr.getDictionary(e)}set costFunction(e){typeof e!="function"&&(this._cost=hl),this._cost=e}get costFunction(){var e;return(e=this._cost)!==null&&e!==void 0?e:hl}getSymbolDefinition(e,i){var n,r,a;let o,l=this.context;if(i)for(;l&&!o;)o=(n=l.dictionary)===null||n===void 0?void 0:n.symbolWikidata.get(i),l=l.parentScope;for(;l&&!o;)i&&(o=(r=l.dictionary)===null||r===void 0?void 0:r.symbolWikidata.get(i)),o||(o=(a=l.dictionary)===null||a===void 0?void 0:a.symbols.get(e)),l=l.parentScope;return o}getFunctionDefinition(e,i){var n,r;if(!i){let l=this.context;for(;l;){const s=(n=l.dictionary)===null||n===void 0?void 0:n.functions.get(e);if(s)return s[0];l=l.parentScope}return}const a=this.domain(["Function",...i==null?void 0:i.map(l=>l.domain.json)]);let o=this.context;for(;o;){const l=(r=o.dictionary)===null||r===void 0?void 0:r.functions.get(e);if(l){for(const s of l)if(s.domain){if(typeof s.domain=="function"){const u=this.domain(s.domain(this,i));if(u&&a.isSubdomainOf(u))return s}else if(a.isSubdomainOf(s.domain))return s}}o=o.parentScope}}defineSymbol(e){const i=new Au(this,e);return this.context.dictionary||(this.context.dictionary={symbols:new Map,functions:new Map,symbolWikidata:new Map,functionWikidata:new Map}),e.name&&this.context.dictionary.symbols.set(e.name,i),e.wikidata&&this.context.dictionary.symbolWikidata.set(e.wikidata,i),i}pushScope(e){var i;if(this.context={...e==null?void 0:e.scope,parentScope:this.context,assumptions:this.context?new Xn(this.context.assumptions):new Xn},Eu(this,e==null?void 0:e.dictionary),(e==null?void 0:e.assumptions)!==void 0)for(const n of e.assumptions)this.assume((i=this.parse(Jn(n)))!==null&&i!==void 0?i:n)}popScope(){var e;const i=(e=this.context)===null||e===void 0?void 0:e.parentScope;if(this.context.warnings){const n=[...this.context.warnings];this.context.warnings=[],this.context.warn&&this.context.warn(n)}i&&this.context.warnings&&this.context.warnings.length>0&&(i.warnings?i.warnings=[...i.warnings,...this.context.warnings]:i.warnings=[...this.context.warnings]),this.context=i}get assumptions(){return this.context.assumptions||(this.context.assumptions=new Xn),this.context.assumptions}shouldContinueExecution(){return this.deadline===void 0||this.deadline>=Date.now()}checkContinueExecution(){if(!this.shouldContinueExecution())throw Error("timeout")}assert(e,i,n,r){e||this.signal(i,n,r)}signal(e,i,n){typeof e=="object"&&"message"in e?n=e.message:e.latex,n===void 0||typeof n=="string"||Array.isArray(n)&&n.map(r=>r.toString()).join(", ")}cache(e,i,n){var r;if(this._cache[e]===void 0)try{this._cache[e]={build:i,purge:n,value:i()}}catch{}return(r=this._cache[e])===null||r===void 0?void 0:r.value}box(e){return yt(this,e)}fn(e,i,n){var r,a,o,l,s,u,c,d,p;if(e==="Hold")return this._fn("Hold",i,n);if(i=i.map(h=>h.canonical),e==="String")return this.string(i.map(h=>{var f;return(f=h.string)!==null&&f!==void 0?f:h.latex}).join(""),n);if(e==="Symbol")return this.symbol(i.map(h=>{var f;return(f=h.string)!==null&&f!==void 0?f:h.latex}).join(""),n);if((e==="Divide"||e==="Rational")&&i.length===2){const h=i[0].asSmallInteger,f=i[1].asSmallInteger;if(h!==null&&f!==null&&Number.isInteger(h)&&Number.isInteger(f))return this.number([h,f])}if(e==="Number"){if(i.length===1){const h=i[0],f=(a=(r=h.decimalValue)!==null&&r!==void 0?r:h.complexValue)!==null&&a!==void 0?a:h.machineValue;if(f!==null)return this.number(f);const[g,w]=h.rationalValue;if(g!==null&&w!==null)return this.number([g,w])}return this.NAN}if(e==="Complex"){if(i.length===1){const h=i[0].asFloat;return h!==null?this.number(this.complex(0,h)):this.mul([i[0],this.I])}if(i.length===2){const h=i[0].asFloat,f=i[1].asFloat;return h!==null&&f!==null&&this.number(this.complex(h,f)),f===0?i[0]:this.add([i[0],this.mul([i[1],this.I])],n)}}if(e==="Negate"&&i.length===1)return Je((o=i[0])!==null&&o!==void 0?o:this.symbol("Missing"),n);if(e==="Single"||e==="Pair"||e==="Triple"||e==="KeyValuePair")return this.tuple(i,n);if(e==="Dictionary"){const h={};for(const f of i)if(f.head==="Tuple"){const g=f.op1;if(!g.isMissing){f.op2;let w=(l=g.symbol)!==null&&l!==void 0?l:g.string;if(!w&&g.isLiteral){const k=(s=g.machineValue)!==null&&s!==void 0?s:g.asSmallInteger;k&&Number.isFinite(k)&&Number.isInteger(k)&&(w=k.toString())}w&&h[w]}}return new Ft(this,h,n)}return e==="Add"?this.add(i,n):e==="Multiply"?this.mul(i,n):e==="Divide"?this.divide((u=i[0])!==null&&u!==void 0?u:this.symbol("Missing"),(c=i[1])!==null&&c!==void 0?c:this.symbol("Missing"),n):e==="Power"?this.power((d=i[0])!==null&&d!==void 0?d:this.symbol("Missing"),(p=i[1])!==null&&p!==void 0?p:this.symbol("Missing"),n):new ti(this,e,i,n).canonical}_fn(e,i,n){const r=new ti(this,e,i,n);return r.isCanonical=!0,r}error(e,i,n){return this._fn("Error",[e,this.string(i),this.box(n)])}add(e,i){const n=qo(this,e);return i!=null&&i.latex&&(n.latex=i.latex),i!=null&&i.wikidata&&(n.wikidata=i.wikidata),n}mul(e,i){const n=Mu(this,e);return i!=null&&i.latex&&(n.latex=i.latex),i!=null&&i.wikidata&&(n.wikidata=i.wikidata),n}power(e,i,n){var r;let a=null;if(typeof i=="number"?a=i:Array.isArray(i)&&i[1]===1&&(a=i[0]),a===1)return e;if(a===-1&&e.isLiteral){const[o,l]=e.rationalValue;if(o!==null&&l!==null)return this.number([l,o]);const s=e.asSmallInteger;if(s!==null)return this.number([1,s])}return(typeof i=="number"||Array.isArray(i))&&(i=this.number(i)),(r=un(this,e,i,n))!==null&&r!==void 0?r:this._fn("Power",[e,i],n)}inverse(e,i){var n;let r=this.NEGATIVE_ONE;if(e.head==="Power"){if(e.op2.isNegativeOne)return e.op1;r=Je(e.op2),e=e.op1}return(n=un(this,e,r,i))!==null&&n!==void 0?n:this._fn("Power",[e,r],i)}negate(e,i){return Je(e,i)}divide(e,i,n){const r=Io(this,e,i);return n!=null&&n.latex&&(r.latex=n.latex),n!=null&&n.wikidata&&(r.wikidata=n.wikidata),r}pair(e,i,n){return this._fn("Tuple",[e,i],n)}tuple(e,i){return this._fn("Tuple",e,i)}string(e,i){return new vi(this,e,i)}symbol(e,i){if(e==="Infinity")return this.POSITIVE_INFINITY;if(e==="+Infinity")return this.POSITIVE_INFINITY;if(e==="-Infinity")return this.NEGATIVE_INFINITY;if(e==="Half")return this.HALF;let n=this._commonSymbols[e];return n?(i==null?void 0:i.wikidata)&&n.wikidata&&n.wikidata!==i.wikidata?new fn(this,e,i):n:n===null?(n=new fn(this,e),this._commonSymbols[e]=n,n):new fn(this,e,i)}domain(e,i){return e instanceof Qt?e:(e instanceof Tt&&e.symbol&&(e=e.symbol),typeof e=="string"&&(this._commonDomains[e]===null&&(this._commonDomains[e]=Xa(this,e,i)),this._commonDomains[e]&&this._commonDomains[e]),e instanceof Tt?Xa(this,"Anything"):Xa(this,e,i))}number(e,i){var n,r;if(Array.isArray(e)&&e[1]===1&&(e=e[0]),typeof e=="number"){if(e===-1)return this.NEGATIVE_ONE;if(this._commonNumbers[e]===null&&(this._commonNumbers[e]=(n=tl(this,e))!==null&&n!==void 0?n:null),this._commonNumbers[e])return this._commonNumbers[e]}return(r=tl(this,e,i))!==null&&r!==void 0?r:this.NAN}rules(e){return ku(this,e)}pattern(e){return new Yn(this,e)}parse(e){var i;return e===null?null:this.box(this.latexSyntax.parse((i=Jn(e))!==null&&i!==void 0?i:e))}serialize(e){return typeof e=="object"&&"json"in e?this.latexSyntax.serialize(e.json):this.latexSyntax.serialize(e)}get latexOptions(){return{...this.latexSyntax.options,...this.latexSyntax.serializer.options}}set latexOptions(e){this.latexSyntax.updateOptions(e)}get jsonSerializationOptions(){return this._jsonSerializationOptions}set jsonSerializationOptions(e){e.exclude&&(this._jsonSerializationOptions.exclude=[...e.exclude]),e.shorthands&&(e.shorthands==="all"||e.shorthands.includes("all")?this._jsonSerializationOptions.shorthands=["function","symbol","string","dictionary","number"]:this._jsonSerializationOptions.shorthands=[...e.shorthands]),e.metadata&&(e.metadata==="all"||e.metadata.includes("all")?this._jsonSerializationOptions.metadata=["latex","wikidata"]:this._jsonSerializationOptions.metadata=[...e.metadata])}ask(e){const i=this.pattern(e),n=[];for(const[r,a]of this.assumptions){const o=i.match(r,{numericTolerance:this._tolerance});o!==null&&a===!0&&n.push(o)}return n}assume(e,i){try{const n=Jn(e);let r=n?this.parse(n):this.box(e);return i&&(r=this.box(["Element",e,this.domain(i)])),"not-a-predicate"}catch{return"internal-error"}}forget(e){var i;if(e!==void 0){if(Array.isArray(e))for(const n of e)this.forget(n);else if(typeof e=="string"){(i=this.context.dictionary)===null||i===void 0||i.symbols.delete(e);for(const[n,r]of this.assumptions)ea(n).includes(e)&&this.assumptions.delete(n)}}else this.assumptions.clear()}}var ml='@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret-color,var(--ML__caret-color));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret-color,var(--ML__caret-color));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret-color,var(--ML__caret-color));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__container{--ML__selection-background-color:hsl(var(--hue,212),97%,85%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.1);--ML__contains-highlight-background-color:hsl(var(--hue,212),40%,95%);--ML__selection-color:currentColor;--ML__caret-color:hsl(var(--hue,212),40%,49%);--ML__smart-fence-color:currentColor;--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),40%,49%);align-items:flex-end;display:flex;flex-flow:row;isolation:isolate;justify-content:space-between;min-height:39px;touch-action:none;width:100%}@media (prefers-color-scheme:dark){.ML__container{--ML__selection-background-color:hsl(var(--hue,212),25%,45%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.2);--ML__contains-highlight-background-color:hsl(var(--hue,212),5%,34%);--ML__caret-color:hsl(var(--hue,212),60%,69%);--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),60%,69%)}}.ML__content{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{box-sizing:border-box;display:none}.ML__virtual-keyboard-toggle>span{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:var(--highlight-text,var(--ML__text-highlight-background-color))}.ML__smart-fence__close{color:var(--smart-fence-color,var(--ML__smart-fence-color));opacity:var(--smart-fence-opacity,.5)}.ML__focused .ML__selection{background:var(--selection-background-color-focused,var(--selection-background-color,var(--ML__selection-background-color)))!important}.ML__focused .ML__selected,.ML__focused .ML__selected .ML__contains-caret,.ML__focused .ML__selected .ML__placeholder,.ML__focused .ML__selected .ML__smart-fence__close{color:var(--selection-color-focused,var(--selection-color,var(--ML__selection-color)))!important}.ML__selection{background:var(--selection-background-color,var(--ML__selection-background-color))!important;box-sizing:border-box}.ML__selected,.ML__selected .ML__contains-caret,.ML__selected .ML__placeholder,.ML__selected .ML__smart-fence__close{color:var(--selection-color,var(--ML__selection-color));opacity:1}.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret>.ML__close,.ML__contains-caret>.ML__open{color:var(--caret-color,var(--ML__caret-color))}.ML__contains-highlight{background:var(--contains-highlight-backround-color,var(--ML__contains-highlight));box-sizing:border-box}.ML__latex{color:var(--latex-color,var(--ML__latex-color));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement=top]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;right:110%;text-align:center;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:16px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}';function hi(t){return typeof t=="number"&&!Number.isNaN(t)}function ia(t){return Array.isArray(t)&&t.length===2}function Tr(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}function pl(t){let e;if(t.treeBranch==="body")e={enclose:"cross out",leftright:"delimiter",surd:"square root",root:"math field",mop:"operator"}[t.type];else if(t.parent.type==="genfrac"){if(t.treeBranch==="above")return"numerator";if(t.treeBranch==="below")return"denominator"}else t.parent.type==="surd"?t.treeBranch==="above"&&(e="index"):t.treeBranch==="superscript"?e="superscript":t.treeBranch==="subscript"&&(e="subscript");return e!=null?e:"parent"}class od{constructor(e,i,n){this.options=e,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.mathfield=n,this.suppressChangeNotifications=!1,this.root=new V("root",n,{mode:e.mode}),this.root.body=[],this.setListeners(i)}get atoms(){return this.root.children}get selection(){return this._selection}set selection(e){this.setSelection(e)}setSelection(e,i){return this.deferNotifications({selection:!0},()=>{const n=this.normalizeSelection(e,i);if(n===void 0)throw new TypeError("Invalid selection");if(n.ranges.length===1&&n.ranges[0][0]===n.ranges[0][1]){const r=n.ranges[0][0];this._position=r,this._anchor=r,this._selection=n}else{const r=Dt(n);n.direction==="backward"?[this._position,this._anchor]=r:[this._anchor,this._position]=r;const a=this.at(r[0]+1),o=this.at(r[1]),l=V.commonAncestor(a,o);(l==null?void 0:l.type)==="array"&&a.parent===l&&o.parent,this._selection={ranges:[r],direction:n.direction}}})}getState(){return{content:this.root.toJson(),selection:this.selection}}setState(e,i){var n;const r=this.suppressChangeNotifications;this.suppressChangeNotifications=(n=i==null?void 0:i.suppressChangeNotifications)===null||n===void 0||n;let a={};(i==null?void 0:i.type)==="undo"&&(a={inputType:"historyUndo"}),(i==null?void 0:i.type)==="redo"&&(a={inputType:"historyRedo"}),Fe(this,a)&&(this.root=tn(e.content,this.mathfield),this.selection=e.selection,Ve(this,a)),this.suppressChangeNotifications=r}get position(){return this._position}set position(e){this.setSelection(e,e)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1&&this.at(Math.max(this._anchor,this._position)).type==="placeholder"}collapseSelection(e="forward"){return this._anchor!==this._position&&(this.position=e==="backward"?Math.min(this._anchor,this._position):Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(e){return this.atoms[e]}offsetOf(e){return this.atoms.indexOf(e)}getSiblingsRange(e){const i=this.at(e),{parent:n}=i;if(!n)return[0,this.lastOffset];const r=i.parent.branch(i.treeBranch);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getBranchRange(e,i){const n=this.at(e).branch(i);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getAtoms(e,i,n){var r,a;let o,l,s=n!=null?n:{};if(Tr(e)){if(s=(r=i)!==null&&r!==void 0?r:{},e.ranges.length>1)return e.ranges.reduce((p,h)=>[...p,...this.getAtoms(h,s)],[]);e=e.ranges[0]}if(hi(e)){if(o=e,!hi(i))return[];l=i}else[o,l]=e,s=(a=i)!==null&&a!==void 0?a:{};if(!Number.isFinite(o))return[];s.includeChildren===void 0&&(s.includeChildren=!1),o<0&&(o=this.lastOffset-o+1),l<0&&(l=this.lastOffset-l+1);const u=Math.min(o,l)+1,c=Math.max(o,l);if(u===1&&c===this.lastOffset)return[this.root];let d=[];for(let p=u;p<=c;p++){const h=this.atoms[p];fl(this,h,u,c)&&d.push(h)}return s.includeChildren||(d=d.filter(p=>{let h=!1,{parent:f}=p;for(;f&&!h;)h=fl(this,f,u,c),f=f.parent;return!h})),d}getAllAtoms(e){const i=[],n=this.lastOffset;for(let r=e;r<=n;r++)i.push(this.atoms[r]);for(let r=0;r<e;r++)i.push(this.atoms[r]);return i}extractAtoms(e){let i=this.getAtoms(e);i.length===1&&i[0].type==="root"&&(i=i[0].children);for(const n of i)n.parent.removeChild(n);return i}deleteAtoms(e){this.extractAtoms(e),this.position=e[0]}atomToString(e,i){const n=i!=null?i:"latex";if(n.startsWith("latex"))return Mt.serialize([e],{expandMacro:n==="latex-expanded",skipStyles:n==="latex-unstyled",defaultMode:this.mathfield.options.defaultMode});if(n==="math-ml")return ga(e,this.mathfield.options);if(n==="spoken")return hn(e,this.mathfield.options);if(n==="spoken-text"){const r=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="";const a=hn(e,this.mathfield.options);return this.mathfield.options.textToSpeechMarkup=r,a}if(n==="spoken-ssml"||n==="spoken-ssml-with-highlighting"){const r=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="ssml";const a=hn(e,this.mathfield.options);return this.mathfield.options.textToSpeechMarkup=r,a}if(n==="math-json")try{const r=this.mathfield.computeEngine.parse(V.serialize(e,{expandMacro:!1,defaultMode:"math"}));return JSON.stringify(r.json)}catch(r){return JSON.stringify(["Error","Nothing",`'${r.toString()}'`])}return n==="ascii-math"?Ie(e):""}getValue(e,i,n){if(e===void 0)return this.atomToString(this.root,"latex");if(typeof e=="string")return this.atomToString(this.root,e);let r,a;if(hi(e)&&hi(i)?(r=[this.normalizeRange([e,i])],a=n!=null?n:"latex"):ia(e)?(r=[this.normalizeRange(e)],a=i):Tr(e)?(r=e.ranges,a=i):(r=[],a="latex"),a.startsWith("latex")){const o={expandMacro:a==="latex-expanded",skipStyles:a==="latex-unstyled",defaultMode:this.mathfield.options.defaultMode};return Te(r.map(l=>V.serialize(this.getAtoms(l),o)))}return r.map(o=>this.getAtoms(o).map(l=>this.atomToString(l,a)).join("")).join("")}extendSelection(e){let i=this._anchor;if(e==="forward"){let r=this._position;do{let a=this.at(r+1);if(a!=null&&a.inCaptureSelection){for(;!a.captureSelection;)a=a.parent;r=this.offsetOf(a==null?void 0:a.lastChild)+1}else r+=1}while(r<=this.lastOffset&&this.at(r).isFirstSibling);return r===i-1&&this.at(i).type==="first"&&(r=i),this.extendSelectionTo(i,r)}let n=this._position-1;if(n<0)return!1;for(;n>=0&&this.at(n).isLastSibling;){let r=this.at(n);if(r!=null&&r.inCaptureSelection){for(;!r.captureSelection;)r=r.parent;n=this.offsetOf(r.firstChild)-1}else n-=1}return n<0&&(n=0),n===i+1&&this.at(n).type==="first"&&(i=n),this.extendSelectionTo(i,n)}extendSelectionTo(e,i){return this.deferNotifications({selection:!0},()=>{const n=this.normalizeRange([e,i]);let[r,a]=n,{parent:o}=this.at(a);if(o&&(o.type==="genfrac"||o.type==="msubsup"))for(;o!==this.root&&Qa(this,o,[r,a]);)a=this.offsetOf(o),o=o.parent;for(o=this.at(r).parent;o!==this.root&&Qa(this,o,[r,a]);)r=this.offsetOf(o.leftSibling),o=o.parent;if(o=this.at(a).parent,(o==null?void 0:o.type)==="genfrac")for(;o!==this.root&&Qa(this,o,[r,a]);)a=this.offsetOf(o),o=o.parent;this._position=this.normalizeOffset(i),this._selection={ranges:[[r,a]],direction:"none"}})}setListeners(e){this.listeners=e}announce(e,i,n=[]){var r,a;(a=(r=this.mathfield.host)===null||r===void 0?void 0:r.dispatchEvent(new CustomEvent("announce",{detail:{command:e,previousPosition:i,atoms:n},cancelable:!0,bubbles:!0,composed:!0})))===null||a===void 0||a||function(o,l,s,u){var c;let d="";l==="plonk"?((c=o.plonkSound)===null||c===void 0||c.play().catch(h=>{}),o.flushInlineShortcutBuffer()):l==="delete"?d=Hi(o.options,"deleted: ",u):l==="focus"||l.includes("move")?d=function(h,f){if(Number.isNaN(f))return"";const g=h.at(f);if(!g||g.treeDepth<=h.at(h.position).treeDepth)return"";let w="",k=g.parent;const _=h.at(h.position).parent;for(;k!==h.root&&k!==_;)w+=`out of ${pl(k)};`,k=k.parent;return w}(o.model,s)+(o.model.selectionIsCollapsed?"":"selected: ")+function(h,f){if(!h.selectionIsCollapsed)return Hi(f,"",h.getAtoms(h.selection));let g="";const w=h.at(h.position),k=pl(w);return w.isFirstSibling&&(g=(k?"start of "+k:"unknown")+": "),w.isLastSibling?w.isFirstSibling||(g+=k?"end of "+k:"unknown"):g+=Hi(f,"",w),g}(o.model,o.options):l==="replacement"?d=Hi(o.options,"",o.model.at(o.model.position)):l==="line"?(d=Hi(o.options,"",o.model.root),o.keyboardDelegate.setAriaLabel("after: "+d)):d=u?Hi(o.options,l+" ",u):l;const p=o.ariaLiveText.textContent.includes("\xA0")?" \u202F ":" \xA0 ";o.ariaLiveText.textContent=d+p}(this.mathfield,e,i,n)}deferNotifications(e,i){const n=this._selection,r=this._anchor,a=this._position,o=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;const l=this.root.changeCounter;i();const s=this.root.changeCounter!==l,u=r!==this._anchor||a!==this._position||function(c,d){if(c.direction===d.direction){const p=c.ranges.length;if(d.ranges.length===p){let h=0;for(;h<p&&gc(c.ranges[h],d.ranges[h])==="equal";)h++;return h===p?"equal":"different"}}return"different"}(this._selection,n)==="different";return this.suppressChangeNotifications=o,e.content&&s&&Ve(this,{data:e.data,inputType:e.type}),e.selection&&u&&tu(this),s||u}normalizeOffset(e){return e>0?e=Math.min(e,this.lastOffset):e<0&&(e=this.lastOffset+e+1),e}normalizeRange(e){let[i,n]=e;return i=this.normalizeOffset(i),n=this.normalizeOffset(n),i<n?[i,n]:[n,i]}normalizeSelection(e,i){var n;let r;if(hi(e)){const a=this.normalizeOffset(e);if(hi(i)){const o=this.normalizeOffset(i);r=a<=o?{ranges:[[a,o]],direction:"none"}:{ranges:[[o,a]],direction:"backward"}}else r={ranges:[[a,a]],direction:"none"}}else if(ia(e)){const a=this.normalizeOffset(e[0]),o=this.normalizeOffset(e[1]);r=a<=o?{ranges:[[a,o]],direction:"none"}:{ranges:[[o,a]],direction:"backward"}}else Tr(e)&&(r={ranges:e.ranges.map(a=>this.normalizeRange(a)),direction:(n=e.direction)!==null&&n!==void 0?n:"none"});return r}}function fl(t,e,i,n){const r=t.offsetOf(e);if(r<i||r>n)return!1;if(!e.hasChildren)return!0;const a=t.offsetOf(e.firstChild);if(a>=i&&a<=n){const o=t.offsetOf(e.lastChild);if(o>=i&&o<=n)return!0}return!1}function Qa(t,e,i){if(!(e!=null&&e.hasChildren))return!1;const[n,r]=i,a=t.offsetOf(e.firstChild),o=t.offsetOf(e.lastChild);return a>=n&&a<=r&&o>=a&&o<=r}function Tu(t){return!!Fe(t,{inputType:"insertText"})&&(Ve(t,{inputType:"insertText"}),!0)}function zu(t){return!!Fe(t,{inputType:"insertText"})&&(Ve(t,{inputType:"insertText"}),!0)}function In(t,e,i,n){var r,a,o,l,s,u;const c=i.parent;if(i instanceof tt){const d=!n&&e==="forward"||n==="body"&&e==="backward";let p=d?t.offsetOf(i.firstChild):t.offsetOf(i.lastChild);return d?i.rightDelim!=="?"&&i.rightDelim!=="."?(i.leftDelim=".",i.isDirty=!0):(c.addChildrenAfter(i.removeBranch("body"),i),c.removeChild(i),p--):i.leftDelim!=="?"&&i.leftDelim!=="."?(i.rightDelim=".",i.isDirty=!0):(c.addChildrenAfter(i.removeBranch("body"),i),c.removeChild(i),p--),t.position=p,!0}if(i.type==="surd"){if(e==="forward"&&!n||e==="backward"&&n==="body"){const d=i.leftSibling;i.hasChildren&&c.addChildrenAfter(i.removeBranch("body"),i),c.removeChild(i),t.position=t.offsetOf(d)}else e==="forward"&&n==="body"?t.position=t.offsetOf(i):n||e!=="backward"?n==="above"&&(i.hasEmptyBranch("above")&&i.removeBranch("above"),t.position=e==="backward"?t.offsetOf(i.leftSibling):t.offsetOf(i.body[0])):i.hasChildren?t.position=t.offsetOf(i.lastChild):(t.position=Math.max(0,t.offsetOf(i)-1),c.removeChild(i));return!0}if(i.type==="box"||i.type==="enclose"){const d=n&&e==="backward"||!n&&e==="forward"?i.leftSibling:i.lastChild;return c.addChildrenAfter(i.removeBranch("body"),i),c.removeChild(i),t.position=t.offsetOf(d),!0}if(i.type==="genfrac"||i.type==="overunder"){if(!n)return!(i.type==="overunder"&&i.hasEmptyBranch("body")||i.type==="genfrac"&&i.hasEmptyBranch("below")&&i.hasEmptyBranch("above")||(t.position=t.offsetOf(e==="forward"?i.firstChild:i.lastChild),0));const d=i.context.fractionNavigationOrder==="numerator-denominator"?"above":"below",p=d==="above"?"below":"above";if(e==="forward"&&n===d||e==="backward"&&n===p){const h=i.removeBranch(d),f=i.removeBranch(p);return c.addChildrenAfter([...h,...f],i),c.removeChild(i),t.position=t.offsetOf(h.length>0?h[h.length-1]:f[0]),!0}return e==="backward"?(t.position=t.offsetOf(i.leftSibling),!0):(t.position=t.offsetOf(i),!0)}if(i.isExtensibleSymbol||i.type==="msubsup"){if(!n&&e==="forward")return!1;if(!n){if(i.subscript||i.superscript){const d=e==="forward"?(a=(r=i.superscript)===null||r===void 0?void 0:r[0])!==null&&a!==void 0?a:(o=i.subscript)===null||o===void 0?void 0:o[0]:(s=(l=i.subscript)===null||l===void 0?void 0:l[0].lastSibling)!==null&&s!==void 0?s:(u=i.superscript)===null||u===void 0?void 0:u[0].lastSibling;return d&&(t.position=t.offsetOf(d)),!0}return!1}if(n&&i.hasEmptyBranch(n)&&i.removeBranch(n),!i.hasChildren){const d=e==="forward"?t.offsetOf(i):Math.max(0,t.offsetOf(i)-1);return i.parent.removeChild(i),t.position=d,!0}if(n==="superscript")if(e==="backward"){const d=t.offsetOf(i.firstChild)-1;t.position=d}else i.subscript?t.position=t.offsetOf(i.subscript[0]):t.position=t.offsetOf(i);else n==="subscript"&&(e==="backward"&&i.superscript?t.position=t.offsetOf(i.superscript[0].lastSibling):t.position=e==="backward"?t.offsetOf(i.firstChild)-1:t.offsetOf(i));return!0}return!1}function Kt(t,e,i){const n=t.getAtoms(e);if(n.length>0&&n[0].parent){let r=n[0].parent.firstChild;r.type==="first"&&(r=r.rightSibling);const a=n[n.length-1].parent.lastChild;let o=n[0];o.type==="first"&&(o=o.rightSibling);const l=n[n.length-1];if(o===r&&l===a){const s=n[0].parent;s.type!=="root"&&(e=[t.offsetOf(s.leftSibling),t.offsetOf(s.rightSibling)])}}return t.deferNotifications({content:!0,selection:!0,type:i},()=>t.deleteAtoms(e))}function qu(t,e){const i=t.at(e);let n;if(i){n=i.mode;let r=i.parent;for(;!n&&r;)r&&(n=r.mode),r=r.parent}return n}function mi(t,e){t&&e&&(Ze(t)?t.forEach(i=>mi(i,e)):typeof t=="object"&&(t.style.color||t.style.backgroundColor||t.style.fontFamily||t.style.fontShape||t.style.fontSeries||t.style.fontSize||t.style.variant||t.style.variantStyle||(t.applyStyle(e),mi(t.body,e),mi(t.above,e),mi(t.below,e),mi(t.subscript,e),mi(t.superscript,e))))}function Fo(t,e,i,n){function r(o,l){for(const s of a)if(s.style[o]!==l)return!1;return!0}if((e=t.normalizeRange(e))[0]===e[1])return!1;const a=t.getAtoms(e,{includeChildren:!0});n.operation==="toggle"&&(i.color&&r("color",i.color)&&(i.color="none",i.verbatimColor=void 0),i.backgroundColor&&r("backgroundColor",i.backgroundColor)&&(i.backgroundColor="none",i.verbatimBackgroundColor=void 0),i.fontFamily&&r("fontFamily",i.fontFamily)&&(i.fontFamily="none"),i.fontSeries&&r("fontSeries",i.fontSeries)&&(i.fontSeries="auto"),i.fontShape&&r("fontShape",i.fontShape)&&(i.fontShape="auto"),i.fontSize&&r("fontSize",i.fontSize)&&(i.fontSize=5));for(const o of a)o.applyStyle(i);return!0}function Oo(t,e,i){if(t.at(e).mode!=="text")return e;const n=i==="backward"?-1:1;let r;if(qr.test(t.at(e).value)){let a,o=e;do a=t.at(o).mode==="text"&&qr.test(t.at(o).value),o+=n;while(t.at(o)&&a);r=t.at(o)?o-2*n:o-n}else if(/\s/.test(t.at(e).value)){let a=e;for(;t.at(a)&&t.at(a).mode==="text"&&/\s/.test(t.at(a).value);)a+=n;if(t.at(a)){let o=!0;do o=t.at(a).mode==="text"&&!/\s/.test(t.at(a).value),a+=n;while(t.at(a)&&o);r=t.at(a)?a-2*n:a-n}else r=a-n}else{let a=e;for(;t.at(a)&&t.at(a).mode==="text"&&!/\s/.test(t.at(a).value);)a+=n;r=t.at(a)?a:a-n;let o=!0;for(;t.at(a)&&o;)o=t.at(a).mode==="text"&&/\s/.test(t.at(a).value),o&&(r=a),a+=n;r=t.at(a)?a-2*n:a-n}return r-(n>0?0:1)}function Xi(t,e,i){var n,r,a,o,l,s,u;const c=t.position;(n=i==null?void 0:i.extend)!==null&&n!==void 0&&n||t.collapseSelection(e);let d=t.at(t.position);if(e==="forward"&&(d.type==="msubsup"?(d=d.rightSibling,d||(d=t.at(t.position+1))):d=t.at(t.position+1)),!d)return t.announce("plonk"),!1;let p=t.offsetOf(d);if(d instanceof Oi)p=Oo(t,p,e);else if(d instanceof Oe)if(d.isSuggestion)for(;d&&d instanceof Oe;)d.isSuggestion=!1,p=t.offsetOf(d),d=d.rightSibling;else if(e==="forward"){if(d=d.rightSibling,!(d&&d instanceof Oe))return t.announce("plonk"),!1;for(;d&&d instanceof Oe&&/[a-zA-Z\*]/.test(d.value);)p=t.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!(d&&d instanceof Oe))return t.announce("plonk"),!1;for(;d&&d instanceof Oe&&/[a-zA-Z\*]/.test(d.value);)p=t.offsetOf(d),d=d.leftSibling}else if(e==="forward"&&d.type==="mopen"){let h=0;do d.type==="mopen"?h+=1:d.type==="mclose"&&(h-=1),d=d.rightSibling;while(!d.isLastSibling&&h!==0);p=t.offsetOf(d.leftSibling)}else if(e==="backward"&&d.type==="mclose"){let h=0;do d.type==="mopen"?h+=1:d.type==="mclose"&&(h-=1),d=d.leftSibling;while(!d.isFirstSibling&&h!==0);p=t.offsetOf(d)}else if(e==="backward")if(d.type==="first")for(;p>0&&d.type==="first";)p-=1,d=t.at(p);else{const h=d.type;d.type==="msubsup"&&(p=t.offsetOf(t.at(p).leftSibling)),p-=1;let f=(r=t.at(p))===null||r===void 0?void 0:r.type;for(;p>=0&&f===h;)((a=t.at(p))===null||a===void 0?void 0:a.type)==="msubsup"?p=t.offsetOf(t.at(p).leftSibling):p-=1,f=t.at(p).type}else{const{type:h}=d;let f=(o=t.at(p))===null||o===void 0?void 0:o.type;const{lastOffset:g}=t;for(;p<=g&&(f===h||f==="msubsup");){for(;((l=t.at(p).rightSibling)===null||l===void 0?void 0:l.type)==="msubsup";)p=t.offsetOf(t.at(p).rightSibling);p+=1,f=(s=t.at(p))===null||s===void 0?void 0:s.type}p-=1}if((u=i==null?void 0:i.extend)!==null&&u!==void 0&&u){if(!t.setSelection(t.anchor,p))return t.announce("plonk"),!1}else{if(p===t.position)return t.announce("plonk"),!1;t.position=p}return t.announce("move",c),!0}function Jt(t,e,i){var n,r,a,o;if(i=i!=null?i:{extend:!1},e!=="forward"){const[s,u]=iu(t);s!==void 0&&u!==void 0&&t.deleteAtoms([s,u])}if(e==="upward")return function(s,u){var c,d,p,h;const f=(c=u==null?void 0:u.extend)!==null&&c!==void 0&&c;f||s.collapseSelection("backward");let g=s.at(s.position);for(;g&&g.treeBranch!=="below"&&!(Array.isArray(g.treeBranch)&&g.parent instanceof Be);)g=g.parent;if(Array.isArray(g==null?void 0:g.treeBranch)&&g.parent instanceof Be){const w=g.parent,k=w.array[g.treeBranch[0]][g.treeBranch[1]].indexOf(g),_=Math.max(0,g.treeBranch[0]-1),M=w.array[_][g.treeBranch[1]],S=Math.min(M.length-1,k),I=s.offsetOf(M[S]);if(f){const[D,F]=s.selection.ranges[0];let R;R=I<D?{ranges:[[I,F]],direction:"backward"}:{ranges:[[D,I]],direction:"forward"},s.setSelection(R)}else Fn(s,I);s.announce("move up")}else{if(!g){let w=!0;return s.suppressChangeNotifications||(w=(h=(p=s.mathfield.host)===null||p===void 0?void 0:p.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))===null||h===void 0||h),s.announce(w?"plonk":"line"),w}if(f)s.setSelection(s.offsetOf(g.parent.leftSibling),s.offsetOf(g.parent));else{const w=(d=g.parent.branch("above"))!==null&&d!==void 0?d:g.parent.createBranch("above");Fn(s,s.offsetOf(w[w.length-1]))}s.announce("move up")}return!0}(t,i);if(e==="downward")return function(s,u){var c,d,p,h;const f=(c=u==null?void 0:u.extend)!==null&&c!==void 0&&c;f||s.collapseSelection("forward");let g=s.at(s.position);for(;g&&g.treeBranch!=="above"&&!(Array.isArray(g.treeBranch)&&g.parent instanceof Be);)g=g.parent;if(Array.isArray(g==null?void 0:g.treeBranch)&&g.parent instanceof Be){const w=g.parent,k=w.array[g.treeBranch[0]][g.treeBranch[1]].indexOf(g),_=Math.min(w.array.length-1,g.treeBranch[0]+1),M=w.array[_][g.treeBranch[1]],S=Math.min(M.length-1,k),I=s.offsetOf(M[S]);if(f){const[D,F]=s.selection.ranges[0];let R;R=I<F?{ranges:[[I,F]],direction:"backward"}:{ranges:[[D,I]],direction:"forward"},s.setSelection(R)}else Fn(s,I);s.announce("move down")}else{if(!g){let w=!0;return s.suppressChangeNotifications||(w=(h=(p=s.mathfield.host)===null||p===void 0?void 0:p.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))===null||h===void 0||h),s.announce(w?"plonk":"line"),w}if(f)s.setSelection(s.offsetOf(g.parent.leftSibling),s.offsetOf(g.parent));else{const w=(d=g.parent.branch("below"))!==null&&d!==void 0?d:g.parent.createBranch("below");Fn(s,s.offsetOf(w[w.length-1]))}s.announce("move down")}return!0}(t,i);const l=t.position;if(i.extend)return t.extendSelection(e);if(t.selectionIsPlaceholder)return t.collapseSelection(e),Jt(t,e);if(!t.collapseSelection(e)){let s=t.position+(e==="forward"?1:-1),u=t.at(s);if(s>=0&&s<=t.lastOffset){if(e==="forward")if(u.inCaptureSelection){for(;!u.captureSelection;)u=u.parent;s=t.offsetOf(u)}else if(!u.isFirstSibling&&u.isLastSibling&&((n=u.parent)===null||n===void 0?void 0:n.skipBoundary)){if(s+1!==t.lastOffset)return t.position=s,Jt(t,"forward",i);s+=1}else u instanceof Oe&&u.isSuggestion&&(u.isSuggestion=!1);else if(e==="backward")if(!((r=u.parent)===null||r===void 0)&&r.inCaptureSelection){for(;!u.captureSelection;)u=u.parent;s=Math.max(0,t.offsetOf(u.leftSibling))}else u.skipBoundary&&(s=Math.max(0,t.position-2))}if(s<0||s>t.lastOffset){let c=!0;return t.suppressChangeNotifications||(c=(o=(a=t.mathfield.host)===null||a===void 0?void 0:a.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))===null||o===void 0||o),c&&t.announce("plonk"),c}Fn(t,s)}return t.announce("move",l),!0}function Fn(t,e){var i,n,r;((i=t.at(e))===null||i===void 0?void 0:i.type)==="placeholder"?t.setSelection(e-1,e):((r=(n=t.at(e))===null||n===void 0?void 0:n.rightSibling)===null||r===void 0?void 0:r.type)==="placeholder"?t.setSelection(e,e+1):t.position=e}function Iu(t){const e=t.position,i=t.at(e).parent;return i&&i.type!=="root"?(t.position=t.offsetOf(i),t.announce("move",e),!0):(t.announce("plonk"),!1)}function gl(t){var e;if(t.collapseSelection(),function(n){let r=0,a=n.at(n.position),o=!1;for(;a;)a.hasEmptyBranch("superscript")&&a.hasEmptyBranch("subscript")||(r+=1),a.hasEmptyBranch("superscript")?a.hasEmptyBranch("subscript")||(o=!1):o=!0,a=a.parent;return o?r:0}(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let i=t.at(t.position);return i.subsupPlacement===void 0&&(((e=i.rightSibling)===null||e===void 0?void 0:e.type)!=="msubsup"&&i.parent.addChildAfter(new _n(t.mathfield,{style:i.computedStyle}),i),i=i.rightSibling),i.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(i.superscript[0]))),!0}function bl(t){var e;if(t.collapseSelection(),function(n){let r=0,a=n.at(n.position),o=!1;for(;a;)a.hasEmptyBranch("superscript")&&a.hasEmptyBranch("subscript")||(r+=1),a.hasEmptyBranch("superscript")?a.hasEmptyBranch("subscript")||(o=!0):o=!1,a=a.parent;return o?r:0}(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let i=t.at(t.position);return i.subsupPlacement===void 0&&(((e=t.at(t.position+1))===null||e===void 0?void 0:e.type)!=="msubsup"&&i.parent.addChildAfter(new _n(t.mathfield,{style:t.at(t.position).computedStyle}),i),i=t.at(t.position+1)),i.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(i.subscript[0]))),!0}function yl(t,e,i=!0){var n,r;const a=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&Jt(t,e);const o=t.getAllAtoms(Math.max(t.position+a,0));e==="backward"&&o.reverse();const l=o.filter(d=>d.type==="placeholder"||d.treeDepth>2&&d.isFirstSibling&&d.isLastSibling);if(l.length===0){if(!i||(r=(n=t.mathfield.host)===null||n===void 0?void 0:n.dispatchEvent(new CustomEvent("focus-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!==null&&r!==void 0&&!r)return t.announce("plonk"),!1;const d=function(){function h(g){return!((w=g).disabled||w.type==="hidden"&&w.tagName.toUpperCase()==="INPUT"||function(k){if(!me()||k===document.activeElement||k.contains(document.activeElement))return!1;if(getComputedStyle(k).visibility==="hidden")return!0;const _=k.getBoundingClientRect();if(_.width===0||_.height===0)return!0;for(;k;){if(getComputedStyle(k).display==="none")return!0;k=k.parentElement}return!1}(w)||function(k){return k.tagName.toUpperCase()==="INPUT"&&k.type==="radio"&&!function(_){var M;if(!_.name)return!0;const S=function(I,D){for(const F of I)if(F.checked&&F.form===D)return F;return null}(((M=_.form)!==null&&M!==void 0?M:_.ownerDocument).querySelectorAll('input[type="radio"][name="'+_.name+'"]'),_.form);return!S||S===_}(k)}(g)||f(g)<0);var w}function f(g){var w;const k=Number.parseInt((w=g.getAttribute("tabindex"))!==null&&w!==void 0?w:"NaN",10);return Number.isNaN(k)?g.contentEditable==="true"?0:g.nodeName!=="AUDIO"&&g.nodeName!=="VIDEO"||g.getAttribute("tabindex")!==null?g.tabIndex:0:k}return me()?function(g){const w=[],k=[];return[...g.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(h).forEach((_,M)=>{const S=f(_);S===0?w.push(_):k.push({documentOrder:M,tabIndex:S,node:_})}),k.sort((_,M)=>_.tabIndex===M.tabIndex?_.documentOrder-M.documentOrder:_.tabIndex-M.tabIndex).map(_=>_.node).concat(w)}(document.body):[]}();if(!document.activeElement||d.length===1)return t.announce("plonk"),!1;let p=d.indexOf(document.activeElement)+a;return!!(document.activeElement instanceof wt&&s(document.activeElement,e,a))||(p<0&&(p=d.length-1),p>=d.length&&(p=0),!!(d[p]instanceof wt&&s(d[p],e,a))||(d[p].focus(),p!==0||(t.announce("plonk"),!1)))}function s(d,p,h){var f,g,w;const k=[...(g=(f=d.shadowRoot)===null||f===void 0?void 0:f.querySelectorAll("math-field"))!==null&&g!==void 0?g:[]];if(k.length){const _=(w=d.shadowRoot)===null||w===void 0?void 0:w.activeElement,M=k.indexOf(_);let S=M+h;if(M<0&&p==="backward"&&(S=k.length-1),S>=0&&S<k.length)return k[S].focus(),!0}return!1}const u=t.position,c=t.offsetOf(l[0]);return l[0].type==="placeholder"?t.setSelection(c-1,c):t.position=c,t.announce("move",u),!0}function Fu(t){var e,i,n,r,a,o;if(qu(t,t.position)==="text"){let l=Math.min(t.anchor,t.position),s=Math.max(t.anchor,t.position),u=!1;for(;!u&&l>0;){const c=t.at(l);c.mode==="text"&&qr.test(c.value)?l-=1:u=!0}for(u=!1;!u&&s<=t.lastOffset;){const c=t.at(s);c.mode==="text"&&qr.test(c.value)?s+=1:u=!0}if(u&&(s-=1),l>=s)return t.setSelection(s-1,s),!0;t.setSelection(l,s)}else{const l=t.at(t.position);if(l.isDigit()){let s=Math.min(t.anchor,t.position),u=Math.max(t.anchor,t.position);for(;!((e=t.at(s))===null||e===void 0)&&e.isDigit();)s-=1;for(;!((i=t.at(u))===null||i===void 0)&&i.isDigit();)u+=1;t.setSelection(s,u-1)}else if(l.style.variant||l.style.variantStyle){let s=Math.min(t.anchor,t.position),u=Math.max(t.anchor,t.position),c=(n=t.at(s))===null||n===void 0?void 0:n.style;for(;c&&c.variant===l.style.variant&&c.variantStyle===l.style.variantStyle;)s-=1,c=(r=t.at(s))===null||r===void 0?void 0:r.style;for(c=(a=t.at(u))===null||a===void 0?void 0:a.style;c&&c.variant===l.style.variant&&c.variantStyle===l.style.variantStyle;)u+=1,c=(o=t.at(u))===null||o===void 0?void 0:o.style;t.setSelection(s,u-1)}else t.setSelection(t.offsetOf(l.firstSibling),t.offsetOf(l.lastSibling))}return!0}ht({addRowAfter:Tu,addColumnAfter:zu,addRowBefore:function(t){return!!Fe(t,{inputType:"insertText"})&&(Ve(t,{inputType:"insertText"}),!0)},addColumnBefore:function(t){return!!Fe(t,{inputType:"insertText"})&&(Ve(t,{inputType:"insertText"}),!0)}},{target:"model",category:"array-edit"}),ht({deleteAll:t=>Fe(t,{inputType:"deleteContent"})&&Kt(t,[0,-1],"deleteContent"),deleteForward:t=>function(e){return!!Fe(e,{inputType:"deleteContentForward"})&&(e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var i,n;let r=e.at(e.position).rightSibling;if(r&&In(e,"forward",r))return;if(r){if(e.at(e.position).isLastSibling&&In(e,"forward",r.parent,r.treeBranch))return}else{if(r=e.at(e.position),r.isLastSibling&&In(e,"forward",r.parent,r.treeBranch))return;r=null}if(e.position===e.lastOffset||!r)return void e.announce("plonk");r.parent.removeChild(r);let a=(i=e.at(e.position))===null||i===void 0?void 0:i.rightSibling;for(;(a==null?void 0:a.type)==="msubsup";)a.parent.removeChild(a),a=(n=e.at(e.position))===null||n===void 0?void 0:n.rightSibling;e.announce("delete",void 0,[r])}):Kt(e,Dt(e.selection),"deleteContentForward"))}(t),deleteBackward:t=>function(e){return!!Fe(e,{inputType:"deleteContentBackward"})&&(e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let i=e.at(e.position);if(!i||!In(e,"backward",i)){if(i!=null&&i.isFirstSibling){if(In(e,"backward",i.parent,i.treeBranch))return;i=null}i?(e.position=e.offsetOf(i.leftSibling),i.parent.removeChild(i),e.announce("delete",void 0,[i])):e.announce("plonk")}}):Kt(e,Dt(e.selection),"deleteContentBackward"))}(t),deleteNextWord:t=>Fe(t,{inputType:"deleteWordForward"})&&Kt(t,[t.anchor,Oo(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>Fe(t,{inputType:"deleteWordBackward"})&&Kt(t,[t.anchor,Oo(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>Fe(t,{inputType:"deleteSoftLineBackward"})&&Kt(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>Fe(t,{inputType:"deleteSoftLineForward"})&&Kt(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>Fe(t,{inputType:"deleteHardLineBackward"})&&Kt(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>Fe(t,{inputType:"deleteHardLineForward"})&&Kt(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",category:"delete"}),ht({moveToOpposite:t=>{const e=t.at(t.position),{parent:i}=e;if(!i)return t.announce("plonk"),!1;const n=e.treeBranch;let r;return typeof n=="string"&&(r={superscript:"subscript",subscript:"superscript",above:"below",below:"above"}[n]),r?(i.branch(r)||i.createBranch(r),t.setSelection(t.getBranchRange(t.offsetOf(i),r))):e.subsupPlacement?bl(t):gl(t)},moveBeforeParent:t=>{const{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>Iu(t),moveToNextPlaceholder:t=>yl(t,"forward"),moveToPreviousPlaceholder:t=>yl(t,"backward"),moveToNextChar:t=>Jt(t,"forward"),moveToPreviousChar:t=>Jt(t,"backward"),moveUp:t=>Jt(t,"upward"),moveDown:t=>Jt(t,"downward"),moveToNextWord:t=>Xi(t,"forward"),moveToPreviousWord:t=>Xi(t,"backward"),moveToGroupStart:t=>{const e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,!0)},moveToGroupEnd:t=>{const e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,!0)},moveToMathFieldStart:t=>t.position===0?(t.announce("plonk"),!1):(t.position=0,!0),moveToMathFieldEnd:t=>t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,!0),moveToSuperscript:t=>gl(t),moveToSubscript:t=>bl(t)},{target:"model",category:"selection-anchor"}),ht({selectGroup:t=>{const e=Fu(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>{const e=t.extendSelection("forward");return e||t.announce("plonk"),e},extendSelectionBackward:t=>{const e=t.extendSelection("backward");return e||t.announce("plonk"),e},extendToNextWord:t=>Xi(t,"forward",{extend:!0}),extendToPreviousWord:t=>Xi(t,"backward",{extend:!0}),extendSelectionUpward:t=>Jt(t,"upward",{extend:!0}),extendSelectionDownward:t=>Jt(t,"downward",{extend:!0}),extendToNextBoundary:t=>Xi(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>Xi(t,"backward",{extend:!0}),extendToGroupStart:t=>{const e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{const e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{const e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{const e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",category:"selection-extend"});const sd=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function vl(t){return!t.ctrlKey&&!t.metaKey&&t.key!=="Dead"&&(t.code===""||sd.has(t.code))}function xl(t){const e=[];return(t=function(i){if(!i.code){const n=Object.entries(er().mapping);let r=!1,a=!1,o="";for(let l=0;l<4;l++){for(const[s,u]of n)if(u[l]===i.key){o=s,l===3?(r=!0,a=!0):l===2?r=!0:l===1&&(a=!0);break}if(o)break}return new KeyboardEvent(i.type,{...i,altKey:r,shiftKey:a,code:o})}return new KeyboardEvent(i.type,i)}(t)).ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?"["+t.code+"]":(e.push("["+t.code+"]"),e.join("+"))}function eo(){var t;if(!me())return null;let e=document.activeElement;for(;!((t=e==null?void 0:e.shadowRoot)===null||t===void 0)&&t.activeElement;)e=e.shadowRoot.activeElement;return e}function Sr(t){var e;if(!t)return"";let i;return t.key==="Unidentified"&&t.target&&(i=t.target.value),i=(e=i!=null?i:t.key)!==null&&e!==void 0?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(i)&&(i=""),i}class ld{constructor(e){this.recording=!1,this.canCoalesce=!1,this.model=e,this.reset()}get maximumDepth(){return 1e3}reset(){this.stack=[],this.index=-1}startRecording(){this.recording=!0}canUndo(){return this.index>0}canRedo(){return this.index!==this.stack.length-1}undo(){return!!this.canUndo()&&(this.model.setState(this.stack[this.index-1],{suppressChangeNotifications:!1,type:"undo"}),this.index-=1,this.canCoalesce=!1,!0)}redo(){return!!this.canRedo()&&(this.index+=1,this.model.setState(this.stack[this.index],{suppressChangeNotifications:!1,type:"redo"}),this.canCoalesce=!1,!0)}pop(){this.canUndo()&&(this.index-=1,this.stack.pop())}snapshot(){return!!this.recording&&(this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),this.canCoalesce=!1,!0)}snapshotAndCoalesce(){if(!this.recording)return!1;this.canCoalesce&&this.pop();const e=this.snapshot();return this.canCoalesce=!0,e}}function Mr(t,e,i){typeof e=="function"&&(i=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,r=!1,a="";for(;!r;){const o=t.at(n);r=e===0||o===void 0||o.mode!=="math"||!(/mord|textord|mpunct/.test(o.type)||o.type==="mop"&&/[a-zA-Z]+/.test(o.value))||!o.hasEmptyBranch("superscript")||!o.hasEmptyBranch("subscript")||typeof i=="function"&&!i(o),r||(o.mode="text",o.command=o.value,o.verbatimLatex=void 0,a+=o.value),n-=1,e-=1}Ve(t,{data:a,inputType:"insertText"})}function Ni(t,e,i){typeof e=="function"&&(i=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,r=!1;const a=[];for(;!r;){const o=t.at(n);r=e===0||!o||o.isFirstSibling||o.mode!=="text"||o.value===" "||i&&!i(o),r||(a.push(o.serialize({defaultMode:"math"})),o.mode="math"),n-=1,e-=1}Po(t),Ve(t,{data:Te(a),inputType:"insertText"})}function Po(t){var e;let i=t.position-1;for(;i>=0&&((e=t.at(i))===null||e===void 0?void 0:e.mode)==="math";)i-=1;if(!(i<0)&&t.at(i).mode==="text"&&t.at(i).value===" "&&t.at(i-1).mode==="math"){t.at(i-1).parent.removeChild(t.at(i-1));const n=t.suppressChangeNotifications;t.suppressChangeNotifications=!0,t.position-=1,t.suppressChangeNotifications=n,Ve(t,{inputType:"deleteContent"})}}var kl="#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme=light]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme=dark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel>span{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}";let to,$o=null,Bo=null;function Ou(t){return t.keystrokeCaption||(t.keystrokeCaption=Gl("mathlive-keystroke-caption-panel"),to===void 0&&(to=ni(kl).toString(36)),$o=ii(null,kl,to),Bo=ii(null,Wt,ni(Wt).toString(36))),t.keystrokeCaption}function ud(t){if(!t||t.length>1)return null;const e=t[0];return e instanceof tt&&e.leftDelim==="("&&e.rightDelim===")"?e.removeBranch("body"):null}function na(t){if(t){for(let e=0;t[e];e++){const i=t[e];if(i instanceof tt&&i.leftDelim==="("){let n=0,r=0,a=0;for(let o=0;i.body[o];o++)i.body[o].type==="genfrac"&&(n++,r=o),a++;a===0&&n===1&&(t[e]=i.body[r])}}for(const e of t){for(const i of e.branches)if(!e.hasEmptyBranch(i)){na(e.branch(i));const n=ud(e.branch(i));n&&e.setChildren(n,i)}if(e instanceof Be)for(const i of e.cells)na(i)}}}function Pu(t){if(!t)return[];const e=[];for(const i of t){for(const n of i.branches)if(!i.hasEmptyBranch(n)){const r=Pu(i.branch(n));e.push(...r)}i instanceof xi&&e.push(i)}return e}function cd(t){return!!/^(mord|surd|msubsup|leftright|mop|mclose)$/.test(t.type)&&!t.isExtensibleSymbol&&!t.isFunction}function os(t,e,i){const n=t.at(t.position),{parent:r}=n;let a=r instanceof tt?r.leftDelim+r.rightDelim:"";if(a==="\\lbrace\\rbrace"&&(a="{}"),a==="\\{\\}"&&(a="{}"),a==="\\lparen\\rparen"&&(a="()"),a==="{}"&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(e))return Se.insert("math",t,"\\,\\middle"+e+"\\, ",{format:"latex",style:i}),!0;if(e!=="{"&&e!=="\\{"||(e="\\lbrace"),e!=="}"&&e!=="\\}"||(e="\\rbrace"),e==="["&&(e="\\lbrack"),e==="]"&&(e="\\rbrack"),Hn[e]){const l=r;if(l.type==="leftright"&&l.firstChild===n&&(l.leftDelim==="?"||l.leftDelim==="."))return l.leftDelim=e,l.isDirty=!0,!0;if(!(r instanceof tt&&r.leftDelim==="|")){if(Se.insert("math",t,`\\left${e}\\right?`,{format:"latex",style:i}),n.lastSibling.type!=="first"){const s=t.offsetOf(n.lastSibling),u=t.extractAtoms([t.position,s]);t.at(t.position).body=u,t.position-=1}return!0}}let o="";if(Object.keys(Hn).forEach(l=>{e===Hn[l]&&(o=l)}),o){if(r instanceof tt&&n.isLastSibling)return r.isDirty=!0,r.rightDelim=e,t.position+=1,Ve(t,{data:e,inputType:"insertText"}),!0;const l=t.offsetOf(n.firstSibling);let s;for(s=t.position;s>=l;s--){const d=t.at(s);if(d instanceof tt&&d.rightDelim==="?")break}const u=t.at(s);if(s>=l&&u instanceof tt)return u.rightDelim=e,u.addChildren(t.extractAtoms([s,t.position]),n.treeBranch),t.position=s,Ve(t,{data:e,inputType:"insertText"}),!0;if(r instanceof tt&&r.rightDelim==="?")return r.isDirty=!0,r.rightDelim=e,r.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(n.lastSibling)]),r.treeBranch),t.position=t.offsetOf(r),Ve(t,{data:e,inputType:"insertText"}),!0;const c=r.parent;return!!(c instanceof tt&&c.rightDelim==="?"&&t.at(t.position).isLastSibling)&&(t.position=t.offsetOf(c),os(t,e,i))}return!1}function $u(t,e,i){var n,r,a,o;const{model:l}=t;(function(f){var g,w;if(!f||f.key==="Unidentified"||f.key==="Dead")return;const k=f.shiftKey&&f.altKey?3:f.altKey?2:f.shiftKey?1:0;for(const _ of Rr)((g=_.mapping[f.code])===null||g===void 0?void 0:g[k])===f.key?_.score+=1:!((w=_.mapping[f.code])===null||w===void 0)&&w[k]&&(_.score=0);Rr.sort((_,M)=>M.score-_.score)})(i);const s=er();if(t.keyboardLayout!==s.id&&(t.keyboardLayout=s.id,t._keybindings=void 0),clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,function(f,g){if(f.options.readOnly||!f.keystrokeCaptionVisible)return;const w=Ou(f),k=f.element.getBoundingClientRect();w.style.left=`${k.left}px`,w.style.top=k.top-64+"px",w.innerHTML=f.options.createHTML("<span>"+(Uo(g)||g)+"</span>"+w.innerHTML),w.style.visibility="visible",setTimeout(()=>{w.childNodes.length>0&&w.childNodes[w.childNodes.length-1].remove(),w.childNodes.length===0&&(w.style.visibility="hidden")},3e3)}(t,e),i.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let u,c,d="";if(!t.options.readOnly){if(t.mode==="math"&&!i.ctrlKey&&!i.metaKey)if(e==="[Backspace]")t.inlineShortcutBuffer.pop(),t.flushInlineShortcutBuffer({defer:!0});else if(vl(i)){const f=Sr(i),g=((r=(n=t.inlineShortcutBuffer[t.inlineShortcutBuffer.length-1])===null||n===void 0?void 0:n.keystrokes)!==null&&r!==void 0?r:"")+f;t.inlineShortcutBuffer.push({state:l.getState(),keystrokes:g,leftSiblings:dd(t)});let w=0,k="";for(;!u&&w<g.length;){c=t.inlineShortcutBuffer.length-(g.length-w),k=g.slice(w);const _=t.inlineShortcutBuffer[c].leftSiblings;u=Zo(_,k,t.options.inlineShortcuts),!u&&/^[a-zA-Z][a-zA-Z0-9]+'?([_\^][a-zA-Z0-9\*\+\-]'?)?$/.test(k)&&(u=t.options.onInlineShortcut(t,k)),w+=1}t.flushInlineShortcutBuffer({defer:!0})}else t.flushInlineShortcutBuffer(),t.snapshot();if(t.options.smartMode){const f=t.mode;u?t.mode="math":function(g,w,k){if(g.smartModeSuppressed)return!1;const{model:_}=g;if(!_.at(_.position).isLastSibling||!k||!vl(k))return!1;const M=Sr(k);if(!_.selectionIsCollapsed)return!(g.mode!=="text"||!/[/_^]/.test(M));const S=function(I){let D="",F=I.position,R=!1;for(;!R;){const Q=I.at(F);R=!(Q&&(Q.mode==="text"||Q.mode==="math"&&/mord|textord|mpunct/.test(Q.type))),R||(D=Q.value+D),F-=1}return D}(_)+M;if(g.mode==="text"){if(w==="Esc"||/[/\\]/.test(M))return!0;if(/[\^_]/.test(M))return/(^|\s)[a-zA-Z][^_]$/.test(S)&&Ni(_,1),!0;const I={")":"(","}":"{","]":"["}[M],{parent:D}=_.at(_.position);if(I&&D instanceof tt&&D.leftDelim===I)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(S))return!1;if(/[$\u20ac\xa3\u20a4\u20ba\xa5\xa4\u0e3f\xa2\u20a1\u20a7\u20a8\u20b9\u20a9\u20b1]/u.test(M))return!0;if(/(^|[^a-zA-Z'\u2019])[a-zA-Z] $/.test(S))return Ni(_,1),!1;if(/\D\.[^\d\s]$/.test(S)){Ni(_,1);const F=_.at(_.position);return F.value="\u22C5",F.style.variant="normal",F.command="\\cdot",F.verbatimLatex=void 0,Ve(_,{data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(S)||/\.\d$/.test(S)||/\([\d+\-.]$/.test(S))return Ni(_,1),!0;if(/\([a-z][,;]$/.test(S))return Ni(_,2),!0;if(/[\d+\-=><*|]$/.test(M))return Po(_),!0}else{if(w==="[Space]")return Mr(_,void 0,I=>/[a-z][:,;.]$/.test(I.value)),!0;if(/[a-zA-Z]{3,}$/.test(S)&&!/(dxd|abc|xyz|uvw)$/.test(S))return Mr(_,void 0,I=>/[a-zA-Z]/.test(I.value)),!0;if(/(^|\W)(if)$/i.test(S))return Mr(_,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(S)&&!/(\u03b1\u03b2\u03b3)$/.test(S))return Mr(_,void 0,I=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(I.value)),!0;if(M==="?"||M==="."&&!/[\d-+]\.$/.test(S))return!0}return!1}(t,e,i)&&(t.mode={math:"text",text:"math"}[t.mode],d=""),t.mode!==f&&(!((a=t.host)===null||a===void 0)&&a.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))||(t.mode=f))}}if(!u){if(d||(d=function(f,g,w){if(f.length===0)return"";const k=Er(Kl(w));for(let _=f.length-1;_>=0;_--)if(f[_].key===k&&(!f[_].ifMode||f[_].ifMode===g))return f[_].command;return""}(t.keybindings,t.mode,e)),!d&&(e==="[Enter]"||e==="[Return]")){let f=!0;return Fe(l,{inputType:"insertLineBreak"})&&(t.host&&(f=t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),f||i.preventDefault&&(i.preventDefault(),i.stopPropagation()),Ve(l,{inputType:"insertLineBreak"})),f}if(t.mode==="math"){if(e==="[Space]"){if(t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return t.snapshot(),Se.insert("math",l,t.options.mathModeSpace,{format:"latex"}),d="",t.dirty=!0,t.scrollIntoView(),i.preventDefault&&(i.preventDefault(),i.stopPropagation()),!0;const f=l.at(l.position+1),g=l.at(l.position-1);(f==null?void 0:f.mode)!=="text"&&(g==null?void 0:g.mode)!=="text"||(t.snapshot(),Se.insert("text",l," "),t.dirty=!0)}((o=l.at(l.position))===null||o===void 0?void 0:o.isDigit())&&t.options.decimalSeparator===","&&Sr(i)===","&&(d="insertDecimalSeparator")}}if(!u&&!d)return!0;const p=l.at(Math.max(l.position,l.anchor)),{parent:h}=p;if(d==="moveAfterParent"&&(h==null?void 0:h.type)==="leftright"&&p.isLastSibling&&t.options.smartFence&&os(l,".",t.style)&&(d="",$e(t)),d)t.executeCommand(d);else if(u){t.keyboardDelegate.cancelComposition();const f={...l.at(l.position).computedStyle,...t.style};if(!/^\\({|}|\[|]|@|#|\$|%|&|\^|_|backslash)$/.test(u)){const g=t.mode;Se.insert(t.mode,l,Sr(i),{suppressChangeNotifications:!0,style:f}),t.snapshot(),l.setState(t.inlineShortcutBuffer[c].state),t.mode=g}l.deferNotifications({content:!0,selection:!0,data:u!=null?u:null,type:"insertText"},()=>(Se.insert(t.mode,l,u,{format:"latex",style:f}),Po(t.model),u.endsWith(" ")&&(t.mode="text",Se.insert("text",l," ",{style:f})),!0)),t.snapshot(),t.dirty=!0,l.announce("replacement")}return t.scrollIntoView(),i.preventDefault&&i.preventDefault(),!1}function Ko(t,e,i){var n;const{model:r}=t;if(t.options.readOnly)return void r.announce("plonk");if((i=i!=null?i:{}).focus&&t.focus(),i.feedback&&(t.options.keypressVibration&&Vo()&&navigator.vibrate(3),(n=t.keypressSound)===null||n===void 0||n.play().catch(console.warn)),typeof i.mode=="string"&&t.mode!==i.mode&&t.switchMode(i.mode),i.simulateKeystroke){const s=e.charAt(0),u=new KeyboardEvent("keypress",{key:s});if(!$u(t,s,u))return}const a=r.at(r.position),o={...a.computedStyle,...t.style};r.selectionIsCollapsed||(r.deleteAtoms(Dt(r.selection)),t.snapshot());const l=Cl(e);if(t.mode==="latex")r.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{Xo(t);for(const s of l)Se.insert("latex",r,s);Wr(t)});else if(t.mode==="text")for(const s of l)Se.insert("text",r,s,{style:o});else if(t.mode==="math")for(const s of l){let u={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[s];s===" "&&t.options.mathModeSpace&&(u=["insert",t.options.mathModeSpace]),u?t.executeCommand(u):/\d/.test(s)&&t.options.smartSuperscript&&a.treeBranch==="superscript"&&a.hasNoSiblings?(Se.insert("math",r,s,{style:o}),Iu(r)):(a.type==="mord"&&/[a-zA-Z]/.test(a.value)&&/[a-zA-Z]/.test(s)&&(a.style.variant&&(o.variant=a.style.variant),a.style.variantStyle&&(o.variantStyle=a.style.variantStyle)),Se.insert("math",r,s,{style:o}))}t.snapshotAndCoalesce(),t.dirty=!0,t.scrollIntoView()}function dd(t){const e=t.model,i=[];let n=e.at(Math.min(e.position,e.anchor));for(;n.type!=="first";)i.push(n),n=n.leftSibling;return i}function Bu(t,e){var i,n,r,a,o,l;const s={};typeof e.color=="string"&&(s.verbatimColor=e.color,s.color=(i=t.colorMap(e.color))!==null&&i!==void 0?i:"none"),typeof e.backgroundColor=="string"&&(s.verbatimBackgroundColor=e.backgroundColor,s.backgroundColor=(n=t.backgroundColorMap(e.backgroundColor))!==null&&n!==void 0?n:"none"),typeof e.fontFamily=="string"&&(s.fontFamily=e.fontFamily),typeof e.series=="string"&&(s.fontSeries=e.series),typeof e.fontSeries=="string"&&(s.fontSeries=e.fontSeries.toLowerCase()),s.fontSeries&&(s.fontSeries=(r={bold:"b",medium:"m",normal:"m"}[s.fontSeries])!==null&&r!==void 0?r:s.fontSeries),typeof e.shape=="string"&&(s.fontShape=e.shape),typeof e.fontShape=="string"&&(s.fontShape=e.fontShape.toLowerCase()),s.fontShape&&(s.fontShape=(a={italic:"it",up:"n",upright:"n",normal:"n"}[s.fontShape])!==null&&a!==void 0?a:s.fontShape);const u=(o=e.size)!==null&&o!==void 0?o:e.fontSize;return typeof u=="number"?s.fontSize=Math.max(1,Math.min(10,u)):typeof u=="string"&&(s.fontSize=(l={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[u.toLowerCase()])!==null&&l!==void 0?l:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[u]),s}new class extends Se{constructor(){super("math")}onPaste(t,e){if(!e.clipboardData||!Fe(t.model,{dataTransfer:e.clipboardData,inputType:"insertFromPaste"}))return!1;let i="",n="auto",r=e.clipboardData.getData("application/json+mathlive");if(r)try{const a=JSON.parse(r);if(a&&Array.isArray(a)){t.snapshot();const o=tn(a,t),{model:l}=t;l.selectionIsCollapsed||l.deleteAtoms(Dt(l.selection));const s=l.at(l.position);return s.parent.addChildrenAfter(o,s),l.position=l.offsetOf(o[o.length-1]),Ve(l,{inputType:"insertFromPaste"}),$e(t),e.preventDefault(),e.stopPropagation(),!0}}catch{}if(r=e.clipboardData.getData("application/json"),r)try{const a=JSON.parse(r);if(typeof a=="object"&&"latex"in a&&a.latex&&(i=a.latex),!i){const o=t.computeEngine.box(a);o.has("Error")||(i=o.latex)}i||(n="latex")}catch{}if(i||(i=e.clipboardData.getData("application/x-latex"),i&&(n="latex")),i||(i=e.clipboardData.getData("text/plain")),i){let a;return t.snapshot(),[a,i]=fo(i),n==="auto"&&a&&(n="latex"),this.insert(t.model,i,{format:n})&&$e(t),e.preventDefault(),e.stopPropagation(),!0}return!1}insert(t,e,i){const n=typeof e=="string"?e:t.mathfield.computeEngine.box(e).latex;if(!Fe(t,{data:n,inputType:"insertText"}))return!1;if(i.insertionMode||(i.insertionMode="replaceSelection"),i.selectionMode||(i.selectionMode="placeholder"),i.format||(i.format="auto"),t.mathfield.smartFence){if(t.selectionIsCollapsed&&typeof e=="string"&&os(t,e,i.style))return!0}else if(i.insertionMode!=="replaceAll"){const{parent:k}=t.at(t.position);if(k instanceof tt&&k.rightDelim==="?"&&t.at(t.position).isLastSibling&&typeof e=="string"&&/^[)}\]|]$/.test(e))return k.isDirty=!0,k.rightDelim=e,t.position+=1,tu(t),Ve(t,{data:n,inputType:"insertText"}),!0}const{suppressChangeNotifications:r}=t;i.suppressChangeNotifications&&(t.suppressChangeNotifications=!0);const a=t.suppressChangeNotifications;t.suppressChangeNotifications=!0;const o={};if(o[0]=i.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),o["?"]="\\placeholder{}",o["@"]=o["?"],i.insertionMode!=="replaceSelection"||t.selectionIsCollapsed?i.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):i.insertionMode==="insertBefore"?t.collapseSelection("backward"):i.insertionMode==="insertAfter"&&t.collapseSelection("forward"):t.deleteAtoms(Dt(t.selection)),t.at(t.position).isLastSibling||t.at(t.position+1).type!=="placeholder"?t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]):t.deleteAtoms([t.position,t.position+1]),o[0])o["@"]=o[0];else if(typeof e=="string"&&/(^|[^\\])#@/.test(e)){const k=function(_){let M=_.at(_.position);if(M.mode==="text"){for(;!M.isFirstSibling&&M.mode==="text";)M=M.leftSibling;return _.offsetOf(M)}const S=M,I=[];for(;!M.isFirstSibling&&(cd(M)||I.length>0);)M.type==="mclose"&&I.unshift(M.value),M.type==="mopen"&&I.length>0&&M.value===K0[I[0]]&&I.shift(),M=M.leftSibling;return S===M?-1:_.offsetOf(M)}(t);k>=0&&(o["@"]=t.getValue(k,t.position,"latex-unstyled"),t.deleteAtoms([k,t.position]))}o[0]||(o[0]=o["?"]);let l=!1;const[s,u]=function(k,_,M,S){var I;let D,F=[];return typeof _!="string"||S.format==="math-json"?([D,_]=["latex",k.mathfield.computeEngine.box(_).latex],F=mt(_,k.mathfield,{parseMode:"math"})):typeof _=="string"&&S.format==="ascii-math"?([D,_]=Vr(_,{format:"ascii-math",inlineShortcuts:k.mathfield.options.inlineShortcuts}),F=mt(_,k.mathfield,{parseMode:"math"}),D!=="latex"&&k.options.removeExtraneousParentheses&&na(F)):(S.format==="auto"||((I=S.format)===null||I===void 0?void 0:I.startsWith("latex")))&&(S.format==="auto"&&([D,_]=Vr(_,{format:"auto",inlineShortcuts:k.mathfield.options.inlineShortcuts})),S.format==="latex"&&([,_]=fo(_)),F=mt(_,k.mathfield,{parseMode:"math",args:M}),S.format!=="latex"&&k.options.removeExtraneousParentheses&&na(F)),mi(F,S.style),[D!=null?D:"latex",F]}(t,e,k=>(l=!0,o[k]),i);if(!u)return!1;const c=Pu(u),d=c.filter(k=>k.placeholderId&&!t.mathfield.placeholders.has(k.placeholderId)),p=c.map(k=>k.placeholderId);[...t.mathfield.placeholders.keys()].filter(k=>!p.includes(k)).forEach(k=>{var _;t.mathfield.placeholders.has(k)&&((_=t.mathfield.placeholders.get(k))===null||_===void 0||_.field.remove(),t.mathfield.placeholders.delete(k))}),d.forEach(k=>{var _,M;const S=new wt({virtualKeyboardMode:"onfocus",readOnly:!1,fontsDirectory:t.mathfield.options.fontsDirectory}),I=(_=t.mathfield.element)===null||_===void 0?void 0:_.querySelector(".ML__placeholdercontainer");S.value=!((M=k.defaultValue)===null||M===void 0)&&M.length?V.serialize(k.defaultValue,{defaultMode:"text"}):"",S.classList.add("nested-mathfield"),S.style.display="inline-block",S.style.zIndex="1001",S.style.position="absolute",S.style.minWidth="30px";const D=document.createElement("style");D.textContent=`.nested-mathfield { border: 1px solid black; }
          .ML__container{ min-height:auto !important; }
          `,S.appendChild(D),S.addEventListener("input",()=>{(function(F,R){!F.suppressChangeNotifications&&F.mathfield.host&&(F.suppressChangeNotifications=!0,F.mathfield.host.dispatchEvent(new CustomEvent("placeholder-change",{detail:{placeholderId:R},bubbles:!0,composed:!0})),F.suppressChangeNotifications=!1)})(t,k.placeholderId),setTimeout(()=>$e(t.mathfield))}),I==null||I.appendChild(S),t.mathfield.placeholders.set(k.placeholderId,{atom:k,field:S})});const{parent:h}=t.at(t.position);if(s!=="latex"&&t.options.removeExtraneousParentheses&&h instanceof tt&&h.leftDelim==="("&&h.hasEmptyBranch("body")&&u.length===1&&u[0].type==="genfrac"){const k=h.parent,_=h.treeBranch;k.removeChild(h),k.setChildren(u,_)}const f=h.hasEmptyBranch("body"),g=t.at(t.position);g.parent.addChildrenAfter(u,g),s==="latex"&&typeof e=="string"&&h.type==="root"&&f&&!l&&(h.verbatimLatex=e),t.suppressChangeNotifications=a;const w=u[u.length-1];if(i.selectionMode==="placeholder"){const k=u.reduce((_,M)=>[..._,...M.children.filter(S=>S.type==="placeholder")],[]);if(k.length>0){const _=t.offsetOf(k[0]);t.setSelection(_-1,_),t.announce("move")}else w&&(t.position=t.offsetOf(w))}else i.selectionMode==="before"||(i.selectionMode==="after"?w&&(t.position=t.offsetOf(w)):i.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(w)));return Ve(t,{data:n,inputType:"insertText"}),t.suppressChangeNotifications=r,!0}},ht({undo:t=>(mn(t,"accept"),t.undo(),!0),redo:t=>(mn(t,"accept"),t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{const e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},enterLatexMode:t=>(t.switchMode("latex"),!0),toggleKeystrokeCaption:function(t){return t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible?(t.keystrokeCaption=Ou(t),t.keystrokeCaption.innerHTML=""):t.keystrokeCaption&&(t.keystrokeCaption.style.visibility="hidden"),!1},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,i,n)=>(t.switchMode(e,i,n),!0),insert:(t,e,i)=>t.insert(e,i),typedText:(t,e,i)=>(Ko(t,e,i),!0),insertDecimalSeparator:t=>{if(t.mode==="math"&&t.options.decimalSeparator===","){const e=t.model;if(e.at(Math.max(e.position,e.anchor)).isDigit())return t.snapshot(),t.insert("{,}",{format:"latex"}),!0}return t.insert("."),!0},commit:t=>{var e;return(e=t.host)===null||e===void 0||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),!0}}),ht({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),document.execCommand("copy"),!1),cutToClipboard:t=>(t.focus(),document.execCommand("cut"),!0),pasteFromClipboard:t=>(t.focus(),document.execCommand("paste"),!0)},{target:"mathfield",category:"clipboard"}),ht({applyStyle:function(t,e){t.flushInlineShortcutBuffer();const i=Bu(t,e),{model:n}=t;return n.selectionIsCollapsed?(t.style.fontSeries&&i.fontSeries===t.style.fontSeries&&(i.fontSeries="auto"),i.fontShape&&i.fontShape===t.style.fontShape&&(i.fontShape="auto"),i.color&&i.color===t.style.color&&(i.color="none"),i.backgroundColor&&i.backgroundColor===t.style.backgroundColor&&(i.backgroundColor="none"),i.fontSize&&i.fontSize===t.style.fontSize&&(i.fontSize="auto"),t.style={...t.style,...i}):t.model.deferNotifications({content:!0,type:"insertText"},()=>{n.selection.ranges.forEach(r=>Fo(n,r,i,{operation:"toggle"})),t.snapshot()}),!0}},{target:"mathfield"});let io,no,Li=null,On=0;function Yi(t){return me()&&"TouchEvent"in globalThis&&t instanceof TouchEvent}function _l(t){return me()&&"PointerEvent"in globalThis&&t instanceof PointerEvent}function wl(t,e,i){if(t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom)return 0;const n=t-(i.left+i.right)/2,r=e-(i.top+i.bottom)/2;return n*n+r*r}function Ku(t,e,i,n,r){if(!i.id)return[1/0,null];if(e.has(i.id))return e.get(i.id);const a=ba(t,i);if(!a)return[1/0,null];let o=[i.type==="group"||i.type==="root"?1/0:wl(n,r,a),i];if(!i.captureSelection&&n>=a.left&&n<=a.right&&i.hasChildren){for(const l of i.children){const s=Ku(t,e,l,n,r);s[0]<=o[0]&&(o=s)}o[1]||(o=[wl(n,r,a),i])}return e.set(i.id,o),o}function hd(t,e,i){const[,n]=Ku(t,new Map,t.model.root,e,i);return n}function en(t,e,i,n){var r;const a=t.fieldContent.getBoundingClientRect();if(e>a.right||i>a.bottom+8)return t.model.lastOffset;if(e<a.left||i<a.top-8)return 0;(n=n!=null?n:{}).bias=(r=n.bias)!==null&&r!==void 0?r:0;let o=hd(t,e,i);const l=[];let s=o;for(;s;)l.unshift(s),s=s.parent;for(const c of l)if(c.captureSelection){o=c;break}let u=t.model.offsetOf(o);if(u<0)return-1;if(o.leftSibling)if(n.bias===0&&o.type!=="placeholder"){const c=ba(t,o);c&&e<(c.left+c.right)/2&&(u=t.model.offsetOf(o.leftSibling))}else n.bias<0&&(u=t.model.offsetOf(o.leftSibling));return u}new class extends Se{constructor(){super("text")}onPaste(t,e){if(!e.clipboardData)return!1;const i=e.clipboardData.getData("text/plain");return!(!i||!Fe(t.model,{inputType:"insertFromPaste",data:i})||(t.snapshot(),this.insert(t.model,i)&&(Ve(t.model,{inputType:"insertFromPaste"}),$e(t)),e.preventDefault(),e.stopPropagation(),0))}insert(t,e,i={}){if(!Fe(t,{data:e,inputType:"insertText"}))return!1;i.insertionMode||(i.insertionMode="replaceSelection"),i.selectionMode||(i.selectionMode="placeholder"),i.format||(i.format="auto");const{suppressChangeNotifications:n}=t;i.suppressChangeNotifications&&(t.suppressChangeNotifications=!0);const r=t.suppressChangeNotifications;t.suppressChangeNotifications=!0,i.insertionMode!=="replaceSelection"||t.selectionIsCollapsed?i.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):i.insertionMode==="insertBefore"?t.collapseSelection("backward"):i.insertionMode==="insertAfter"&&t.collapseSelection("forward"):t.deleteAtoms(Dt(t.selection));const a=function(s,u){return mt(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\&")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(/\xa3/g,"\\textsterling "),u,{parseMode:"text"})}(e,t.mathfield);if(mi(a,i.style),!a)return!1;const o=t.at(t.position),l=o.parent.addChildrenAfter(a,o);return t.suppressChangeNotifications=r,i.selectionMode==="before"||(i.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(l)):l&&(t.position=t.offsetOf(l))),Ve(t,{data:e,inputType:"insertText"}),t.suppressChangeNotifications=n,!0}};class md{constructor(e,i){var n,r,a;this.focusBlurInProgress=!1,this.stylesheets=[],this.options=_o({...wo(),registers:Rl(this)},i.readOnly?{...i,virtualKeyboardMode:"off"}:{plonkSound:"plonk.wav",keypressSound:{spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},...i}),this.options.virtualKeyboardMode==="auto"&&(this.options.virtualKeyboardMode=oo()?"onfocus":"off"),i.computeEngine&&(this._computeEngine=i.computeEngine),i.eventSink&&(this.host=i.eventSink),this.placeholders=new Map,this.plonkSound=this.options.plonkSound,this.options.keypressSound?!this.options.keypressSound||typeof this.options.keypressSound=="string"||this.options.keypressSound instanceof HTMLAudioElement||(this.keypressSound=this.options.keypressSound.default,this.spacebarKeypressSound=this.options.keypressSound.spacebar,this.returnKeypressSound=this.options.keypressSound.return,this.deleteKeypressSound=this.options.keypressSound.delete):(this.keypressSound=null,this.spacebarKeypressSound=null,this.returnKeypressSound=null,this.deleteKeypressSound=null),this.element=e,e.mathfield=this;let o=(n=i.value)!==null&&n!==void 0?n:this.element.textContent;o&&(o=o.trim()),Wo(this.options.fontsDirectory),io||(io=ni(Wt).toString(36)),this.stylesheets.push(ii(e,Wt,io)),no||(no=ni(ml).toString(36)),this.stylesheets.push(ii(e,ml,no));let l="<span class=ML__textarea>";if(oo()?l+="<span class=ML__textarea__textarea tabindex=-1 role=textbox></span>":l+=`<textarea class=ML__textarea__textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none aria-hidden="true" tabindex="${(r=e.tabIndex)!==null&&r!==void 0?r:0}"></textarea>`,l+="</span>",l+='<span part="container" class="ML__container"><span part="content" class="ML__content"></span>',l+=`<div part='virtual-keyboard-toggle' class="ML__virtual-keyboard-toggle" role="button" data-ML__tooltip="${$n("tooltip.toggle virtual keyboard")}">`,l+=(a=this.options.virtualKeyboardToggleGlyph)!==null&&a!==void 0?a:su,l+="</div>",l+="<div class='ML__placeholdercontainer'></div>",l+="</span>",l+='<div class="ML__sr-only"><span aria-role="status" aria-live="assertive" aria-atomic="true"></span><span></span></div>',this.element.innerHTML=this.options.createHTML(l),!this.element.children)return;let s=0;const u=this.element.children[s++].firstElementChild;this.field=this.element.children[s].children[0],s++,this.virtualKeyboardToggle=this.element.querySelector(".ML__virtual-keyboard-toggle"),this.ariaLiveText=this.element.children[s].children[0],this.accessibleNode=this.element.children[s++].children[1],this.keystrokeCaptionVisible=!1,this.popoverVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.mode=Ba(this.options),this.smartModeSuppressed=!1,this.style={},this.options.readOnly||this.options.virtualKeyboardMode!=="manual"?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),this.options.readOnly?this.element.classList.add("ML__isReadOnly"):this.element.classList.remove("ML__isReadOnly"),this.options.defaultMode==="inline-math"?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.element.querySelector(".ML__content").addEventListener("click",c=>c.stopImmediatePropagation(),{capture:!1}),this.field.addEventListener("wheel",this,{passive:!1}),qi(c=>this.executeCommand(c),this.virtualKeyboardToggle,{default:"toggleVirtualKeyboard",alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.blurred=!0,Qe(this.element,"focus",this),Qe(this.element,"blur",this),this.keyboardDelegate=function(c,d,p){let h,f=null,g=null,w=!1,k=!1,_=!1;function M(D){clearTimeout(h),h=setTimeout(()=>{clearTimeout(h),D()})}function S(){if(c.selectionStart!==c.selectionEnd)return;const D=c.value;c.value="",D.length>0&&p.typedText(D)}const I=c;return I.addEventListener("keydown",D=>{w||D.key==="Process"||D.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(D.code)?f=null:(f=D,g=null,p.keystroke(xl(D),D)?c.tagName.toLowerCase()!=="textarea"&&(p.typedText(D.key),D.preventDefault()):(f=null,c.value=""))},!0),I.addEventListener("keypress",D=>{w||(f&&g&&p.keystroke(xl(f),f),g=D,M(S))},!0),I.addEventListener("keyup",()=>{w||f&&!g&&S()},!0),I.addEventListener("paste",D=>{c.focus(),c.value="",p.paste(D)||D.preventDefault(),D.stopImmediatePropagation()},!0),I.addEventListener("cut",D=>p.cut(D),!0),I.addEventListener("copy",D=>p.copy(D),!0),I.addEventListener("blur",D=>{var F,R,Q;if(((R=(F=D.relatedTarget)===null||F===void 0?void 0:F._mathfield)===null||R===void 0?void 0:R.element)===d)return c.focus(),D.preventDefault(),void D.stopPropagation();const z=(Q=rn.scrim)===null||Q===void 0?void 0:Q.state;return z==="open"||z==="opening"||D.relatedTarget===D.target.getRootNode().host?(D.preventDefault(),void D.stopPropagation()):void(_||k||(_=!0,f=null,g=null,p.blur&&p.blur(),_=!1,D.stopPropagation()))},!0),I.addEventListener("focus",D=>{_||k||(k=!0,p.focus&&p.focus(),eo()===c&&typeof c.select=="function"&&c.select(),k=!1,D.stopPropagation())},!0),I.addEventListener("compositionstart",D=>{w=!0,c.value="",p.compositionStart&&p.compositionStart(D.data)},!0),I.addEventListener("compositionupdate",D=>{w&&p.compositionUpdate&&p.compositionUpdate(D.data)},!0),I.addEventListener("compositionend",D=>{c.value="",w&&(w=!1,p.compositionEnd&&p.compositionEnd(D.data))},!0),I.addEventListener("beforeinput",D=>{D.stopImmediatePropagation()}),I.addEventListener("input",D=>{if(!w&&D.inputType!=="insertCompositionText"){if(D.inputType==="insertFromPaste")return D.preventDefault(),void D.stopPropagation();M(S),D.preventDefault(),D.stopPropagation()}}),{cancelComposition:()=>{const D=p.blur,F=p.focus;p.blur=null,p.focus=null,c.blur(),c.focus(),p.blur=D,p.focus=F},blur:()=>{typeof c.blur=="function"&&c.blur()},focus:()=>{typeof c.focus=="function"&&c.focus()},hasFocus:()=>eo()===c,setValue:D=>{D?(c.value=D,eo()===c&&typeof c.select=="function"&&c.select()):(c.value="",c.setAttribute("aria-label",""))},setAriaLabel:D=>{c.setAttribute("aria-label","after: "+D)},moveTo:(D,F)=>{c.style.top=`${F}px`,c.style.left=`${D}px`}}}(u,this.element,{typedText:c=>Ko(this,c),cut:c=>{this.options.readOnly?this.model.announce("plonk"):Fe(this.model,{inputType:"deleteByCut"})&&(this.snapshot(),Se.onCopy(this,c),setTimeout(()=>{Kt(this.model,Dt(this.model.selection),"deleteByCut"),$e(this)},0))},copy:c=>Se.onCopy(this,c),paste:c=>{let d=!0;return this.options.readOnly&&(d=!1),d&&(d=Se.onPaste(this.model.at(this.model.position).mode,this,c)),d||this.model.announce("plonk"),d},keystroke:(c,d)=>$u(this,c,d),focus:()=>this.onFocus(),blur:()=>this.onBlur(),compositionStart:c=>this.onCompositionStart(c),compositionUpdate:c=>this.onCompositionUpdate(c),compositionEnd:c=>this.onCompositionEnd(c)}),me()&&"PointerEvent"in window?Qe(this.field,"pointerdown",this):Qe(this.field,"touchstart:active mousedown",this),Qe(window,"resize",this),window.addEventListener("blur",()=>{Ai(this)&&this.hasFocus()&&window.addEventListener("focus",c=>{c.target===window&&Ai(this)&&this.focus()},{once:!0})},{capture:!0}),this.model=new od({mode:Ba(this.options),macros:this.options.macros,removeExtraneousParentheses:this.options.removeExtraneousParentheses},{onSelectionDidChange:c=>this._onSelectionDidChange()},this),this.undoManager=new ld(this.model),o&&Se.insert("math",this.model,o,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0}),this.undoManager.startRecording(),this.undoManager.snapshot(),this.model.setListeners({onSelectionDidChange:c=>this._onSelectionDidChange()}),$e(this),me()&&document.fonts.ready.then(()=>Ti(this))}get colorMap(){return e=>{var i;let n;return typeof((i=this.options)===null||i===void 0?void 0:i.colorMap)=="function"&&(n=this.options.colorMap(e)),n||(n=ra(e)),n}}get backgroundColorMap(){return e=>{var i;let n;return typeof((i=this.options)===null||i===void 0?void 0:i.backgroundColorMap)=="function"&&(n=this.options.backgroundColorMap(e)),n||typeof this.options.colorMap!="function"||(n=this.options.colorMap(e)),n||(n=jo(e)),n}}get fractionNavigationOrder(){var e,i;return(i=(e=this.options)===null||e===void 0?void 0:e.fractionNavigationOrder)!==null&&i!==void 0?i:"numerator-denominator"}get placeholderSymbol(){var e,i;return(i=(e=this.options)===null||e===void 0?void 0:e.placeholderSymbol)!==null&&i!==void 0?i:"\u25A2"}get smartFence(){var e,i;return(i=(e=this.options)===null||e===void 0?void 0:e.smartFence)!==null&&i!==void 0&&i}get letterShapeStyle(){var e,i;return(i=(e=this.options)===null||e===void 0?void 0:e.letterShapeStyle)!==null&&i!==void 0?i:"tex"}get registers(){var e,i;return(i=(e=this.options)===null||e===void 0?void 0:e.registers)!==null&&i!==void 0?i:{}}getDefinition(e,i="math"){return Go(e,i)}getMacro(e){return jl(e,this.options.macros)}get virtualKeyboard(){var e;if(!this.options.readOnly)return this._virtualKeyboard||(((e=window.mathlive)===null||e===void 0?void 0:e.sharedVirtualKeyboard)||this.options.useSharedVirtualKeyboard?this._virtualKeyboard=new _c({targetOrigin:this.options.sharedVirtualKeyboardTargetOrigin,originValidator:this.options.originValidator,mathfield:this}):this._virtualKeyboard=new nu(this.options,this)),this._virtualKeyboard}get computeEngine(){return this._computeEngine||(this._computeEngine=new as,this.options.decimalSeparator===","&&(this._computeEngine.latexOptions.decimalMarker="{,}")),this._computeEngine}get virtualKeyboardState(){var e;return!((e=this.virtualKeyboard)===null||e===void 0)&&e.visible?"visible":"hidden"}set virtualKeyboardState(e){this.virtualKeyboard&&(e==="hidden"?this.virtualKeyboard.executeCommand("hideVirtualKeyboard"):e==="visible"&&this.virtualKeyboard.executeCommand("showVirtualKeyboard"))}get keybindings(){var e,i;if(this._keybindings)return this._keybindings;const[n,r]=function(a,o){const l=[],s=[];for(const u of a)try{const c=nc(u,o);if(c){const d=l.filter(p=>p.key===c.key&&p.ifMode===c.ifMode);if(d.length>0)throw new Error(`Ambiguous key binding ${u.key} (${bo(u.command)}) matches ${d[0].key} (${bo(d[0].command)}) with the ${o.displayName} keyboard layout`);l.push(c)}}catch(c){c instanceof Error&&s.push(c.message)}return[l,s]}(this.options.keybindings,(e=er())!==null&&e!==void 0?e:Vl);return((i=er())===null||i===void 0?void 0:i.score)>0&&(this._keybindings=n,r.length),n}setOptions(e){var i,n;if(this.options=_o(this.options,e),this._computeEngine&&"decimalSeparator"in e&&(this._computeEngine.latexOptions.decimalMarker=this.options.decimalSeparator===","?"{,}":"."),this.model.setListeners({onSelectionDidChange:a=>this._onSelectionDidChange()}),this.model.options.macros=this.options.macros,this._keybindings=void 0,this.plonkSound=this.options.plonkSound,!this.options.keypressSound||typeof this.options.keypressSound=="string"||this.options.keypressSound instanceof HTMLAudioElement||(this.keypressSound=this.options.keypressSound.default,this.spacebarKeypressSound=this.options.keypressSound.spacebar,this.returnKeypressSound=this.options.keypressSound.return,this.deleteKeypressSound=this.options.keypressSound.delete),this.options.defaultMode==="inline-math"?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.options.readOnly?(this.hasFocus()&&this.virtualKeyboardState==="visible"&&this.executeCommand("hideVirtualKeyboard"),this.onBlur(),this.element.classList.add("ML__isReadOnly")):this.element.classList.remove("ML__isReadOnly"),(i=this.virtualKeyboard)===null||i===void 0||i.setOptions(this.options),this.options.readOnly||this.options.virtualKeyboardMode!=="manual"?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),"virtualKeyboardToggleGlyph"in e){const a=(n=this.element)===null||n===void 0?void 0:n.querySelector(".ML__virtual-keyboard-toggle");a&&(a.innerHTML=this.options.createHTML(this.options.virtualKeyboardToggleGlyph))}const r=V.serialize(this.model.root,{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in e||this.model.getValue()!==r)&&Se.insert("math",this.model,r,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0}),$e(this)}getOptions(e){return pn(this.options,e)}getOption(e){return pn(this.options,e)}handleEvent(e){if(Ai(this))switch(e.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"touchstart":case"mousedown":case"pointerdown":(function(i,n){var r;i.atomBoundsCache=new Map;const a=i;let o,l=!1,s="none";if(_l(n)&&n.buttons>1)return;let u=!1,c=!1;const d=Yi(n)?n.touches[0].clientX:n.clientX,p=Yi(n)?n.touches[0].clientY:n.clientY,h=Date.now(),f=a.field,g=setInterval(()=>{u?f.scroll({top:0,left:f.scrollLeft-16}):c&&f.scroll({top:0,left:f.scrollLeft+16})},32);function w(M){me()&&("PointerEvent"in window?(It(f,"pointermove",k),It(f,"pointerup pointercancel",w),M instanceof PointerEvent&&f.releasePointerCapture(M.pointerId)):(It(f,"touchmove",k),It(f,"touchcancel touchend",w),It(window,"mousemove",k),It(window,"mouseup blur",w)),l=!1,clearInterval(g),i.element.classList.remove("tracking"),M&&M.preventDefault())}function k(M){if(!a.hasFocus())return void w(null);const S=Yi(M)?M.touches[0].clientX:M.clientX,I=Yi(M)?M.touches[0].clientY:M.clientY,D=Yi(M)||M.pointerType==="touch"?20:5;if(Date.now()<h+500&&Math.abs(d-S)<D&&Math.abs(p-I)<D)return M.preventDefault(),void M.stopPropagation();const F=f.getBoundingClientRect();c=S>F.right,u=S<F.left;let R=o;_l(M)?M.isPrimary||(R=en(a,M.clientX,M.clientY,{bias:0})):M.touches&&M.touches.length===2&&(R=en(a,M.touches[1].clientX,M.touches[1].clientY,{bias:0}));const Q=en(a,S,I,{bias:S<=d?S===d?0:-1:1});R>=0&&Q>=0&&(a.model.extendSelectionTo(R,Q),$e(i)),M.preventDefault(),M.stopPropagation()}Li&&Math.abs(Li.x-d)<5&&Math.abs(Li.y-p)<5&&Date.now()<Li.time+500?(On+=1,Li.time=h):(Li={x:d,y:p,time:h},On=1);const _=f.getBoundingClientRect();if(d>=_.left&&d<=_.right&&p>=_.top&&p<=_.bottom){if(i.hasFocus()||(s="all",i.focus({scrollIntoView:!1})),i.flushInlineShortcutBuffer(),i.smartModeSuppressed=!1,o=en(i,d,p,{bias:0}),o>=0){if(i.element.classList.add("tracking"),n.shiftKey){const M=i.model.selectionIsCollapsed;i.model.extendSelectionTo(i.model.anchor,o),s=Ts(i.model)||M?"all":"selection"}else i.model.at(o).type==="placeholder"?(i.model.setSelection(o-1,o),s="selection"):((r=i.model.at(o).rightSibling)===null||r===void 0?void 0:r.type)==="placeholder"?(i.model.setSelection(o,o+1),s="selection"):(i.model.position=o,s=Ts(i.model)?"all":"selection");i.style={},n.detail===3||On>2?(w(n),n.detail!==3&&On!==3||(i.model.selection={ranges:[[0,i.model.lastOffset]]},s="all")):l||(l=!0,me()&&"PointerEvent"in window?(Qe(f,"pointermove",k),Qe(f,"pointerup pointercancel",w),n instanceof PointerEvent&&f.setPointerCapture(n.pointerId)):(Qe(window,"blur",w),Yi(n)&&n.touches?(Qe(n.target,"touchmove",k),Qe(n.target,"touchcancel touchend",w)):(Qe(window,"mousemove",k),Qe(window,"mouseup",w))),n.detail!==2&&On!==2||(Fu(i.model),s="all"))}}else Li=null;s!=="none"&&(i.model.selectionIsCollapsed&&(s="all"),$e(i)),n.preventDefault()})(this,e);break;case"resize":this.resizeTimer&&cancelAnimationFrame(this.resizeTimer),this.resizeTimer=requestAnimationFrame(()=>Ai(this)&&this.onResize());break;case"wheel":this.onWheel(e)}}dispose(){if(!Ai(this))return;const e=this.element;delete this.element,delete e.mathfield,e.innerHTML=this.model.getValue(),It(e,"pointerdown",this),It(e,"touchstart:active mousedown",this),It(e,"focus",this),It(e,"blur",this),It(window,"resize",this),window.removeEventListener("blur",this,{capture:!0}),delete this.accessibleNode,delete this.ariaLiveText,delete this.field,delete this.fieldContent,this.virtualKeyboardToggle.remove(),delete this.virtualKeyboardToggle,this._virtualKeyboard&&(this._virtualKeyboard.dispose(),delete this._virtualKeyboard),Cs(this.popover),yo&&yo.release(),vo&&vo.release(),delete this.popover,Cs(this.keystrokeCaption),$o&&$o.release(),Bo&&Bo.release(),delete this.keystrokeCaption,this.stylesheets.forEach(i=>i==null?void 0:i.release())}flushInlineShortcutBuffer(e){if(e!=null||(e={defer:!1}),!e.defer)return this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),void(this.inlineShortcutBufferFlushTimer=0);this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(e){var i,n;return ir(e)==="virtual-keyboard"?(n=(i=this.virtualKeyboard)===null||i===void 0?void 0:i.executeCommand(e))!==null&&n!==void 0&&n:function(r,a){var o,l,s;if(!a)return!1;let u,c=[],d=!1,p=!1;Ze(a)?(u=a[0],c=a.slice(1)):u=a,u=u.replace(/-\w/g,f=>f[1].toUpperCase());const h=(o=yi[u])===null||o===void 0?void 0:o.target;if(h==="model"){if(r.options.readOnly&&/^(paste|cut|insert|delete|transpose|add)/.test(u))return r.model.announce("plonk"),!1;/^(delete|transpose|add)/.test(u)&&u!=="deleteBackward"&&r.flushInlineShortcutBuffer(),/^(delete|transpose|add)/.test(u)&&r.mode!=="latex"&&(r.popUndoStack(),r.snapshot()),r.mode!=="latex"||/^(complete)/.test(u)||Xo(r),yi[u].fn(r.model,...c),r.mode!=="latex"&&/^(delete|transpose|add)/.test(u)&&r.snapshot(),r.mode==="latex"&&Wr(r),p=!0,d=!0}else if(h==="virtual-keyboard")p=(s=(l=r.virtualKeyboard)===null||l===void 0?void 0:l.executeCommand(a))!==null&&s!==void 0&&s,d=!0;else{if(!yi[u])throw new Error(`Unknown command "${u}"`);/^(undo|redo)/.test(u)&&r.flushInlineShortcutBuffer(),p=yi[u].fn(r,...c),d=!0}return h!=="virtual-keyboard"&&(r.model.selectionIsCollapsed&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(u)||(r.flushInlineShortcutBuffer(),r.style={})),p&&$e(r),d}(this,e)}get errors(){return ql(this.model.getValue(),this)}getValue(e,i,n){return this.model.getValue(e,i,n)}setValue(e,i){var n;(i=i!=null?i:{mode:"math"}).insertionMode===void 0&&(i.insertionMode="replaceAll"),i.format!==void 0&&i.format!=="auto"||(i.format="latex");let r="math";i.mode!==void 0&&i.mode!=="auto"||(r=(n=qu(this.model,this.model.position))!==null&&n!==void 0?n:"math"),Se.insert(r,this.model,e,i)&&(this.undoManager.snapshot(),$e(this))}get expression(){const e=this.computeEngine;return e.box(e.parse(this.model.getValue()))}scrollIntoView(){var e;if(!this.element)return;(e=this.host)===null||e===void 0||e.scrollIntoView({block:"nearest",inline:"nearest"}),this.dirty&&Ti(this,{interactive:!0});const i=this.field.getBoundingClientRect();let n=null;if(this.model.selectionIsCollapsed)n=Zn(this.field);else{const r=Yl(this);if(r.length>0){let a=-1/0,o=-1/0;for(const l of r)l.right>a&&(a=l.right),l.top<o&&(o=l.top);n={x:a+i.left-this.field.scrollLeft,y:o+i.top-this.field.scrollTop,height:0}}}if(this.host&&n){const r=this.host.getBoundingClientRect(),a=n.y;let o=this.host.scrollTop;a<r.top?o=a-r.top+this.host.scrollTop:a>r.bottom&&(o=a-r.bottom+this.host.scrollTop+n.height),this.host.scroll({top:o,left:0})}if(n){const r=n.x-window.scrollX;let a=this.field.scrollLeft;r<i.left?a=r-i.left+this.field.scrollLeft-20:r>i.right&&(a=r-i.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:a})}}insert(e,i){var n;if(typeof e=="string"&&e.length>0){if(this.flushInlineShortcutBuffer(),(i=i!=null?i:{mode:"math"}).focus&&this.focus(),i.feedback&&(this.options.keypressVibration&&Vo()&&navigator.vibrate(3),(n=this.keypressSound)===null||n===void 0||n.play().catch(console.warn)),i.scrollIntoView&&this.scrollIntoView(),e==="\\\\")Tu(this.model);else if(e==="&")zu(this.model);else{const r=this.style;Se.insert(this.mode,this.model,e,{style:this.model.at(this.model.position).computedStyle,...i}),i.resetStyle&&(this.style=r)}return this.undoManager.snapshot(),$e(this),!0}return!1}switchMode(e,i="",n=""){var r;if(this.mode===e||this.options.readOnly||!(!((r=this.host)===null||r===void 0)&&r.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))))return;const a=this.mode,{model:o}=this;o.deferNotifications({content:Boolean(n)||Boolean(i),selection:!0,type:"insertText"},()=>{var l;let s=!1;if(this.flushInlineShortcutBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(e),i&&e!=="latex"){const u=mt(i,this,{parseMode:e});o.collapseSelection("forward");const c=o.at(o.position);o.position=o.offsetOf(c.parent.addChildrenAfter(u,c)),s=!0}if(this.mode=e,e==="latex"){let u,c=o.selectionIsCollapsed;mn(this,"accept"),!((l=this.virtualKeyboard)===null||l===void 0)&&l.visible&&this.executeCommand(["switchKeyboardLayer","latex-lower"]);let d=o.at(o.position);if(c)u="\\";else{const h=Dt(o.selection);u=this.model.getValue(h,"latex");const f=this.model.extractAtoms(h);f.length===1&&f[0]instanceof xi&&(u=i,c=!0),d=o.at(h[0])}const p=new ei(u,this);d.parent.addChildAfter(p,d),c?o.position=o.offsetOf(p.lastChild):o.setSelection(o.offsetOf(p.firstChild),o.offsetOf(p.lastChild))}else tr(o).forEach(u=>{u.isError=!1});if(n){const u=mt(n,this,{parseMode:a});o.collapseSelection("forward");const c=o.at(o.position);o.position=o.offsetOf(c.parent.addChildrenAfter(u,c)),s=!0}return $e(this),s}),this.mode=e}hasFocus(){return me()&&this.keyboardDelegate.hasFocus()}focus(e){var i;this.keyboardDelegate.focus(),this.model.announce("line"),((i=e==null?void 0:e.scrollIntoView)===null||i===void 0||i)&&this.scrollIntoView()}blur(){this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]}}applyStyle(e,i={}){var n,r;const a={operation:"set",suppressChangeNotifications:!1};ia(i)?a.range=i:(a.range=i.range,a.suppressChangeNotifications=(n=i.suppressChangeNotifications)!==null&&n!==void 0&&n);const o=Bu(this,e),l=(r=a.operation)!==null&&r!==void 0?r:"set";this.model.deferNotifications({content:!a.suppressChangeNotifications,type:"insertText"},()=>{a.range===void 0?this.model.selection.ranges.forEach(s=>Fo(this.model,s,o,{operation:l})):Fo(this.model,a.range,o,{operation:l})}),$e(this)}getCaretPoint(){const e=Zn(this.field);return e?{x:e.x,y:e.y}:null}setCaretPoint(e,i){const n=en(this,e,i,{bias:0});if(n<0)return!1;const r=this.model.position;return this.model.position=n,this.model.announce("move",r),$e(this),!0}getPlaceholderField(e){var i;return(i=this.placeholders.get(e))===null||i===void 0?void 0:i.field}attachNestedMathfield(){let e=!1;this.placeholders.forEach(i=>{var n,r,a,o,l,s,u,c;const d=(n=this.field)===null||n===void 0?void 0:n.querySelector(`[data-placeholder-id=${i.atom.placeholderId}]`);if(d){const p=d.getBoundingClientRect(),h=(r=this.field)===null||r===void 0?void 0:r.getBoundingClientRect(),f=.6*parseInt(window.getComputedStyle(d).fontSize);(!i.field.style.fontSize||Math.abs(f-parseFloat(i.field.style.fontSize))>=.2)&&(e=!0,i.field.style.fontSize=`${f}px`);const g=((a=p==null?void 0:p.top)!==null&&a!==void 0?a:0)-((o=h==null?void 0:h.top)!==null&&o!==void 0?o:0)+((l=this.element.offsetTop)!==null&&l!==void 0?l:0),w=((s=p==null?void 0:p.left)!==null&&s!==void 0?s:0)-((u=h==null?void 0:h.left)!==null&&u!==void 0?u:0)+((c=this.element.offsetLeft)!==null&&c!==void 0?c:0);(!i.field.style.left||Math.abs(w-parseFloat(i.field.style.left))>=1)&&(e=!0,i.field.style.left=`${w}px`),(!i.field.style.top||Math.abs(g-parseFloat(i.field.style.top))>=1)&&(e=!0,i.field.style.top=`${g}px`)}}),e&&$e(this)}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(){var e,i;this.undoManager.snapshot()&&((e=this.virtualKeyboard)===null||e===void 0||e.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),(i=this.host)===null||i===void 0||i.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}snapshotAndCoalesce(){var e,i;this.undoManager.snapshotAndCoalesce()&&((e=this.virtualKeyboard)===null||e===void 0||e.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),(i=this.host)===null||i===void 0||i.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}undo(){var e,i;this.undoManager.undo()&&((e=this.virtualKeyboard)===null||e===void 0||e.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),(i=this.host)===null||i===void 0||i.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var e,i;this.undoManager.redo()&&((e=this.virtualKeyboard)===null||e===void 0||e.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),(i=this.host)===null||i===void 0||i.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}_onSelectionDidChange(){var e,i,n;this.keyboardDelegate.setValue(this.model.getValue(this.model.selection,"latex-expanded"));const r=this.model.getAtoms(this.model.selection);if(r.length===1&&r[0].type==="placeholder"){const a=r[0];this.model.mathfield.placeholders.has(a.placeholderId)&&((e=this.model.mathfield.placeholders.get(a.placeholderId))===null||e===void 0||e.field.focus())}{const a=this.model.at(this.model.position),o=(i=a.mode)!==null&&i!==void 0?i:Ba(this.options);this.mode!==o&&(this.mode==="latex"?(mn(this,"accept",{mode:o}),this.model.position=this.model.offsetOf(a)):this.switchMode(o))}(n=this.host)===null||n===void 0||n.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0}))}onFocus(){var e,i,n;!this.focusBlurInProgress&&this.blurred&&(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),(e=this.virtualKeyboard)===null||e===void 0||e.setOptions(this.options),(i=this.virtualKeyboard)===null||i===void 0||i.enable(),this.options.virtualKeyboardMode==="onfocus"&&this.executeCommand("showVirtualKeyboard"),Hr(this),Ti(this,{interactive:!0}),(n=this.host)===null||n===void 0||n.dispatchEvent(new Event("focus",{bubbles:!1,composed:!0})),this.valueOnFocus=this.model.getValue(),this.focusBlurInProgress=!1)}onBlur(){var e,i,n;this.focusBlurInProgress||this.blurred||(this.focusBlurInProgress=!0,this.blurred=!0,this.ariaLiveText.textContent="",mn(this,"accept"),this.model.getValue()!==this.valueOnFocus&&this.executeCommand("commit"),!(!((e=window.mathlive)===null||e===void 0)&&e.sharedVirtualKeyboard)&&/onfocus|manual/.test(this.options.virtualKeyboardMode)&&this.executeCommand("hideVirtualKeyboard"),(i=this.virtualKeyboard)===null||i===void 0||i.disable(),(n=this.host)===null||n===void 0||n.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),$e(this),this.focusBlurInProgress=!1)}onCompositionStart(e){this.model.deleteAtoms(Dt(this.model.selection)),requestAnimationFrame(()=>{Ti(this);const i=Zn(this.field);i&&this.keyboardDelegate.moveTo(i.x,i.y)})}onCompositionUpdate(e){(function(i,n){const r=i.at(i.position);if(r.type==="composition")r.value=n;else{const{caret:a}=r;r.caret="";const o=new ca(n,i.mathfield,{mode:r.mode});o.caret=a,r.parent.addChildAfter(o,r),i.position+=1}})(this.model,e),$e(this)}onCompositionEnd(e){(function(i){const n=i.at(i.position);n.type==="composition"&&(n.parent.removeChild(n),i.position-=1)})(this.model),Ko(this,e,{simulateKeystroke:!0})}onResize(){Hr(this)}onWheel(e){const i=5*e.deltaX;if(!Number.isFinite(i)||i===0)return;const n=this.field;i<0&&n.scrollLeft===0||i>0&&n.offsetWidth+n.scrollLeft>=n.scrollWidth||(n.scrollBy({top:0,left:i}),e.preventDefault(),e.stopPropagation())}}var ro,ao;const Vu=document.createElement("template");Vu.innerHTML=`<style>
:host { display: block; position: relative; overflow: hidden auto;}
:host([hidden]) { display: none; }
:host([disabled]) { opacity:  .5; }
:host(:focus), :host(:focus-within) {
  outline: Highlight auto 1px;    /* For Firefox */
  outline: -webkit-focus-ring-color auto 1px;
}
:host([readonly]), :host([read-only]) { outline: none; }
</style>
<div></div><slot style="display:none"></slot>`;const ce=new WeakMap;class wt extends HTMLElement{constructor(e){kt(),super(),this.attachShadow({mode:"open"}),this.shadowRoot.append(Vu.content.cloneNode(!0));const i=this.shadowRoot.querySelector("slot:not([name])");this._slotValue=i.assignedNodes().map(n=>n.nodeType===3?n.textContent:"").join("").trim(),e&&this.setOptions(e),this.shadowRoot.host.addEventListener("pointerdown",n=>this.onPointerDown(),!0),this.shadowRoot.host.addEventListener("focus",()=>{var n;return(n=this._mathfield)===null||n===void 0?void 0:n.focus()},!0),this.shadowRoot.host.addEventListener("blur",()=>{var n;return(n=this._mathfield)===null||n===void 0?void 0:n.blur()},!0)}static get optionsAttributes(){return{"default-mode":"string","fonts-directory":"string","sounds-directory":"string","horizontal-spacing-scale":"string","math-mode-space":"string","inline-shortcut-timeout":"string","keypress-vibration":"on/off","keypress-sound":"string","plonk-sound":"string","letter-shape-style":"string",locale:"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","speech-engine":"string","speech-engine-rate":"string","speech-engine-voice":"string","text-to-speech-markup":"string","text-to-speech-rules":"string","virtual-keyboard-layout":"string","virtual-keyboard-mode":"string","virtual-keyboard-theme":"string","virtual-keyboards":"string","use-shared-virtual-keyboard":"boolean","shared-virtual-keyboard-target-origin":"string"}}static get observedAttributes(){return[...Object.keys(wt.optionsAttributes),"disabled","readonly","read-only"]}onPointerDown(){window.addEventListener("pointerup",e=>{e.target===this&&this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}))},{once:!0})}getPlaceholderField(e){var i;return(i=this._mathfield)===null||i===void 0?void 0:i.getPlaceholderField(e)}addEventListener(e,i,n){return super.addEventListener(e,i,n)}removeEventListener(e,i,n){super.removeEventListener(e,i,n)}get mode(){var e,i;return(i=(e=this._mathfield)===null||e===void 0?void 0:e.mode)!==null&&i!==void 0?i:"math"}set mode(e){this._mathfield&&(this._mathfield.mode=e)}get computeEngine(){if(this._mathfield)return this._mathfield.computeEngine}get expression(){if(this._mathfield)return this._mathfield.expression}get errors(){var e,i;return(i=(e=this._mathfield)===null||e===void 0?void 0:e.errors)!==null&&i!==void 0?i:[]}getOptions(e){return this._mathfield?pn(this._mathfield.options,e):ce.has(this)?pn(_o(wo(),ce.get(this).options),e):null}getOption(e){return this.getOptions([e])[e]}setOptions(e){if(this._mathfield)this._mathfield.setOptions(e),this._mathfield.placeholders.forEach(i=>{i.field.setOptions({...e,virtualKeyboardMode:"onfocus",readOnly:!1})});else if(ce.has(this)){const i={...ce.get(this).options,...e};ce.set(this,{...ce.get(this),selection:{ranges:i.readOnly?[[0,0]]:[[0,-1]]},options:i})}else ce.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e});(function(i){const n=wo(),r=i.getOptions();Object.keys(wt.optionsAttributes).forEach(a=>{const o=fi(a);wt.optionsAttributes[a]==="on/off"?n[o]!==r[o]?i.setAttribute(a,r[o]?"on":"off"):i.removeAttribute(a):n[o]!==r[o]&&(wt.optionsAttributes[a]==="boolean"?r[o]?i.setAttribute(a,""):i.removeAttribute(a):typeof r[o]!="string"&&typeof r[o]!="number"||i.setAttribute(a,r[o].toString()))})})(this)}executeCommand(e){var i,n;return(n=(i=this._mathfield)===null||i===void 0?void 0:i.executeCommand(e))!==null&&n!==void 0&&n}getValue(e,i,n){var r,a;if(this._mathfield)return this._mathfield.model.getValue(e,i,n);if(ce.has(this)){let o,l,s;if(Tr(e)?([o,l]=e.ranges[0],s=i):ia(e)?([o,l]=e,s=i):hi(e)&&hi(i)?(o=e,l=i,s=n):(o=0,l=-1,s=e),(s===void 0||s==="latex")&&o===0&&l===-1)return(a=(r=ce.get(this).value)!==null&&r!==void 0?r:this.textContent)!==null&&a!==void 0?a:""}return""}setValue(e,i){if(this._mathfield&&e!==void 0)return void this._mathfield.setValue(e,i);if(ce.has(this)){const r=ce.get(this).options;return void ce.set(this,{value:e,selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:r})}const n=Nr(this);ce.set(this,{value:e,selection:{ranges:n.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:n})}hasFocus(){var e,i;return(i=(e=this._mathfield)===null||e===void 0?void 0:e.hasFocus())!==null&&i!==void 0&&i}get virtualKeyboardState(){var e,i;return(i=(e=this._mathfield)===null||e===void 0?void 0:e.virtualKeyboardState)!==null&&i!==void 0?i:"hidden"}set virtualKeyboardState(e){this._mathfield&&(this._mathfield.virtualKeyboardState=e)}focus(){super.focus()}blur(){var e;(e=this._mathfield)===null||e===void 0||e.blur(),super.blur()}select(){var e;(e=this._mathfield)===null||e===void 0||e.select()}insert(e,i){var n,r;return(r=(n=this._mathfield)===null||n===void 0?void 0:n.insert(e,i))!==null&&r!==void 0&&r}applyStyle(e,i){var n;return(n=this._mathfield)===null||n===void 0?void 0:n.applyStyle(e,i)}get caretPoint(){var e,i;return(i=(e=this._mathfield)===null||e===void 0?void 0:e.getCaretPoint())!==null&&i!==void 0?i:null}set caretPoint(e){var i;e&&((i=this._mathfield)===null||i===void 0||i.setCaretPoint(e.x,e.y))}setCaretPoint(e,i){var n,r;return(r=(n=this._mathfield)===null||n===void 0?void 0:n.setCaretPoint(e,i))!==null&&r!==void 0&&r}offsetFromPoint(e,i){return this._mathfield?en(this._mathfield,e,i):-1}connectedCallback(){var e,i;this.hasAttribute("role")||this.setAttribute("role","textbox"),this.setAttribute("dir","ltr"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("contenteditable","true"),this.setAttribute("aria-multiline","false"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");const n=this.shadowRoot.querySelector("slot:not([name])");try{this._style=n.assignedElements().filter(a=>a.tagName.toLowerCase()==="style").map(a=>a.textContent).join("")}catch{}if(this._style){const a=document.createElement("style");a.textContent=this._style,this.shadowRoot.appendChild(a)}try{const a=n.assignedElements().filter(o=>o.tagName.toLowerCase()==="script"&&o.type==="application/json").map(o=>o.textContent).join("");a&&this.setOptions(JSON.parse(a))}catch{}let r="";if(r=this.hasAttribute("value")?(e=this.getAttribute("value"))!==null&&e!==void 0?e:"":(i=n==null?void 0:n.assignedNodes().map(a=>a.nodeType===3?a.textContent:"").join("").trim())!==null&&i!==void 0?i:"",this._mathfield=new md(this.shadowRoot.querySelector(":host > div"),{eventSink:this,...ce.has(this)?ce.get(this).options:Nr(this),value:r}),!ce.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(const a of Object.keys(wt.optionsAttributes))this.upgradeProperty(fi(a))}this._mathfield&&this._mathfield.model?(ce.has(this)&&this._mathfield.model.deferNotifications({content:!1,selection:!1},()=>{const a=ce.get(this).value;a!==void 0&&this._mathfield.setValue(a),this._mathfield.model.selection=ce.get(this).selection,ce.delete(this)}),n.addEventListener("slotchange",a=>{if(a.target!==n)return;const o=n.assignedNodes().map(l=>l.nodeType===3?l.textContent:"").join("").trim();o!==this._slotValue&&(this._mathfield?this._mathfield.setValue(o):this.value=o)}),this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))):this._mathfield=null}disconnectedCallback(){if(this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})),!this._mathfield)return;const e=pn(this._mathfield.options,Object.keys(wt.optionsAttributes).map(i=>fi(i)));ce.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,options:e}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){const i=this[e];delete this[e],e!=="readonly"&&e!=="read-only"||(e="readOnly"),this[e]=i}}attributeChangedCallback(e,i,n){if(i===n)return;const r=n!==null;switch(e){case"disabled":this.disabled=r;break;case"read-only":case"readonly":this.readOnly=r}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){const i=Boolean(e);i?(this.setAttribute("readonly",""),this.setAttribute("disabled","")):(this.removeAttribute("readonly"),this.removeAttribute("read-only"),this.removeAttribute("disabled")),this.setAttribute("aria-disabled",i?"true":"false"),this.setOptions({readOnly:i})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){const i=Boolean(e);i?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.setAttribute("aria-disabled",i?"true":"false"),this.setOptions({readOnly:i})}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this.getOption("defaultMode")}set defaultMode(e){this.setOptions({defaultMode:e})}get fontsDirectory(){return this.getOption("fontsDirectory")}set fontsDirectory(e){this.setOptions({fontsDirectory:e})}get mathModeSpace(){return this.getOption("fontsDirectory")}set mathModeSpace(e){this.setOptions({mathModeSpace:e})}get inlineShortcutTimeout(){return this.getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this.setOptions({inlineShortcutTimeout:e})}get keypressVibration(){return this.getOption("keypressVibration")}set keypressVibration(e){this.setOptions({keypressVibration:e})}get keypressSound(){return this.getOption("keypressSound")}set keypressSound(e){this.setOptions({keypressSound:e})}get plonkSound(){var e;return(e=this.getOption("plonkSound"))!==null&&e!==void 0?e:null}set plonkSound(e){this.setOptions({plonkSound:e})}get letterShapeStyle(){return this.getOption("letterShapeStyle")}set letterShapeStyle(e){this.setOptions({letterShapeStyle:e})}get locale(){return this.getOption("locale")}set locale(e){this.setOptions({locale:e})}get readOnly(){return this.getOption("readOnly")}set readOnly(e){this.setOptions({readOnly:e})}get removeExtraneousParentheses(){return this.getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this.setOptions({removeExtraneousParentheses:e})}get smartFence(){return this.getOption("smartFence")}set smartFence(e){this.setOptions({smartFence:e})}get smartMode(){return this.getOption("smartMode")}set smartMode(e){this.setOptions({smartMode:e})}get smartSuperscript(){return this.getOption("smartSuperscript")}set smartSuperscript(e){this.setOptions({smartSuperscript:e})}get speechEngine(){return this.getOption("speechEngine")}set speechEngine(e){this.setOptions({speechEngine:e})}get speechEngineRate(){return this.getOption("speechEngineRate")}set speechEngineRate(e){this.setOptions({speechEngineRate:e})}get speechEngineVoice(){return this.getOption("speechEngineVoice")}set speechEngineVoice(e){this.setOptions({speechEngineVoice:e})}get textToSpeechMarkup(){return this.getOption("textToSpeechMarkup")}set textToSpeechMarkup(e){this.setOptions({textToSpeechMarkup:e})}get textToSpeechRules(){return this.getOption("textToSpeechRules")}set textToSpeechRule(e){this.setOptions({textToSpeechRules:e})}get virtualKeyboardLayout(){return this.getOption("virtualKeyboardLayout")}set virtualKeyboardLayout(e){this.setOptions({virtualKeyboardLayout:e})}get virtualKeyboardMode(){return this.getOption("virtualKeyboardMode")}set virtualKeyboardMode(e){this.setOptions({virtualKeyboardMode:e})}get virtualKeyboardTheme(){return this.getOption("virtualKeyboardTheme")}set virtualKeyboardTheme(e){this.setOptions({virtualKeyboardTheme:e})}get virtualKeyboards(){return this.getOption("virtualKeyboards")}set virtualKeyboards(e){this.setOptions({virtualKeyboards:e})}get useSharedVirtualKeyboard(){return this.getOption("useSharedVirtualKeyboard")}set useSharedVirtualKeyboard(e){this.setOptions({useSharedVirtualKeyboard:e})}get sharedVirtualKeyboardTargetOrigin(){return this.getOption("sharedVirtualKeyboardTargetOrigin")}set sharedVirtualKeyboardTargetOrigin(e){this.setOptions({sharedVirtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:ce.has(this)?ce.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield?this._mathfield.model.selection=e:ce.has(this)?ce.set(this,{...ce.get(this),selection:e}):ce.set(this,{value:void 0,selection:e,options:Nr(this)})}get selectionIsCollapsed(){const e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:ce.has(this)?ce.get(this).selection.ranges[0][0]:0}set position(e){this._mathfield&&(this._mathfield.model.position=e),ce.has(this)?ce.set(this,{...ce.get(this),selection:{ranges:[[e,e]]}}):ce.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:Nr(this)})}getOffsetDepth(e){var i,n;return this._mathfield&&(n=((i=this._mathfield.model.at(e))===null||i===void 0?void 0:i.treeDepth)-2)!==null&&n!==void 0?n:0}get lastOffset(){var e,i;return(i=(e=this._mathfield)===null||e===void 0?void 0:e.model.lastOffset)!==null&&i!==void 0?i:-1}}function fi(t){return t.toLowerCase().replace(/[^a-zA-Z\d]+(.)/g,(e,i)=>i.toUpperCase())}function Nr(t){const e={},i=wt.optionsAttributes;return Object.keys(i).forEach(n=>{if(t.hasAttribute(n)){const r=t.getAttribute(n);i[n]==="boolean"?e[fi(n)]=!0:i[n]==="on/off"?e[fi(n)]=r==="on"||r!=="off"&&void 0:i[n]==="number"?e[fi(n)]=Number.parseFloat(r!=null?r:"0"):e[fi(n)]=r}else i[n]==="boolean"&&(e[fi(n)]=!1)}),e}function yd(t){var e,i;return!((e=window.mathlive)===null||e===void 0)&&e.sharedVirtualKeyboard||([...document.querySelectorAll("math-field")].some(n=>n.isConnected&&n._mathfield&&n._mathfield._virtualKeyboard),window.mathlive||(window.mathlive={}),window.mathlive.sharedVirtualKeyboard=new Yo(t)),(i=window.mathlive)===null||i===void 0?void 0:i.sharedVirtualKeyboard}function pd(t,e){var i;(e=e!=null?e:{}).mathstyle=(i=e.mathstyle)!==null&&i!==void 0?i:"displaystyle";const n=Pi(),r=new V("root",n);r.body=mt(t,n,{parseMode:"math",mathstyle:e.mathstyle});const a=r.render(new se({registers:n.registers,renderPlaceholder:()=>new W(160,{maxFontSize:1})},{fontSize:5,letterShapeStyle:n.letterShapeStyle},e.mathstyle));return a?(aa(a),Ho(a),bn(a,{classes:"ML__mathlive"}).toMarkup()):""}function vd(t){return ql(t,Pi())}function fd(t,e={}){return ga(mt(t,Pi(),{parseMode:"math",args:()=>"",mathstyle:"displaystyle"}),e)}function gd(t,e={}){return hn(mt(t,Pi(),{parseMode:"math",mathstyle:"displaystyle"}),e)}function xd(t){kt(),bd(document.body,t)}function bd(t,e){var i,n,r;const a=function(l){if(typeof l=="string"&&me()){const s=document.getElementById(l);if(s===null)throw new Error(`The element with ID "${l}" could not be found.`);return s}return typeof l=="string"?null:l}(t);if(!a)return;const o=e!=null?e:{};(i=o.renderToMarkup)!==null&&i!==void 0||(o.renderToMarkup=pd),(n=o.renderToMathML)!==null&&n!==void 0||(o.renderToMathML=fd),(r=o.renderToSpeakableText)!==null&&r!==void 0||(o.renderToSpeakableText=gd),ec(a,o)}me()&&!(!((ro=window.customElements)===null||ro===void 0)&&ro.get("math-field"))&&(window.MathfieldElement=wt,window.mathlive={version:"0.79.2"},(ao=window.customElements)===null||ao===void 0||ao.define("math-field",wt));const kd={mathlive:"0.79.2",computeEngine:"0.6.0"},_d={latexToAsciiMath:Wl,asciiMathToLatex:Zl,FUNCTIONS:Vi.FUNCTIONS,MATH_SYMBOLS:Vi.MATH_SYMBOLS,TEXT_SYMBOLS:Vi.TEXT_SYMBOLS,ENVIRONMENTS:Vi.ENVIRONMENTS,DEFAULT_KEYBINDINGS:Vi.DEFAULT_KEYBINDINGS,getKeybindingMarkup:Vi.getKeybindingMarkup};export{as as ComputeEngine,wt as MathfieldElement,ec as autoRenderMathInElement,pd as convertLatexToMarkup,fd as convertLatexToMathMl,gd as convertLatexToSpeakableText,_d as debug,ea as getVars,Mc as isEnvironmentEntry,Va as isInfixEntry,Ka as isMatchfixEntry,Ps as isPostfixEntry,Os as isPrefixEntry,Fs as isSymbolEntry,yd as makeSharedVirtualKeyboard,xd as renderMathInDocument,bd as renderMathInElement,vd as validateLatex,kd as version};
